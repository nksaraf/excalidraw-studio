/*! For license information please see excalidraw.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.Excalidraw=t(require("react"),require("react-dom")):e.Excalidraw=t(e.React,e.ReactDOM)}(window,(function(e,t){return function(e){function t(t){for(var n,o,a=t[0],i=t[1],s=0,c=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&c.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(l&&l(t);c.length;)c.shift()()}var n={},r={0:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(){return Promise.resolve()},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonpExcalidraw=window.webpackJsonpExcalidraw||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=i;return o(o.s=100)}([function(t,n){t.exports=e},function(e){e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},function(e,n){e.exports=t},function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(74)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(15))},function(e,t,n){var r,o=n(88),a=n(21),i=n(90),s=n(91),l=n(92);"undefined"!=typeof ArrayBuffer&&(r=n(93));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=c||u;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=o(p),f={type:"error",data:"parser error"},m=n(94);function g(e,t,n){for(var r=new Array(e.length),o=s(e.length,n),a=function(e,n,o){t(n,(function(t,n){r[e]=n,o(t,r)}))},i=0;i<e.length;i++)a(i,e[i],o)}t.encodePacket=function(e,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,a=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=p[e.type];for(var s=0;s<a.length;s++)i[s+1]=a[s];return r(i.buffer)}(e,n,o);if(void 0!==m&&a instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}(e,n,r);var o=new Uint8Array(1);o[0]=p[e.type];var a=new m([o.buffer,e.data]);return r(a)}(e,n,o);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,o);var i=p[e.type];return void 0!==e.data&&(i+=r?l.encode(String(e.data),{strict:!1}):String(e.data)),o(""+i)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if(void 0!==m&&e.data instanceof m){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];n(o+e)},a.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var i=new Uint8Array(e.data),s=new Array(i.length),l=0;l<i.length;l++)s[l]=i[l];r=String.fromCharCode.apply(null,s)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=l.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return f;var o=e.charAt(0);return Number(o)==o&&h[o]?e.length>1?{type:h[o],data:e.substring(1)}:{type:h[o]}:f}o=new Uint8Array(e)[0];var a=i(e,1);return m&&"blob"===n&&(a=new m([a])),{type:h[o],data:a}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=r.decode(e.substr(1));return"blob"===t&&m&&(o=new m([o])),{type:n,data:o}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var o=a(e);if(n&&o)return m&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,(function(e,r){t.encodePacket(e,!!o&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===e)return r(f,0,1);for(var a,i,s="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"===u){if(""===s||s!=(a=Number(s)))return r(f,0,1);if(s!=(i=e.substr(l+1,a)).length)return r(f,0,1);if(i.length){if(o=t.decodePacket(i,n,!1),f.type===o.type&&f.data===o.data)return r(f,0,1);if(!1===r(o,l+a,c))return}l+=a,s=""}else s+=u}return""!==s?r(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),a=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);n=r.buffer}o[a++]=t?0:1;var s=n.byteLength.toString();for(i=0;i<s.length;i++)o[a++]=parseInt(s[i]);o[a++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)o[a++]=r[i]})),n(o.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var a=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(a.length+1);for(o=0;o<a.length;o++)i[o]=parseInt(a[o]);if(i[a.length]=255,m){var s=new m([t.buffer,i.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,a=[];o.byteLength>0;){for(var s=new Uint8Array(o),l=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return r(f,0,1);c+=s[u]}o=i(o,2+c.length),c=parseInt(c);var d=i(o,0,c);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var p=new Uint8Array(d);d="";for(u=0;u<p.length;u++)d+=String.fromCharCode(p[u])}a.push(d),o=i(o,c)}var h=a.length;a.forEach((function(e,o){r(t.decodePacket(e,n,!0),o,h)}))}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(76)("socket.io-parser"),o=n(79),a=n(80),i=n(16),s=n(17);function l(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=l,t.Decoder=d;var c=t.ERROR+'"encode error"';function u(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===o)return c;n+=o}return r("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function p(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}l.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){a.removeBlobs(e,(function(e){var n=a.deconstructPacket(e),r=u(n.packet),o=n.buffers;o.unshift(r),t(o)}))}(e,n):n([u(e)])},o(d.prototype),d.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,o={type:Number(e.charAt(0))};if(null==t.types[o.type])return h("unknown packet type "+o.type);if(t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type){for(var a="";"-"!==e.charAt(++n)&&(a+=e.charAt(n),n!=e.length););if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(a)}if("/"===e.charAt(n+1))for(o.nsp="";++n;){if(","===(l=e.charAt(n)))break;if(o.nsp+=l,n===e.length)break}else o.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(o.id="";++n;){var l;if(null==(l=e.charAt(n))||Number(l)!=l){--n;break}if(o.id+=e.charAt(n),n===e.length)break}o.id=Number(o.id)}if(e.charAt(++n)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n));if(!(!1!==c&&(o.type===t.ERROR||i(c))))return h("invalid payload");o.data=c}return r("decoded %s as %j",e,o),o}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){"use strict";(function(e){var r=n(81),o=n(82),a=n(83);function i(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return R(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var a,i=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*i}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function k(e,t,n,r){return W(R(t,e.length-n),e,n,r)}function w(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return W(H(t),e,n,r)}function C(e,t,n,r){return W(function(e,t){for(var n,r,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,o=n%256,a.push(o),a.push(r);return a}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a,i,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[o+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&(l=(15&c)<<12|(63&a)<<6|63&i)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[o+1],i=e[o+2],s=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),s=Math.min(a,i),c=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],i=u[d];break}return a<i?-1:i<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=B(e[a]);return o}function M(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function z(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,o,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-n,4);o<a;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function L(e,t,n,r,o,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,a){return a||L(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,a){return a||L(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||z(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||z(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||z(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=t,o=1,a=this[e+--r];r>0&&(o*=256);)a+=this[e+--r]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||z(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||z(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||_(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||_(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);_(this,e,t,n,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);_(this,e,t,n,o-1,-o)}var a=n-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var i=l.isBuffer(e)?e:R(new l(e,r).toString()),s=i.length;for(a=0;a<n-t;++a)this[a+t]=i[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function R(e,t){var n;t=t||1/0;for(var r=e.length,o=null,a=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(7))},function(e,t,n){var r=n(86);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){var r=n(4),o=n(12);function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=a,o(a.prototype),a.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),a=e.indexOf("]");-1!=o&&-1!=a&&(e=e.substring(0,o)+e.substring(o,a).replace(/:/g,";")+e.substring(a,e.length));for(var i=n.exec(e||""),s={},l=14;l--;)s[r[l]]=i[l]||"";return-1!=o&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(9).Buffer)},function(e,t,n){var r=n(84),o=n(24),a=n(25),i=n(8),s=n(26),l=n(27),c=n(3)("socket.io-client:manager"),u=n(23),d=n(99),p=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||i;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var a=s(n,"open",(function(){o.onopen(),e&&e()})),i=s(n,"error",(function(t){if(c("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l);var u=setTimeout((function(){c("connect attempt timed out after %d",l),a.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",l)}),l);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(a),this.subs.push(i),this},h.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new o(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",a),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&a()}function a(){~u(r.connecting,n)||r.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(10),o=n(87),a=n(95),i=n(96);t.polling=function(e){var t=!1,n=!1,i=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,l=location.port;l||(l=s?443:80),t=e.hostname!==location.hostname||l!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!i)throw new Error("JSONP disabled");return new a(e)},t.websocket=i},function(e,t,n){var r=n(11),o=n(5),a=n(4),i=n(6),s=n(22),l=n(3)("engine.io-client:polling");e.exports=u;var c=null!=new(n(10))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}i(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){l("pre-pause polling complete"),--r||n()}))),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){l("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;l("polling got data %s",e);a.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(89),o=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.exports=function e(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var o=0,s=n.length;o<s;o++)if(e(n[o]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||a&&n instanceof Blob||i&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)&&e(n[l]))return!0;return!1}}).call(this,n(9).Buffer)},function(e,t,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a={},i=0,s=0;function l(e){var t="";do{t=o[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=l(+new Date);return e!==r?(i=0,r=e):e+"."+l(i++)}for(;s<64;s++)a[o[s]]=s;c.encode=l,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+a[e.charAt(s)];return t},e.exports=c},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(8),o=n(25),a=n(98),i=n(26),s=n(27),l=n(3)("socket.io-client:socket"),c=n(5),u=n(21);e.exports=h;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[i(e,"open",s(this,"onopen")),i(e,"packet",s(this,"onpacket")),i(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},h.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=a(arguments);l("sending ack %j",o),t.packet({type:u(o)?r.BINARY_ACK:r.ACK,id:e,data:o})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){for(var r=self.crypto||self.msCrypto,o="-_",a=36;a--;)o+=a.toString(36);for(a=36;a---10;)o+=a.toString(36).toUpperCase();e.exports=function(e){var t="",n=r.getRandomValues(new Uint8Array(e||21));for(a=e||21;a--;)t+=o[63&n[a]];return t}},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,h=function(){return c.Date.now()};function f(e,t,n){var r,o,a,i,s,l,c=0,u=!1,f=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,a=o;return r=o=void 0,c=t,i=e.apply(a,n)}function b(e){return c=e,s=setTimeout(w,t),u?v(e):i}function k(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-c>=a}function w(){var e=h();if(k(e))return E(e);s=setTimeout(w,function(e){var n=t-(e-l);return f?p(n,a-(e-c)):n}(e))}function E(e){return s=void 0,y&&r?v(e):(r=o=void 0,i)}function S(){var e=h(),n=k(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return b(l);if(f)return s=setTimeout(w,t),v(l)}return void 0===s&&(s=setTimeout(w,t)),i}return t=g(t)||0,m(n)&&(u=!!n.leading,a=(f="maxWait"in n)?d(g(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},S.flush=function(){return void 0===s?i:E(h())},S}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=o.test(e);return s||a.test(e)?i(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return m(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),f(e,t,{leading:r,maxWait:t,trailing:o})}}).call(this,n(7))},function(e){e.exports=JSON.parse('{"labels":{"paste":"Paste","selectAll":"Select all","moveCanvas":"Move canvas","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With Background","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","createRoom":"Share a live-collaboration session","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","roomDialog":"Start live collaboration","createNewRoom":"Create new room","toggleFullScreen":"Toggle full screen","toggleZenMode":"Toggle zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content."},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","linearElementMulti":"Click on last point or press Escape or Enter to finish","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_persistenceWarning":"Note that the scene data is shared across collaborators in a P2P fashion, and not persisted to our server. Thus, if all of you disconnect, you will lose the data unless you export it to a file or a shareable link.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version."},"errorDialog":{"title":"Error"},"shortcutsDialog":{"title":"Keyboard shortcuts","shapes":"Shapes","or":"or","click":"click","drag":"drag","curvedArrow":"Curved arrow","curvedLine":"Curved line","editor":"Editor","view":"View","blog":"Read our blog","howto":"Follow our guides","github":"Found an issue? Submit","textNewLine":"Add new line (text)","textFinish":"Finish editing (text)","zoomToFit":"Zoom to fit all elements"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"charts":{"noNumericColumn":"You pasted a spreadsheet without a numeric column.","tooManyColumns":"You pasted a spreadsheet with more than two columns."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":" ","copy":"","copyAsPng":"  ","copyAsSvg":"  ","bringForward":" ~","sendToBack":" ","bringToFront":"~ ","sendBackward":" ","delete":"","copyStyles":" ","pasteStyles":" ","stroke":"","background":"","fill":"","strokeWidth":"  ","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"","opacity":"","textAlign":"  ","fontSize":"  ","fontFamily":" ","onlySelected":" ","withBackground":" ","addWatermark":"","handDrawn":"  ","normal":"","code":"","small":"","medium":"","large":"","veryLarge":" ","solid":"","hachure":"","crossHatch":"","thin":"","bold":" ","left":"","center":"","right":"","extraBold":"  ","architect":"","artist":"","cartoonist":"","fileTitle":"  ","colorPicker":"  ","canvasBackground":"  ","drawingCanvas":"  ","layers":"","actions":"","language":"","createRoom":"     ","duplicateSelection":"","untitled":"","name":"","yourName":"","madeWithExcalidraw":"","group":"","ungroup":""},"buttons":{"clearReset":"  ","export":"","exportToPng":"  PNG","exportToSvg":"  SVG","copyToClipboard":"  ","copyPngToClipboard":" PNG  ","save":"","saveAs":"","load":"","getShareableLink":"    ","close":"","selectLanguage":"  ","scrollBackToContent":"   ","zoomIn":"","zoomOut":"","resetZoom":" ","menu":"","done":"","edit":"","undo":"","redo":"","roomDialog":"   ","createNewRoom":"  ","toggleFullScreen":"   ","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"    .   ?","couldNotCreateShareableLink":"     .","couldNotLoadInvalidFile":"      ","importBackendFailed":"     .","cannotExportEmptyCanvas":"      .","couldNotCopyToClipboard":"   .     Chrome.","decryptFailed":"     .","uploadedSecurly":"        ,  ,   Excalidraw        ."},"toolBar":{"selection":"","draw":"","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":"     "},"headings":{"canvasActions":"  ","selectedShapeActions":" ","shapes":""},"hints":{"linearElement":",     ,    ","freeDraw":"","linearElementMulti":"      Escape  Enter,   ","resize":"","rotate":"   ,   SHIFT,   ","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":" .  ","headingMain_button":"  .","clearCanvasMessage":"   ,  ","clearCanvasMessage_button":"  .","clearCanvasCaveat":"        ","trackedToSentry_pre":"   ","trackedToSentry_post":"     .","openIssueMessage_pre":"           .      , ,       ","openIssueMessage_button":"  .","openIssueMessage_post":" ,   -,       GitHub.","sceneContent":"  :"},"roomDialog":{"desc_intro":"            .","desc_privacy":"  ,       ,       .          .","button_startSession":" ","button_stopSession":"  ","desc_inProgressIntro":"       .","desc_persistenceWarning":"","desc_shareLink":"    ,      :","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":"   ","shapes":"","or":"","click":"","drag":"","curvedArrow":" ","curvedLine":" ","editor":"","view":"","blog":"  ","howto":"  ","github":" ? ","textNewLine":"    ()","textFinish":"  ()","zoomToFit":""},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Einfgen","selectAll":"Alle auswhlen","copy":"Kopieren","copyAsPng":"In Zwischenablage kopieren (PNG)","copyAsSvg":"In Zwischenablage kopieren (SVG)","bringForward":"Nach vorne","sendToBack":"In den Hintergrund","bringToFront":"In den Vordergrund","sendBackward":"Nach hinten","delete":"Lschen","copyStyles":"Formatierung kopieren","pasteStyles":"Formatierung bernehmen","stroke":"Strich","background":"Hintergrund","fill":"Fllung","strokeWidth":"Strichstrke","strokeStyle":"Konturstil","strokeStyle_solid":"Durchgezogen","strokeStyle_dashed":"Gestrichelt","strokeStyle_dotted":"Gepunktet","sloppiness":"Sauberkeit","opacity":"Deckkraft","textAlign":"Textausrichtung","fontSize":"Schriftgre","fontFamily":"Schriftfamilie","onlySelected":"Nur ausgewhlte","withBackground":"Mit Hintergrund","addWatermark":"\\"Made with Excalidraw\\" hinzufgen","handDrawn":"Handgezeichnet","normal":"Normal","code":"Code","small":"Klein","medium":"Mittel","large":"Gro","veryLarge":"Sehr gro","solid":"Deckend","hachure":"Schraffiert","crossHatch":"Kreuzschraffiert","thin":"Dnn","bold":"Fett","left":"Links","center":"Zentriert","right":"Rechts","extraBold":"Extra Fett","architect":"Architekt","artist":"Knstler","cartoonist":"Karikaturist","fileTitle":"Dateiname","colorPicker":"Farbauswhler","canvasBackground":"Zeichenflchenhintergrund","drawingCanvas":"Leinwand","layers":"Ebenen","actions":"Aktionen","language":"Sprache","createRoom":"Live-Kollaborationssitzung teilen","duplicateSelection":"Duplizieren","untitled":"Unbenannt","name":"Name","yourName":"Dein Name","madeWithExcalidraw":"Made with Excalidraw","group":"Auswahl gruppieren","ungroup":"Gruppierung aufheben"},"buttons":{"clearReset":"Zeichenflche lschen & Hintergrundfarbe zurcksetzen","export":"Exportieren","exportToPng":"Als PNG exportieren","exportToSvg":"Als SVG exportieren","copyToClipboard":"In Zwischenablage kopieren","copyPngToClipboard":"PNG in die Zwischenablage kopieren","save":"Speichern","saveAs":"Speichern unter","load":"Laden","getShareableLink":"Teilbaren Link erhalten","close":"Schlieen","selectLanguage":"Sprache auswhlen","scrollBackToContent":"Zurck zum Inhalt","zoomIn":"Vergrern","zoomOut":"Verkleinern","resetZoom":"Zoom zurcksetzen","menu":"Men","done":"Fertig","edit":"Bearbeiten","undo":"Rckgngig machen","redo":"Wiederholen","roomDialog":"Live-Kollaborationssitzung starten","createNewRoom":"Neuen Raum erstellen","toggleFullScreen":"Vollbild umschalten","toggleZenMode":"Zen-Modus umschalten","exitZenMode":"Zen-Modus verlassen"},"alerts":{"clearReset":"Dies wird die ganze Zeichenflche lschen. Bist du dir sicher?","couldNotCreateShareableLink":"Konnte keinen teilbaren Link erstellen.","couldNotLoadInvalidFile":"Ungltige Datei konnte nicht geladen werden","importBackendFailed":"Import vom Server ist fehlgeschlagen.","cannotExportEmptyCanvas":"Leere Zeichenflche kann nicht exportiert werden.","couldNotCopyToClipboard":"Konnte nicht in die Zwischenablage kopieren. Versuch es mit dem Chrome Browser.","decryptFailed":"Daten konnten nicht entschlsselt werden.","uploadedSecurly":"Der Upload wurde mit Ende-zu-Ende-Verschlsselung gespeichert. Weder Excalidraw noch Dritte knnen den Inhalt einsehen."},"toolBar":{"selection":"Auswahl","draw":"Freies Zeichnen","rectangle":"Rechteck","diamond":"Raute","ellipse":"Ellipse","arrow":"Pfeil","line":"Linie","text":"Text","lock":"Ausgewhltes Werkzeug nach Zeichnen aktiv lassen"},"headings":{"canvasActions":"Aktionen fr Zeichenflche","selectedShapeActions":"Aktionen fr Auswahl","shapes":"Formen"},"hints":{"linearElement":"Klicken fr Linie mit mehreren Punkten, Ziehen fr einzelne Linie","freeDraw":"Klicke und ziehe. Lass los, wenn du fertig bist","linearElementMulti":"Zum Beenden auf den letzten Punkt klicken oder Escape oder Eingabe drcken","resize":"Du kannst die Proportionen einschrnken, indem du SHIFT whrend der Grennderung gedrckt hltst. Halte ALT gedrckt, um die Gre vom Zentrum aus zu ndern","rotate":"Du kannst Winkel einschrnken, indem du SHIFT whrend der Drehung gedrckt hltst","lineEditor_info":"Doppelklicken oder Eingabetaste drcken, um Punkte zu bearbeiten","lineEditor_pointSelected":"Drcke Lschen, um Punkt zu entfernen oder ziehe, um ihn zu verschieben","lineEditor_nothingSelected":"Whle einen Punkt zum Verschieben oder Lschen oder halte die Alt-Taste gedrckt und klicke, um neue Punkte hinzuzufgen"},"errorSplash":{"headingMain_pre":"Es ist ein Fehler aufgetreten. Versuche ","headingMain_button":"die Seite neu zu laden.","clearCanvasMessage":"Wenn das Neuladen nicht funktioniert, versuche ","clearCanvasMessage_button":"die Zeichenflche zu lschen.","clearCanvasCaveat":" Dies wird zum Verlust von Daten fhren ","trackedToSentry_pre":"Der Fehler mit der Kennung ","trackedToSentry_post":" wurde in unserem System registriert.","openIssueMessage_pre":"Wir waren sehr vorsichtig und haben deine Zeichnungsinformationen nicht in die Fehlerinformationen aufgenommen. Wenn deine Zeichnung nicht privat ist, untersttze uns bitte ber unseren ","openIssueMessage_button":"Bug-Tracker.","openIssueMessage_post":" Bitte teile die unten stehenden Informationen mit uns im GitHub Issue (Kopieren und Einfgen).","sceneContent":"Zeichnungsinhalt:"},"roomDialog":{"desc_intro":"Du kannst Leute zu deiner aktuellen Zeichnung einladen um mit ihnen zusammenzuarbeiten.","desc_privacy":"Sei beruhigt, da die Sitzung eine Ende-zu-Ende-Verschlsselung nutzt. Alles von dir gezeichnete, privat bleibt. Auch unsere Server sehen nicht, was du dir einfallen lsst.","button_startSession":"Sitzung starten","button_stopSession":"Sitzung beenden","desc_inProgressIntro":"Die Live-Sitzung wird nun ausgefhrt.","desc_persistenceWarning":"Beachte, dass die Zeichnungsdaten bei der Zusammenarbeit ber P2P geteilt und nicht auf unserem Server gespeichert werden. Wenn ihr alle die Verbindung trennt, gehen eure Daten verloren, es sei denn, ihr exportiert sie in eine Datei oder einen gemeinsam nutzbaren Link.","desc_shareLink":"Teile diesen Link mit allen, mit denen du zusammenarbeiten mchtest:","desc_exitSession":"Wenn du die Sitzung beendest, wird deine Verbindung zum Raum getrennt. Du kannst jedoch lokal weiter an der Zeichnung arbeiten. Beachte, dass dies keine Auswirkungen auf andere hat und diese weiterhin gemeinsam an ihrer Version arbeiten knnen."},"errorDialog":{"title":"Fehler"},"shortcutsDialog":{"title":"Tastaturkrzel","shapes":"Formen","or":"oder","click":"klicken","drag":"ziehen","curvedArrow":"Gebogener Pfeil","curvedLine":"Gebogene Linie","editor":"Editor","view":"Ansicht","blog":"Unseren Blog lesen","howto":"Folge unseren Anleitungen","github":"Ein Problem gefunden? Informiere uns","textNewLine":"Neue Zeile hinzufgen (Text)","textFinish":"Bearbeiten beenden (Text)","zoomToFit":"Zoomen um alle Elemente einzupassen"},"encrypted":{"tooltip":"Da deine Zeichnungen Ende-zu-Ende verschlsselt werden, sehen auch unsere Excalidraw-Server sie niemals."},"charts":{"noNumericColumn":"Du hast eine Tabelle ohne numerische Spalte eingefgt.","tooManyColumns":"Du hast eine Tabelle mit mehr als zwei Spalten eingefgt."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Pegar","selectAll":"Seleccionar todo","copy":"Copiar","copyAsPng":"Copiar al portapapeles como PNG","copyAsSvg":"Copiar al portapapeles como SVG","bringForward":"Traer hacia delante","sendToBack":"Enviar al fondo","bringToFront":"Traer al frente","sendBackward":"Enviar atrs","delete":"Borrar","copyStyles":"Copiar estilos","pasteStyles":"Pegar estilos","stroke":"Trazo","background":"Fondo","fill":"Rellenar","strokeWidth":"Grosor del trazo","strokeStyle":"Estilo del trazo","strokeStyle_solid":"Slido","strokeStyle_dashed":"Discontinuo","strokeStyle_dotted":"Punteado","sloppiness":"Estilo de trazo","opacity":"Opacidad","textAlign":"Alineado de texto","fontSize":"Tamao de la fuente","fontFamily":"Tipo de fuente","onlySelected":"Slo seleccionados","withBackground":"Con fondo","addWatermark":"Agregar \\"Hecho con Excalidraw\\"","handDrawn":"Dibujado a mano","normal":"Normal","code":"Cdigo","small":"Pequea","medium":"Mediana","large":"Grande","veryLarge":"Muy grande","solid":"Slido","hachure":"Folleto","crossHatch":"Rayado transversal","thin":"Fino","bold":"Grueso","left":"Izquierda","center":"Centrado","right":"Derecha","extraBold":"Extra negrita","architect":"Arquitecto","artist":"Artista","cartoonist":"Caricatura","fileTitle":"Ttulo del archivo","colorPicker":"Selector de color","canvasBackground":"Fondo del lienzo","drawingCanvas":"Lienzo de dibujo","layers":"Capas","actions":"Acciones","language":"Idioma","createRoom":"Compartir una sesin de colaboracin en vivo","duplicateSelection":"Duplicar","untitled":"Sin ttulo","name":"Nombre","yourName":"Tu nombre","madeWithExcalidraw":"Hecho con Excalidraw","group":"Seleccin de grupo","ungroup":"Desagrupar seleccin"},"buttons":{"clearReset":"Limpiar lienzo y reiniciar el color de fondo","export":"Exportar","exportToPng":"Exportar a PNG","exportToSvg":"Exportar a SVG","copyToClipboard":"Copiar al portapapeles","copyPngToClipboard":"Copiar PNG al portapapeles","save":"Guardar","saveAs":"","load":"Cargar","getShareableLink":"Obtener enlace para compartir","close":"Cerrar","selectLanguage":"Elegir idioma","scrollBackToContent":"Volver al contenido","zoomIn":"Acercarse","zoomOut":"Alejarse","resetZoom":"Restablecer zoom","menu":"Men","done":"Hecho","edit":"Editar","undo":"Deshacer","redo":"Rehacer","roomDialog":"Iniciar colaboracin en vivo","createNewRoom":"Crear nueva sala","toggleFullScreen":"Alternar pantalla completa","toggleZenMode":"Alternar modo zen","exitZenMode":"Salir del modo Zen"},"alerts":{"clearReset":"Esto limpiar todo el lienzo. Ests seguro?","couldNotCreateShareableLink":"No se pudo crear un enlace para compartir.","couldNotLoadInvalidFile":"No se pudo cargar el archivo invlido","importBackendFailed":"La importacin fall.","cannotExportEmptyCanvas":"No se puede exportar un lienzo vaci","couldNotCopyToClipboard":"No se ha podido copiar al portapapeles, intente usar Chrome como navegador.","decryptFailed":"No se pudieron descifrar los datos.","uploadedSecurly":"La carga ha sido asegurada con cifrado de extremo a extremo, lo que significa que el servidor de Excalidraw y terceros no pueden leer el contenido."},"toolBar":{"selection":"Seleccin","draw":"Dibujo libre","rectangle":"Rectngulo","diamond":"Diamante","ellipse":"Elipse","arrow":"Flecha","line":"Lnea","text":"Texto","lock":"Mantener la herramienta seleccionada activa despus de dibujar"},"headings":{"canvasActions":"Acciones del lienzo","selectedShapeActions":"Acciones de la forma seleccionada","shapes":"Formas"},"hints":{"linearElement":"Haga clic para dibujar multiples puntos o arrastre para una sola lnea","freeDraw":"Haz clic y arrastra, suelta al terminar","linearElementMulti":"Haga clic en el ltimo punto o pulse Escape o Enter para finalizar","resize":"Para mantener las proporciones mantn SHIFT presionado mientras modificas el tamao, \\nmantn presionado ALT para modificar el tamao desde el centro","rotate":"Puede restringir los ngulos manteniendo presionado SHIFT mientras gira","lineEditor_info":"haga doble clic o pulse Enter para editar puntos","lineEditor_pointSelected":"Pulse Borrar para eliminar el punto o arrastre para mover","lineEditor_nothingSelected":"Seleccione un punto para mover o eliminar, o mantenga pulsado Alt y haga clic para aadir nuevos puntos"},"errorSplash":{"headingMain_pre":"Se encontr un error. Intente ","headingMain_button":"recargando la pgina.","clearCanvasMessage":"Si la recarga no funciona, intente ","clearCanvasMessage_button":"limpiando el lienzo.","clearCanvasCaveat":" Esto resultar en la prdida del trabajo ","trackedToSentry_pre":"El error con el identificador ","trackedToSentry_post":" fue rastreado en nuestro sistema.","openIssueMessage_pre":"Fuimos muy cautelosos para no incluir la informacin de tu escena en el error. Si tu escena no es privada, por favor considera seguir nuestro ","openIssueMessage_button":"seguimiento de errores.","openIssueMessage_post":" Por favor, incluya la siguiente informacin copindola y pegndola en el issue de GitHub.","sceneContent":"Contenido de la escena:"},"roomDialog":{"desc_intro":"Puedes invitar a gente a tu escena actual para colaborar contigo.","desc_privacy":"No se preocupe, la sesin usa encriptacin de extremo a extremo, por lo que todo lo que dibuje se mantendr privado. Ni siquiera nuestro servidor podr ver qu se le ocurre.","button_startSession":"Iniciar sesin","button_stopSession":"Detener sesin","desc_inProgressIntro":"La sesin de colaboracin en vivo est ahora en progreso.","desc_persistenceWarning":"Tenga en cuenta que los datos de la escena se comparten entre los colaboradores de forma P2P y no se almacenan en nuestro servidor. Por lo tanto, si todos se desconectan, usted perder los datos a menos que los exporte a un archivo o un enlace para compartir.","desc_shareLink":"Comparta este enlace con cualquier persona con quien quiera colaborar:","desc_exitSession":"Detener la sesin te desconectar de la sala, pero podrs seguir trabajando con la escena, localmente. Tenga en cuenta que esto no afectar a otras personas, y que seguirn siendo capaces de colaborar en su versin."},"errorDialog":{"title":"Error"},"shortcutsDialog":{"title":"Atajos del teclado","shapes":"Formas","or":"o","click":"hacer clic","drag":"arrastrar","curvedArrow":"Flecha curva","curvedLine":"Lnea curva","editor":"Editor","view":"Vista","blog":"Leer nuestro blog","howto":"Seguir nuestras guas","github":"Has encontrado un problema? Envalo","textNewLine":"Aadir nueva lnea (texto)","textFinish":"Finalizar edicin (texto)","zoomToFit":"Ajustar la vista para mostrar todos los elementos"},"encrypted":{"tooltip":"Tus dibujos estn cifrados de punto a punto, por lo que los servidores de Excalidraw nunca los vern."},"charts":{"noNumericColumn":"Pegaste una hoja de clculo sin una columna numrica.","tooManyColumns":"Pegaste una hoja de clculo con ms de dos columnas."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Enganxar","selectAll":"Seleccionar tot","copy":"Copiar","copyAsPng":"Copiar al porta-retalls com a PNG","copyAsSvg":"Copiar al porta-retalls com a SVG","bringForward":"Portar endavant","sendToBack":"Enviar endarrere","bringToFront":"Portar al capdavant","sendBackward":"Enviar al fons","delete":"Eliminar","copyStyles":"Copiar estils","pasteStyles":"Enganxar estils","stroke":"Color del tra","background":"Color del fons","fill":"Estil del fons","strokeWidth":"Amplada del tra","strokeStyle":"Estil del tra","strokeStyle_solid":"Slid","strokeStyle_dashed":"Guions","strokeStyle_dotted":"Punts","sloppiness":"Estil del tra","opacity":"Opacitat","textAlign":"Alineaci del text","fontSize":"Mida de lletra","fontFamily":"Tipus de lletra","onlySelected":"Noms seleccionats","withBackground":"Amb fons","addWatermark":"Afegir \\"Fet amb Excalidraw\\"","handDrawn":"Dibuixat a m","normal":"Normal","code":"Codi","small":"Petit","medium":"Mitj","large":"Gran","veryLarge":"Molt gran","solid":"Slid","hachure":"Ratlletes","crossHatch":"Ratlletes creuades","thin":"Fi","bold":"Negreta","left":"Esquerra","center":"Centre","right":"Dreta","extraBold":"Extra negreta","architect":"Arquitecte","artist":"Artista","cartoonist":"Dibuixant","fileTitle":"Ttol del fitxer","colorPicker":"Selector de colors","canvasBackground":"Fons de la tela","drawingCanvas":"Tela de dibuix","layers":"Capes","actions":"Accions","language":"Llengua","createRoom":"Compartir una sessi de collaboraci en directe","duplicateSelection":"Duplicar","untitled":"Sense ttol","name":"Nom","yourName":"El teu nom","madeWithExcalidraw":"Fet amb Excalidraw","group":"","ungroup":""},"buttons":{"clearReset":"Netejar el llen","export":"Exportar","exportToPng":"Exportar a PNG","exportToSvg":"Exportar a SNG","copyToClipboard":"Copiar al porta-retalls","copyPngToClipboard":"Copiar PNG al porta-retalls","save":"Desar","saveAs":"","load":"Carregar","getShareableLink":"Obtenir enlla per compartir","close":"Tancar","selectLanguage":"Triar idioma","scrollBackToContent":"Tornar al contingut","zoomIn":"Ampliar","zoomOut":"Reduir","resetZoom":"Restablir zoom","menu":"Men","done":"Fet","edit":"Editar","undo":"Desfer","redo":"Refer","roomDialog":"Comenar collaboraci en directe","createNewRoom":"Crear sala nova","toggleFullScreen":"Commutar pantalla completa","toggleZenMode":"Commutar modo zen","exitZenMode":"Sortir de modo zen"},"alerts":{"clearReset":"Tot el llen s\'esborrar. Ests segur?","couldNotCreateShareableLink":"No s\'ha pogut crear un enlla per compartir.","couldNotLoadInvalidFile":"No s\'ha pogut carregar un fitxer no vlid","importBackendFailed":"Importaci fallida.","cannotExportEmptyCanvas":"No es pot exportar un llen buit.","couldNotCopyToClipboard":"No s\'ha pogut copiar al porta-retalls. Intentar amb el navegador Google Chrome.","decryptFailed":"No s\'ha pogut desencriptar.","uploadedSecurly":"La crrega s\'ha assegurat amb xifratge punta a punta, cosa que significa que el servidor Excalidraw i tercers no poden llegir el contingut."},"toolBar":{"selection":"Selecci","draw":"Dibuix lliure","rectangle":"Rectangle","diamond":"Rombe","ellipse":"Ellipse","arrow":"Fletxa","line":"Lnia","text":"Text","lock":"Mantenir activa l\'eina seleccionada desprs de dibuixar"},"headings":{"canvasActions":"Accions del llen","selectedShapeActions":"Accions per a les formes seleccionades","shapes":"Formes"},"hints":{"linearElement":"Fer clic per dibuixar mltiples punts; arrossegar per una sola lnea","freeDraw":"Fer clic i arrosegar, deixar anar al punt final","linearElementMulti":"Fer clic a l\'ultim punt, o polsar Escape o Enter per acabar","resize":"Per restringir les proporcions mentres es canvia la mida, mantenir premut el majscul (SHIFT); per canviar la mida des del centre, mantenir premut ALT","rotate":"Per restringir els angles mentre gira, mantenir premut el majscul (SHIFT)","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"S\'ha produt un error. Intentar ","headingMain_button":"recarregar la pgina.","clearCanvasMessage":"Si la recarrega no funciona, intentar ","clearCanvasMessage_button":"esborrar el llen.","clearCanvasCaveat":" Aix resultar en prdua de feina ","trackedToSentry_pre":"L\'error amb l\'identificador ","trackedToSentry_post":" s\'ha rastrejat en el nostre sistema.","openIssueMessage_pre":"Estvem molt amb compte de no incloure la teva informaci de l\'escena en l\'error. Si la teva escena no s privada, pots fer el seguiment al nostre ","openIssueMessage_button":"rastrejador d\'errors.","openIssueMessage_post":" Si us plau incloure la informaci a continuaci copiant i enganxant a GitHub Issues.","sceneContent":"Contingut de l\'escena:"},"roomDialog":{"desc_intro":"Pots convidar persones a la teva escena actual a collaborar amb tu.","desc_privacy":"No et preocupis, la sessi utilitza el xifratge de punta a punta, de manera que qualsevol cosa que dibuixis quedar privada. Ni tan sols el nostre servidor podr veure el que fas.","button_startSession":"Iniciar sessi","button_stopSession":"Aturar sessi","desc_inProgressIntro":"La sessi de collaboraci en directe est en marxa.","desc_persistenceWarning":"Tingues en compte que les dades de l\'escena es comparteixen entre collaboradors de manera P2P i no es desen al nostre servidor. Aix, si tots us desconnecteu, perdreu les dades, tret que els exporteu a un fitxer o a un enlla per a compartir.","desc_shareLink":"Comparteix aquest enlla amb qualsevol persona amb qui vulguis collaborar:","desc_exitSession":""},"errorDialog":{"title":"Error"},"shortcutsDialog":{"title":"Dreceres de teclat","shapes":"Formes","or":"o","click":"fer clic","drag":"arrosegar","curvedArrow":"Fletxa curva","curvedLine":"Lnea curva","editor":"Editor","view":"Vista","blog":"Llegir el nostre blog","howto":"Seguir els nostres guies","github":"Has trobat un problema? Enviar-ho","textNewLine":"Afegir lnea nova (text)","textFinish":"Acabar d\'editar (text)","zoomToFit":"Zoom per veure tots els elements"},"encrypted":{"tooltip":"Els vostres dibuixos estan xifrats de punta a punta de manera que els servidors dExcalidraw no els veuran mai."},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":" ","copy":"","copyAsPng":"    PNG","copyAsSvg":"    SVG","bringForward":" ","sendToBack":"  ","bringToFront":"  ","sendBackward":" ","delete":"","copyStyles":" ","pasteStyles":" ","stroke":"","background":"","fill":"","strokeWidth":" ","strokeStyle":" ","strokeStyle_solid":"","strokeStyle_dashed":"  ","strokeStyle_dotted":"  ","sloppiness":"","opacity":"","textAlign":" ","fontSize":" ","fontFamily":"","onlySelected":"  ","withBackground":" ","addWatermark":" \\"  Excalidraw\\"","handDrawn":"  ","normal":"","code":"","small":"","medium":"","large":"","veryLarge":" ","solid":"","hachure":"","crossHatch":" ","thin":"","bold":"","left":"","center":"","right":"","extraBold":" ","architect":"","artist":"","cartoonist":"","fileTitle":" ","colorPicker":" ","canvasBackground":" ","drawingCanvas":" ","layers":"","actions":"","language":"","createRoom":"  ","duplicateSelection":" ","untitled":" ","name":"","yourName":"  ","madeWithExcalidraw":"  Excalidraw","group":"   ","ungroup":"   "},"buttons":{"clearReset":"  ","export":"","exportToPng":"  PNG","exportToSvg":"  SVG","copyToClipboard":"  ","copyPngToClipboard":" PNG  ","save":"","saveAs":" ","load":"","getShareableLink":" ","close":"","selectLanguage":" ","scrollBackToContent":"   ","zoomIn":"","zoomOut":"","resetZoom":" ","menu":"","done":"","edit":"","undo":"","redo":"","roomDialog":"  ","createNewRoom":"  ","toggleFullScreen":"  ","toggleZenMode":"  Zen","exitZenMode":"    Zen"},"alerts":{"clearReset":"     .  ;","couldNotCreateShareableLink":"       .","couldNotLoadInvalidFile":"     ","importBackendFailed":"    backend .","cannotExportEmptyCanvas":"      .","couldNotCopyToClipboard":"      .       Chrome.","decryptFailed":"     .","uploadedSecurly":"         ,       Excalidraw         ."},"toolBar":{"selection":"","draw":" ","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":"      "},"headings":{"canvasActions":" ","selectedShapeActions":"  ","shapes":""},"hints":{"linearElement":"      ,    ","freeDraw":"   ,    ","linearElementMulti":"       Escape  Enter   ","resize":"       SHIFT   ,\\n   ALT      ","rotate":"         SHIFT   ","lineEditor_info":"-   Enter     ","lineEditor_pointSelected":"           ","lineEditor_nothingSelected":"      ,     Alt        "},"errorSplash":{"headingMain_pre":"  .  ","headingMain_button":"   .","clearCanvasMessage":"    ,  ","clearCanvasMessage_button":"  .","clearCanvasCaveat":"        ","trackedToSentry_pre":"    ","trackedToSentry_post":"    .","openIssueMessage_pre":"             .       ,        ","openIssueMessage_button":" .","openIssueMessage_post":"      ,       GitHub.","sceneContent":" :"},"roomDialog":{"desc_intro":"       .","desc_privacy":" ,        ,         .         .","button_startSession":" ","button_stopSession":" ","desc_inProgressIntro":"       .","desc_persistenceWarning":"          P2P ,     server . ,    ,                .","desc_shareLink":"        :","desc_exitSession":"       ,         , .         ,          ."},"errorDialog":{"title":""},"shortcutsDialog":{"title":" ","shapes":"","or":"","click":"","drag":"","curvedArrow":" ","curvedLine":" ","editor":"","view":"","blog":"   ","howto":"   ","github":" ;  ","textNewLine":"   ()","textFinish":"  ()","zoomToFit":"Zoom      "},"encrypted":{"tooltip":"        ,            Excalidraw."},"charts":{"noNumericColumn":"      .","tooManyColumns":"        ."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Coller","selectAll":"Tout slectionner","copy":"Copier","copyAsPng":"Copier dans le presse-papier en PNG","copyAsSvg":"Copier dans le presse-papier en SVG","bringForward":"Envoyer vers l\'avant","sendToBack":"Mettre en arrire-plan","bringToFront":"Mettre au premier plan","sendBackward":"Envoyer vers l\'arrire","delete":"Supprimer","copyStyles":"Copier les styles","pasteStyles":"Coller les styles","stroke":"Contour","background":"Arrire-plan","fill":"Remplissage","strokeWidth":"Largeur du contour","strokeStyle":"Style du trait","strokeStyle_solid":"Plein","strokeStyle_dashed":"Tirets","strokeStyle_dotted":"Pointill","sloppiness":"Style de trac","opacity":"Opacit","textAlign":"Alignement du texte","fontSize":"Taille de la police","fontFamily":"Police","onlySelected":"Uniquement la slection","withBackground":"Avec arrire-plan","addWatermark":"Ajouter \\"Fabriqu avec Excalidraw\\"","handDrawn":"Manuscrite","normal":"Normale","code":"Code","small":"Petit","medium":"Moyen","large":"Grand","veryLarge":"Trs grand","solid":"Solide","hachure":"Hachure","crossHatch":"Hachure croise","thin":"Fin","bold":"pais","left":"Gauche","center":"Centre","right":"Droite","extraBold":"Trs pais","architect":"Architecte","artist":"Artiste","cartoonist":"Caricaturiste","fileTitle":"Titre du fichier","colorPicker":"Slecteur de couleur","canvasBackground":"Fond du canevas","drawingCanvas":"Canevas de dessin","layers":"Calques","actions":"Actions","language":"Langue","createRoom":"Partager une session de collaboration en direct","duplicateSelection":"Dupliquer","untitled":"Sans titre","name":"Nom","yourName":"Votre nom","madeWithExcalidraw":"Fabriqu avec Excalidraw","group":"Grouper la slection","ungroup":"Dgrouper la slection"},"buttons":{"clearReset":"Effacer le canvas & rinitialiser la couleur d\'arrire-plan","export":"Exporter","exportToPng":"Exporter en PNG","exportToSvg":"Exporter en SVG","copyToClipboard":"Copier dans le presse-papier","copyPngToClipboard":"Copier le PNG dans le presse-papier","save":"Sauvegarder","saveAs":"Enregistrer sous","load":"Ouvrir","getShareableLink":"Obtenir un lien de partage","close":"Fermer","selectLanguage":"Choisir une langue","scrollBackToContent":"Revenir au contenu","zoomIn":"Zoomer","zoomOut":"Dzoomer","resetZoom":"Rinitialiser le zoom","menu":"Menu","done":"Termin","edit":"Modifier","undo":"Annuler","redo":"Rtablir","roomDialog":"Dmarrer la collaboration en temps rel","createNewRoom":"Crer un nouveau salon","toggleFullScreen":"Mode plein-cran","toggleZenMode":"Activer/dsactiver le mode zen","exitZenMode":"Quitter le mode zen"},"alerts":{"clearReset":"L\'intgralit du canvas va tre effac. tes-vous sur ?","couldNotCreateShareableLink":"Impossible de crer un lien de partage.","couldNotLoadInvalidFile":"Impossible de charger un fichier invalide","importBackendFailed":"L\'import depuis le backend a chou.","cannotExportEmptyCanvas":"Impossible d\'exporter un canvas vide.","couldNotCopyToClipboard":"Impossible de copier dans le presse-papier. Essayez d\'utiliser le navigateur Chrome.","decryptFailed":"Les donnes n\'ont pas pu tre dchiffres.","uploadedSecurly":"Le tlchargement a t scuris avec un chiffrement de bout en bout, ce qui signifie que ni Excalidraw ni personne d\'autre ne peut en lire le contenu."},"toolBar":{"selection":"Slection","draw":"Dessin libre","rectangle":"Rectangle","diamond":"Losange","ellipse":"Ellipse","arrow":"Flche","line":"Ligne","text":"Texte","lock":"Garder l\'outil slectionn actif aprs le dessin"},"headings":{"canvasActions":"Actions du canevas","selectedShapeActions":"Actions pour la forme slectionne","shapes":"Formes"},"hints":{"linearElement":"Cliquez pour dmarrer plusieurs points, faites glisser pour une seule ligne","freeDraw":"Cliquez et faites glissez, relchez quand vous avez termin","linearElementMulti":"Cliquez sur le dernier point ou appuyez sur chap ou Entre pour terminer","resize":"Vous pouvez conserver les proportions en maintenant la touche SHIFT pendant le redimensionnement,\\nen maintenant la touche ALT pour redimensionner par rapport au centre","rotate":"Vous pouvez contraindre les angles en maintenant MAJ enfonc pendant la rotation","lineEditor_info":"Double-cliquez ou appuyez sur Entre pour diter les points","lineEditor_pointSelected":"Appuyez sur Supprimer pour supprimer le point ou glissez pour dplacer","lineEditor_nothingSelected":"Slectionnez un point  dplacer ou  supprimer, ou maintenez Alt enfonc et cliquez pour ajouter de nouveaux points"},"errorSplash":{"headingMain_pre":"Une erreur est survenue. Essayez ","headingMain_button":"de recharger la page.","clearCanvasMessage":"Si le rechargement ne rsout pas l\'erreur, essayez ","clearCanvasMessage_button":"d\'effacer le canevas.","clearCanvasCaveat":" Cela entranera une perte du travail ","trackedToSentry_pre":"L\'erreur ","trackedToSentry_post":" a t enregistre dans notre systme.","openIssueMessage_pre":"Nous avons t trs prudents de ne pas inclure les informations de votre scne dans l\'erreur. Si votre scne n\'est pas prive, veuillez envisager de poursuivre sur notre ","openIssueMessage_button":"outil de suivi des bugs.","openIssueMessage_post":" Veuillez inclure les informations ci-dessous en les copiant-collant dans le ticket GitHub.","sceneContent":"Contenu de la scne :"},"roomDialog":{"desc_intro":"Vous pouvez inviter des personnes dans votre scne actuelle  collaborer avec vous.","desc_privacy":"Ne vous inquitez pas, la session utilise le chiffrement de bout en bout, donc tout ce que vous dessinez restera priv. Mme notre serveur ne sera pas en mesure de voir ce que vous faites.","button_startSession":"Dmarrer la session","button_stopSession":"Arrter la session","desc_inProgressIntro":"La session de collaboration en direct est maintenant en cours.","desc_persistenceWarning":"Notez que les donnes de la scne sont partages entre collaborateurs de manire P2P et ne sont pas enregistrs sur notre serveur. Ainsi, si vous vous dconnectez tous, vous perdrez les donnes sauf si vous les exportez vers un fichier ou un lien de partage.","desc_shareLink":"Partagez ce lien avec ceux avec qui vous souhaitez collaborer :","desc_exitSession":"Arrter la session vous dconnectera du salon, mais vous pourrez continuer  travailler avec la scne, localement. Notez que cela n\'affectera pas les autres personnes, et ils seront toujours en mesure de collaborer sur leur version."},"errorDialog":{"title":"Erreur"},"shortcutsDialog":{"title":"Raccourcis clavier","shapes":"Formes","or":"ou","click":"cliquer","drag":"glisser","curvedArrow":"Flche courbe","curvedLine":"Ligne courbe","editor":"diteur","view":"Afficher","blog":"Lisez notre blog","howto":"Suivez nos guides","github":"Vous avez trouv un problme ? Envoyer","textNewLine":"Ajouter une nouvelle ligne (texte)","textFinish":"Terminer l\'dition (texte)","zoomToFit":"Zoomer pour visualiser tous les lments"},"encrypted":{"tooltip":"Vos dessins sont crypts de bout en bout, les serveurs d\'Excalidraw ne les verront jamais."},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Tempel","selectAll":"Pilih semua","copy":"Salin","copyAsPng":"Salin ke Papan Klip Sebagai PNG","copyAsSvg":"Salin ke Papan Klip Sebagai SVG","bringForward":"Majukan","sendToBack":"Bawa ke Belakang","bringToFront":"Bawa ke depan","sendBackward":"Mundurkan","delete":"Hapus","copyStyles":"","pasteStyles":"","stroke":"Stroke","background":"Latar","fill":"Isian","strokeWidth":"","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"Sloppiness","opacity":"Opasitas","textAlign":"Perataan Teks","fontSize":"Ukuran font","fontFamily":"Jenis font","onlySelected":"Hanya yang Dipilih","withBackground":"Dengan Latar","addWatermark":"Tambahkan \\"Dibuat dengan Excalidraw\\"","handDrawn":"","normal":"Biasa","code":"Kode","small":"Kecil","medium":"Menengah","large":"Besar","veryLarge":"","solid":"Padat","hachure":"Garis-garis","crossHatch":"","thin":"Lembut","bold":"Tebal","left":"Kiri","center":"Tengah","right":"Kanan","extraBold":"","architect":"Arsitek","artist":"Artis","cartoonist":"Kartunis","fileTitle":"Judul Berkas","colorPicker":"Pilihan Warna","canvasBackground":"Latar Kanvas","drawingCanvas":"","layers":"Lapisan","actions":"Aksi","language":"Bahasa","createRoom":"","duplicateSelection":"Duplikat","untitled":"Tanpa judul","name":"Nama","yourName":"","madeWithExcalidraw":"","group":"","ungroup":""},"buttons":{"clearReset":"Setel Ulang Kanvas","export":"Ekspor","exportToPng":"Ekspor ke PNG","exportToSvg":"Ekspor ke SVG","copyToClipboard":"Salin ke Papan Klip","copyPngToClipboard":"Salin PNG ke Papan Klip","save":"Simpan","saveAs":"","load":"Muat","getShareableLink":"Buat Tautan yang Bisa Dibagian","close":"Tutup","selectLanguage":"Pilih Bahasa","scrollBackToContent":"Gulir kembali ke konten","zoomIn":"Besarkan","zoomOut":"Kecilkan","resetZoom":"Reset Pembesaran","menu":"Menu","done":"Selesai","edit":"Sunting","undo":"Urungkan","redo":"Mengulang","roomDialog":"Mulai kolaborasi secara langsung","createNewRoom":"Buat ruang baru","toggleFullScreen":"Aktif / Nonaktifkan layar penuh","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"Ini akan menghapus semua yang ada dikanvas. Apakah kamu yakin ?","couldNotCreateShareableLink":"Tidak bisa membuat tautan yang bisa dibagikan","couldNotLoadInvalidFile":"Tidak Dapat Memuat Berkas yang Tidak Valid","importBackendFailed":"Gagal mengimpor dari backend","cannotExportEmptyCanvas":"Tidak bisa mengekspor kanvas kosong","couldNotCopyToClipboard":"Tidak bisa menyalin ke papan klip. Coba gunakan Browser Chrome","decryptFailed":"Tidak dapat mengdeskripsi data.","uploadedSecurly":"Pengunggahan ini telah diamankan menggunakan enkripsi end-to-end, artinya server Excalidraw dan pihak ketiga tidak data membaca nya"},"toolBar":{"selection":"Pilihan","draw":"","rectangle":"Persegi","diamond":"Berlian","ellipse":"Elips","arrow":"Panah","line":"Garis","text":"Teks","lock":"Biarkan alat yang dipilih aktif setelah menggambar"},"headings":{"canvasActions":"Opsi Kanvas","selectedShapeActions":"Opsi bentuk yang dipilih","shapes":"Bentuk"},"hints":{"linearElement":"Klik untuk memulai banyak poin, seret untuk satu baris","freeDraw":"","linearElementMulti":"","resize":"","rotate":"","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"","headingMain_button":"muat ulang halaman.","clearCanvasMessage":"Jika memuat halaman tidak bisa, coba ","clearCanvasMessage_button":"bersihkan canvas.","clearCanvasCaveat":"","trackedToSentry_pre":"","trackedToSentry_post":"","openIssueMessage_pre":"","openIssueMessage_button":"","openIssueMessage_post":" Mohon berikan informasi dibawah ini dengan menyalin dan tempelkan di Github issue.","sceneContent":""},"roomDialog":{"desc_intro":"","desc_privacy":"","button_startSession":"Mulai Sesi","button_stopSession":"Hentikan sesi","desc_inProgressIntro":"","desc_persistenceWarning":"","desc_shareLink":"","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":"","shapes":"","or":"","click":"","drag":"","curvedArrow":"","curvedLine":"","editor":"","view":"","blog":"","howto":"","github":"","textNewLine":"","textFinish":"","zoomToFit":""},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Incolla","selectAll":"Seleziona tutto","copy":"Copia","copyAsPng":"Copia negli appunti come PNG","copyAsSvg":"Copia negli appunti come SVG","bringForward":"Porta avanti","sendToBack":"Manda in fondo","bringToFront":"Porta in cima","sendBackward":"Manda dietro","delete":"Elimina","copyStyles":"Copia stili","pasteStyles":"Incolla stili","stroke":"Tratto","background":"Sfondo","fill":"Riempimento","strokeWidth":"Spessore del tratto","strokeStyle":"Stile del tratto","strokeStyle_solid":"Pieno","strokeStyle_dashed":"Tratteggiato","strokeStyle_dotted":"Punteggiato","sloppiness":"Imprecisione","opacity":"Opacit","textAlign":"Allineamento del testo","fontSize":"Dimensione carattere","fontFamily":"Carattere","onlySelected":"Solo selezionati","withBackground":"Con Sfondo","addWatermark":"Aggiungi \\"Creato con Excalidraw\\"","handDrawn":"A mano libera","normal":"Normale","code":"Codice","small":"Piccolo","medium":"Medio","large":"Grande","veryLarge":"Molto grande","solid":"Pieno","hachure":"Tratteggio obliquo","crossHatch":"Tratteggio incrociato","thin":"Sottile","bold":"Grassetto","left":"Sinistra","center":"Centro","right":"Destra","extraBold":"Extra Grassetto","architect":"Architetto","artist":"Artista","cartoonist":"Fumettista","fileTitle":"Titolo file","colorPicker":"Selettore colore","canvasBackground":"Sfondo tela","drawingCanvas":"Area di disegno","layers":"Livelli","actions":"Azioni","language":"Lingua","createRoom":"Condividi una sessione di collaborazione in diretta","duplicateSelection":"Duplica","untitled":"Senza titolo","name":"Nome","yourName":"Il vostro nome","madeWithExcalidraw":"Creato con Excalidraw","group":"Crea gruppo da selezione","ungroup":"Dividi gruppo da selezione"},"buttons":{"clearReset":"Ripristina la tela","export":"Esporta","exportToPng":"Esporta come PNG","exportToSvg":"Esporta come SVG","copyToClipboard":"Copia negli appunti","copyPngToClipboard":"Copia PNG negli appunti","save":"Salva","saveAs":"Salva con nome","load":"Carica","getShareableLink":"Ottieni link condivisibile","close":"Chiudi","selectLanguage":"Seleziona lingua","scrollBackToContent":"Scorri indietro fino al contenuto","zoomIn":"Aumenta ingrandimento","zoomOut":"Riduci ingrandimento","resetZoom":"Ripristina ingrandimento","menu":"Men","done":"Fatto","edit":"Modifica","undo":"Annulla","redo":"Ripeti","roomDialog":"Inizia collaborazione in diretta","createNewRoom":"Crea nuova stanza","toggleFullScreen":"Attiva/Disattiva schermo intero","toggleZenMode":"Attiva/Disattiva modalit zen","exitZenMode":"Uscire dalla modalit zen"},"alerts":{"clearReset":"Questo canceller l\'intera tela. Sei sicuro?","couldNotCreateShareableLink":"Non riesco a creare un link condivisibile.","couldNotLoadInvalidFile":"Impossibile caricare un file no valido","importBackendFailed":"Importazione dal server fallita.","cannotExportEmptyCanvas":"Non  possibile esportare una tela vuota.","couldNotCopyToClipboard":"Impossibile copiare negli appunti. Provare usando il browser Chrome.","decryptFailed":"Impossibile decriptare i dati.","uploadedSecurly":"L\'upload  stato protetto con la crittografia end-to-end, il che significa che il server Excalidraw e terze parti non possono leggere il contenuto."},"toolBar":{"selection":"Selezione","draw":"Disegno libero","rectangle":"Rettangolo","diamond":"Rombo","ellipse":"Ellisse","arrow":"Freccia","line":"Linea","text":"Testo","lock":"Mantieni lo strumento selezionato attivo dopo aver disegnato"},"headings":{"canvasActions":"Azioni sulla Tela","selectedShapeActions":"Impostazioni della forma selezionata","shapes":"Forme"},"hints":{"linearElement":"Clicca per iniziare una linea in pi punti, trascina per singola linea","freeDraw":"Clicca e trascina, rilascia quando avrai finito","linearElementMulti":"Clicca sull\'ultimo punto o premi Esc o Invio per finire","resize":"Per vincolare le proporzioni, tenir premuto MAIUSC durante il ridimensionamento;\\nper ridimensionare dal centro, tenir premuto ALT","rotate":"Puoi mantenere gli angoli tenendo premuto SHIFT durante la rotazione","lineEditor_info":"Fai doppio click o premi invio per modificare i punti","lineEditor_pointSelected":"Premi il tasto cancella per rimuovere il punto o trascina per spostare","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"Si  verificato un errore. Provare ","headingMain_button":"ricaricando la pagina.","clearCanvasMessage":"Se ricaricare non funziona, prova ","clearCanvasMessage_button":"pulire la tela.","clearCanvasCaveat":" Questo risulter nella perdita del lavoro ","trackedToSentry_pre":"L\'errore con identificativo ","trackedToSentry_post":"  stato tracciato nel nostro sistema.","openIssueMessage_pre":"Siamo stati molto cauti nel non includere informazioni della scena nell\'errore. Se la tua scena non  privata, ti preghiamo di considerare la sua inclusione nel nostro ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Per favore includi le informazioni riportate qui sotto copiandole e incollandole nella issue di GitHub.","sceneContent":"Contenuto della scena:"},"roomDialog":{"desc_intro":"Puoi invitare persone nella tua scena attuale per collaborare con te.","desc_privacy":"Non preoccuparti, la sessione utilizza la crittografia end-to-end, quindi qualsiasi cosa disegni rimarr privata. Nemmeno il nostro server sar in grado di vedere cosa hai creato.","button_startSession":"Avvia sessione","button_stopSession":"Termina sessione","desc_inProgressIntro":"La sessione di collaborazione  attualmente in corso.","desc_persistenceWarning":"Tieni presente che i dati della scena sono condivisi tra i collaboratori in modo P2P e non persistono sul nostro server. Pertanto, se vi disconnettere tutti, perderete i dati a meno che non li esportiate in un file o in un link condivisibile.","desc_shareLink":"Condividi questo link con chiunque desideri collaborare:","desc_exitSession":"Interrompere la sessione scollegher la tua stanza ma potrai continuare a lavorare con la scena, localmente. Tieni presente che questo non influir sulle altre persone, e che saranno ancora in grado di collaborare alla loro versione."},"errorDialog":{"title":"Errore"},"shortcutsDialog":{"title":"Scorciatoie da tastiera","shapes":"Forme","or":"oppure","click":"click","drag":"trascina","curvedArrow":"Freccia curva","curvedLine":"Linea curva","editor":"Editor","view":"Vista","blog":"Leggi il nostro blog","howto":"Segui le nostre guide","github":"Hai trovato un problema? Segnalalo","textNewLine":"Aggiungi nuova riga (testo)","textFinish":"Completa la modifica (testo)","zoomToFit":"Adatta zoom per mostrare tutti gli elementi"},"encrypted":{"tooltip":"I tuoi disegni sono crittografati end-to-end in modo che i server di Excalidraw non li possano mai vedere."},"charts":{"noNumericColumn":"Hai incollato un foglio di calcolo senza una colonna numerica.","tooManyColumns":"Hai incollato un foglio di calcolo con pi di due colonne."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Beilleszts","selectAll":"sszes kijellse","copy":"Msols","copyAsPng":"Vglapra msols mint PNG","copyAsSvg":"Vglapra msols mint SVG","bringForward":"Elrbb hozs","sendToBack":"","bringToFront":"","sendBackward":"","delete":"Trls","copyStyles":"","pasteStyles":"","stroke":"Krvonal","background":"Httr","fill":"Kitlts","strokeWidth":"","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"Stlus","opacity":"ttetszsg","textAlign":"","fontSize":"","fontFamily":"","onlySelected":"Csak a kivlasztott","withBackground":"Httrrel egytt","addWatermark":"","handDrawn":"","normal":"Norml","code":"Code","small":"Kicsi","medium":"Kzepes","large":"Nagy","veryLarge":"","solid":"Kitlttt","hachure":"Vonalkzott","crossHatch":"","thin":"Vkony","bold":"Flkvr","left":"","center":"","right":"","extraBold":"","architect":"Tervezi","artist":"Mvszi","cartoonist":"Karikatrs","fileTitle":"Fjl cme","colorPicker":"Sznvlaszt","canvasBackground":"Vszon httrszne","drawingCanvas":"","layers":"Rtegek","actions":"Mveletek","language":"Nyelv","createRoom":"l egyttmkds megosztsa","duplicateSelection":"","untitled":"","name":"","yourName":"","madeWithExcalidraw":"","group":"","ungroup":""},"buttons":{"clearReset":"Vszon trlse","export":"Exportls","exportToPng":"Exportls PNG-be","exportToSvg":"Exportls SVG-be","copyToClipboard":"Vglapra msols","copyPngToClipboard":"PNG msolsa a vglapra","save":"Ments","saveAs":"","load":"Betlts","getShareableLink":"Megoszthat link ltrehozsa","close":"Bezrs","selectLanguage":"","scrollBackToContent":"Visszagrgets a tartalomhoz","zoomIn":"Nagyts","zoomOut":"Kicsinyts","resetZoom":"Nagyts alaphelyzetbe","menu":"Men","done":"Ksz","edit":"Szerkeszts","undo":"Visszavons","redo":"jra vgrehajts","roomDialog":"l egyttmkds indtsa","createNewRoom":"j szoba ltrehozsa","toggleFullScreen":"","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"Ez a mvelet trli a vszont. Biztos benne?","couldNotCreateShareableLink":"Nem sikerlt megoszthat linket ltrehozni.","couldNotLoadInvalidFile":"","importBackendFailed":"Nem sikerlt betlteni a szerverrl.","cannotExportEmptyCanvas":"res vszont nem lehet exportlni.","couldNotCopyToClipboard":"Nem sikerlt vglapra menteni. Prblja meg Chrome bngszvel.","decryptFailed":"Nem sikerlt dekdolni az adatot.","uploadedSecurly":"A feltltst vgpontok kztti titkostssal biztostottuk, ami azt jelenti, hogy az Excalidraw szerver s harmadik felek nem tudjk elolvasni a feltlts tartalmt."},"toolBar":{"selection":"Kivlaszts","draw":"","rectangle":"Tglalap","diamond":"Rombusz","ellipse":"Ellipszis","arrow":"Nyl","line":"Vonal","text":"Szveg","lock":"Rajzols utn az aktv eszkzt tartsa kivlasztva"},"headings":{"canvasActions":"Vszon mveletek","selectedShapeActions":"Kivlasztott forma mveletei","shapes":"Formk"},"hints":{"linearElement":"Kattintson a tbb pont elindtshoz, hzza az egyenes vonalhoz","freeDraw":"","linearElementMulti":"Kattintson az utols pontra, vagy nyomja meg az Escape vagy az Enter billentyt a befejezshez","resize":"","rotate":"A SHIFT billenty lenyomva tartsval korltozhatja a szgek illesztst","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"Hiba trtnt. Prblja ","headingMain_button":"jratlteni az oldalt.","clearCanvasMessage":"Ha az jratlts nem mkdik, prblja ","clearCanvasMessage_button":"trlni a vszont.","clearCanvasCaveat":" Ezzel elveszik minden eddigi munkja ","trackedToSentry_pre":"A hibakd azonostval ","trackedToSentry_post":" nyomon van kvetve a rendszernkben.","openIssueMessage_pre":"Nagyon vigyztunk, hogy ne adjunk meg a jelenetre vonatkoz informcikat a hibban. Ha a jeleneted nem bizalmas, krjk fontolja meg a jelenet hozzadst a hibakvet rendszernkben ","openIssueMessage_button":"hibabejelent.","openIssueMessage_post":" Krjk, msolja be az albbi informcikat a GitHub problmba.","sceneContent":"Jelenet tartalma:"},"roomDialog":{"desc_intro":"Meghvhat embereket a jelenlegi jelenetbe, hogy egyttmkdjenek nnel.","desc_privacy":"Ne aggdjon, a munkamenet vgpontok kztti titkostst hasznl, teht brmit rajzol, privt marad. Mg a szervernk sem fogja ltni, hogy mit rajzolt.","button_startSession":"Munkamenet indtsa","button_stopSession":"Munkamenet lelltsa","desc_inProgressIntro":"Az l egyttmkdsi munkamenet folyamatban van.","desc_persistenceWarning":"","desc_shareLink":"Ossza meg ezt a linket brkivel, akivel egytt szeretne mkdni:","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":"","shapes":"","or":"","click":"","drag":"","curvedArrow":"","curvedLine":"","editor":"","view":"","blog":"","howto":"","github":"","textNewLine":"","textFinish":"","zoomToFit":""},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Plakken","selectAll":"Alles selecteren","copy":"Kopiren","copyAsPng":"Kopieer als PNG","copyAsSvg":"Kopieer als SVG","bringForward":"Breng naar voren","sendToBack":"Breng naar achtergrond","bringToFront":"Breng naar voorgrond","sendBackward":"Breng naar achter","delete":"Verwijderen","copyStyles":"Stijl kopiren","pasteStyles":"Stijl plakken","stroke":"Lijn","background":"Achtergrond","fill":"Invulling","strokeWidth":"Lijnbreedte","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"Slordigheid","opacity":"Doorzichtigheid","textAlign":"Uitlijning","fontSize":"Tekstgrootte","fontFamily":"Lettertype","onlySelected":"Enkel geselecteerde","withBackground":"Met achtergrond","addWatermark":"Voeg \\"Gemaakt met Excalidraw\\" toe","handDrawn":"Handgetekend","normal":"Normaal","code":"Code","small":"Klein","medium":"Medium","large":"Groot","veryLarge":"Zeer groot","solid":"Ingekleurd","hachure":"Arcering","crossHatch":"Tweemaal gearceerd","thin":"Dun","bold":"Vet","left":"Links","center":"Midden","right":"Rechts","extraBold":"Zwaar","architect":"Architect","artist":"Artiest","cartoonist":"Cartoonist","fileTitle":"Bestandsnaam","colorPicker":"Kleurenkiezer","canvasBackground":"Canvas achtergrond","drawingCanvas":"Canvas","layers":"Lagen","actions":"Acties","language":"Taal","createRoom":"Deel een live-samenwerkingssessie","duplicateSelection":"Dupliceer","untitled":"Naamloos","name":"Naam","yourName":"Jouw naam","madeWithExcalidraw":"Gemaakt met Excalidraw","group":"","ungroup":""},"buttons":{"clearReset":"Canvas opnieuw instellen","export":"Exporteren","exportToPng":"Exporteren naar PNG","exportToSvg":"Exporteren naar SVG","copyToClipboard":"Kopieer","copyPngToClipboard":"Kopieer als PNG","save":"Opslaan","saveAs":"","load":"Open","getShareableLink":"Maak een deelbare link","close":"Sluiten","selectLanguage":"Taal selecteren","scrollBackToContent":"Scroll terug naar inhoud","zoomIn":"Inzoomen","zoomOut":"Uitzoomen","resetZoom":"Zoom terugzetten","menu":"Menu","done":"Klaar","edit":"Bewerken","undo":"Ongedaan maken","redo":"Herstel ongedaan maken","roomDialog":"Live-samenwerkingssessie starten","createNewRoom":"Creer live-samenwerkingssessie","toggleFullScreen":"Schermvullende weergave","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"Dit zal het hele canvas verwijderen. Ben je zeker?","couldNotCreateShareableLink":"Kon geen deelbare link aanmaken.","couldNotLoadInvalidFile":"Kan ongeldig bestand niet laden","importBackendFailed":"Importeren vanuit backend mislukt.","cannotExportEmptyCanvas":"Kan geen leeg canvas exporteren.","couldNotCopyToClipboard":"Kan niet kopiren. Probeer in de Chrome-browser.","decryptFailed":"Kan gegevens niet decoderen.","uploadedSecurly":"De upload is beveiligd met end-to-end encryptie, wat betekent dat de Excalidraw server en derden de inhoud niet kunnen lezen."},"toolBar":{"selection":"Selectie","draw":"","rectangle":"Rechthoek","diamond":"Ruit","ellipse":"Ovaal","arrow":"Pijl","line":"Lijn","text":"Tekst","lock":"Geselecteerde tool actief houden na tekenen"},"headings":{"canvasActions":"Canvasacties","selectedShapeActions":"Acties van geselecteerde vorm","shapes":"Vormen"},"hints":{"linearElement":"Klik om meerdere punten te starten, sleep voor n lijn","freeDraw":"","linearElementMulti":"Klik op het laatste punt of druk op Escape of Enter om te stoppen","resize":"","rotate":"Je kan hoeken beperken door SHIFT ingedrukt te houden wanneer je draait","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"Fout opgetreden. Probeer ","headingMain_button":"de pagina opnieuw laden.","clearCanvasMessage":"Als herladen niet werkt, probeer ","clearCanvasMessage_button":"het canvas te wissen.","clearCanvasCaveat":" Dit zal leiden tot verlies van je werk ","trackedToSentry_pre":"De fout met ID ","trackedToSentry_post":" was gevolgd op ons systeem.","openIssueMessage_pre":"We waren voorzichtig om je scne-informatie niet in de fout toe te voegen. Als je scne niet priv is, overweeg dan alstublieft het opvolgen op onze ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Kopieer de informatie hieronder toe in de GitHub issue.","sceneContent":"Scne-inhoud:"},"roomDialog":{"desc_intro":"Je kunt mensen uitnodigen om met je samen te werken.","desc_privacy":"Geen zorgen, de sessie gebruikt end-to-end encryptie, dus wat je tekent blijft priv. Zelfs onze server zal niet kunnen zien wat je tekent.","button_startSession":"Sessie starten","button_stopSession":"Sessie afbreken","desc_inProgressIntro":"De live-samenwerkingssessie is nu gestart.","desc_persistenceWarning":"","desc_shareLink":"Deel deze link met iedereen waarmee je wil samenwerken:","desc_exitSession":""},"errorDialog":{"title":"Fout"},"shortcutsDialog":{"title":"Sneltoetsen","shapes":"Vormen","or":"of","click":"klik","drag":"slepen","curvedArrow":"Gebogen pijl","curvedLine":"Gebogen lijn","editor":"Editor","view":"Weergave","blog":"Lees onze blog","howto":"Volg onze handleidingen","github":"Probleem gevonden? Stuur een nieuwe issue","textNewLine":"Nieuwe regel toevoegen (tekst)","textFinish":"Voltooi bewerken (tekst)","zoomToFit":"Zoom in op alle elementen"},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Lim inn","selectAll":"Velg alt","copy":"Kopier","copyAsPng":"Kopier til PNG","copyAsSvg":"Kopier til utklippstavlen som SVG","bringForward":"Flytt framover","sendToBack":"Send bakerst","bringToFront":"Flytt forrest","sendBackward":"Send bakover","delete":"Slett","copyStyles":"Kopier stiler","pasteStyles":"Lim inn stiler","stroke":"Strek","background":"Bakgrunn","fill":"Fyll","strokeWidth":"Strektykkelse","strokeStyle":"Strekstil","strokeStyle_solid":"Heltrukket","strokeStyle_dashed":"Stiplet","strokeStyle_dotted":"Prikket","sloppiness":"Ujevnhet","opacity":"Synlighet","textAlign":"Tekstjustering","fontSize":"Skriftstrrelse","fontFamily":"Fontfamilie","onlySelected":"Kun valgte","withBackground":"Inkluder bakgrunn","addWatermark":"Legg til \\"Laget med Excalidraw\\"","handDrawn":"Hndtegnet","normal":"Normal","code":"Kode","small":"Liten","medium":"Medium","large":"Stor","veryLarge":"Svrt stor","solid":"Helfarge","hachure":"Skravert","crossHatch":"Krysskravert","thin":"Tynn","bold":"Tykk","left":"Venstre","center":"Midtstill","right":"Hyre","extraBold":"Ekstra tykk","architect":"Arkitekt","artist":"Kunstner","cartoonist":"Tegner","fileTitle":"Filnavn","colorPicker":"Fargevelger","canvasBackground":"Lerretsbakgrunn","drawingCanvas":"Lerret","layers":"Lag","actions":"Handlinger","language":"Sprk","createRoom":"Del en sanntids-samarbeidskt","duplicateSelection":"Dupliser","untitled":"Uten navn","name":"Navn","yourName":"Ditt navn","madeWithExcalidraw":"Laget med Excalidraw","group":"Gruppr utvalg","ungroup":"Avgruppr utvalg"},"buttons":{"clearReset":"Tm lerretet og tilbakestill bakgrunnsfargen","export":"Eksporter","exportToPng":"Eksporter til PNG","exportToSvg":"Eksporter til SVG","copyToClipboard":"Kopier til utklippstavle","copyPngToClipboard":"Kopier PNG til utklippstavlen","save":"Lagre","saveAs":"","load":"pne","getShareableLink":"F delingslenke","close":"Lukk","selectLanguage":"Velg sprk","scrollBackToContent":"Skroll tilbake til innhold","zoomIn":"Zoom inn","zoomOut":"Zoom ut","resetZoom":"Nullstill zoom","menu":"Meny","done":"Ferdig","edit":"Rediger","undo":"Angre","redo":"Gjr om","roomDialog":"Start sanntids-samarbeid","createNewRoom":"Opprett et nytt rom","toggleFullScreen":"Skru fullskjerm av/p","toggleZenMode":"Sl av/p zen-modus","exitZenMode":"Avslutt zen-modus"},"alerts":{"clearReset":"Dette vil tmme lerretet. Er du sikker?","couldNotCreateShareableLink":"Kunne ikke lage delbar lenke.","couldNotLoadInvalidFile":"Kunne ikke laste inn ugyldig fil","importBackendFailed":"Importering av backend feilet.","cannotExportEmptyCanvas":"Kan ikke eksportere et tomt lerret.","couldNotCopyToClipboard":"Kunne ikke kopiere til utklippstavlen. Prv med nettleseren Chrome.","decryptFailed":"Kunne ikke dekryptere data.","uploadedSecurly":"Opplastingen er kryptert og kan ikke leses av Excalidraw-serveren eller tredjeparter."},"toolBar":{"selection":"Velg","draw":"Frihndstegning","rectangle":"Rektangel","diamond":"Diamant","ellipse":"Ellipse","arrow":"Pil","line":"Linje","text":"Tekst","lock":"Behold merket verkty som aktivt"},"headings":{"canvasActions":"Handlinger: lerret","selectedShapeActions":"Handlinger: valgt objekt","shapes":"Former"},"hints":{"linearElement":"Klikk for  starte linje med flere punkter, eller dra for en enkel linje","freeDraw":"Klikk og dra, slipp nr du er ferdig","linearElementMulti":"Klikk p siste punkt eller trykk Escape eller Enter for  fullfre","resize":"Du kan beholde forholdet ved  trykke SHIFT mens du endrer strrelse,\\ntrykk ALT for  endre strrelsen fra midten","rotate":"Du kan lse vinklene ved  holde SHIFT mens du roterer","lineEditor_info":"Dobbeltklikk eller trykk Enter for  redigere punkter","lineEditor_pointSelected":"Trykk p Slett for  fjerne punktet, eller dra for  flytte","lineEditor_nothingSelected":"Velg et punkt  flytte eller fjerne, eller hold Alt og klikk for  legge til nye punkter"},"errorSplash":{"headingMain_pre":"En feil oppsto. Prv ","headingMain_button":" laste siden p nytt.","clearCanvasMessage":"Om ny sidelasting ikke fungerer, prv ","clearCanvasMessage_button":" tmme lerretet.","clearCanvasCaveat":" Dette vil fre til tap av arbeid ","trackedToSentry_pre":"Feilen med identifikator ","trackedToSentry_post":" ble logget i vrt system.","openIssueMessage_pre":"Vi er veldig nye med  ikke inkludere dine scene-opplysninger i feilen. Hvis din scene ikke er privat, vurder  flge opp i vrt ","openIssueMessage_button":"feilrapporteringssystem.","openIssueMessage_post":" Ta med opplysningene nedenfor ved  kopiere og lime inn i GitHub-saken.","sceneContent":"Scene-innhold:"},"roomDialog":{"desc_intro":"Du kan invitere personer til scenen din for  samarbeide med deg.","desc_privacy":"Ta det med ro, sesjonen bruker ende-til-ende-kryptering, s alt du tegner forblir privat. Ikke en gang serveren vr kan se hva du lager.","button_startSession":"Start kt","button_stopSession":"Stopp sesjon","desc_inProgressIntro":"Sanntids-samarbeidskt er n i gang.","desc_persistenceWarning":"Vr oppmerksom p at scene-data deles p tvers av samarbeidspartnere p en P2P-mte, og er ikke lagret p serveren vr. Dette betyr at hvis alle kobler fra, mister du dataene med mindre du eksporterer dem til en fil eller en delbar lenke.","desc_shareLink":"Del denne linken med de du vil samarbeide med:","desc_exitSession":"Dersom du avslutter sesjonen blir du frakoblet rommet, men du kan fortsette  arbeide med scenen lokalt. Vr oppmerksom p at dette ikke vil pvirke andre personer, og de vil fortsatt ha mulighet til  samarbeide p deres versjon."},"errorDialog":{"title":"Feil"},"shortcutsDialog":{"title":"Tastatursnarveier","shapes":"Figurer","or":"eller","click":"klikk","drag":"dra","curvedArrow":"Buet pil","curvedLine":"Buet linje","editor":"Redigering","view":"Visning","blog":"Les bloggen vr","howto":"Flg vre veiledninger","github":"Funnet et problem? Send inn","textNewLine":"Legg til ny linje (tekst)","textFinish":"Fullfr redigering (tekst)","zoomToFit":"Zoom for  passe alle elementene"},"encrypted":{"tooltip":"Dine tegninger er ende-til-ende-krypterte slik at Excalidraw sine servere aldri vil se dem."},"charts":{"noNumericColumn":"Du limte inn et regneark uten en numerisk kolonne.","tooManyColumns":"Du limte inn et regneark med mer enn to kolonner."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Wklej","selectAll":"Zaznacz wszystko","copy":"Kopiuj","copyAsPng":"Skopiuj do schowka jako plik PNG","copyAsSvg":"Skopiuj do schowka jako plik SVG","bringForward":"Przenie wyej","sendToBack":"Przenie na spd","bringToFront":"Przenie na wierzch","sendBackward":"Przenie niej","delete":"Usu","copyStyles":"Kopiuj style","pasteStyles":"Wklej style","stroke":"Kolor obramowania","background":"Kolor wypenienia","fill":"Wypenienie","strokeWidth":"Grubo obramowania","strokeStyle":"Styl obrysu","strokeStyle_solid":"Peny","strokeStyle_dashed":"Kreskowany","strokeStyle_dotted":"Kropkowany","sloppiness":"Styl kreski","opacity":"Przeroczysto","textAlign":"Wyrwnanie tekstu","fontSize":"Rozmiar tekstu","fontFamily":"Krj pisma","onlySelected":"Tylko wybrane","withBackground":"Z tem dokumentu","addWatermark":"Dodaj \\"Zrobione w Excalidraw\\"","handDrawn":"Odrczny","normal":"Normalny","code":"Kod","small":"May","medium":"redni","large":"Duy","veryLarge":"Bardzo duy","solid":"Pene","hachure":"Linie","crossHatch":"Zakrelone","thin":"Cienkie","bold":"Pogrubione","left":"Do lewej","center":"Do rodka","right":"Do prawej","extraBold":"Ekstra pogrubione","architect":"Dokadny","artist":"Artystyczny","cartoonist":"Rysunkowy","fileTitle":"Nazwa pliku","colorPicker":"Paleta kolorw","canvasBackground":"Kolor dokumentu","drawingCanvas":"Obszar roboczy","layers":"Warstwy","actions":"Akcje","language":"Jzyk","createRoom":"Udostpnij sesj wsppracy na ywo","duplicateSelection":"Powiel","untitled":"Bez tytuu","name":"Nazwa","yourName":"Twoje imi","madeWithExcalidraw":"Zrobione w Excalidraw","group":"Zgrupuj wybrane","ungroup":"Rozgrupuj wybrane"},"buttons":{"clearReset":"Wyczy dokument i zresetuj kolor dokumentu","export":"Zapisz jako","exportToPng":"Zapisz jako PNG","exportToSvg":"Zapisz jako SVG","copyToClipboard":"Skopiuj do schowka","copyPngToClipboard":"Skopiuj do schowka jako plik PNG","save":"Zapisz","saveAs":"","load":"Otwrz","getShareableLink":"Udostpnij","close":"Zamknij","selectLanguage":"Wybierz jzyk","scrollBackToContent":"Wr do obszaru roboczego","zoomIn":"Powiksz","zoomOut":"Pomniejsz","resetZoom":"Zresetuj powikszenie","menu":"Menu","done":"Gotowe","edit":"Edytuj","undo":"Cofnij","redo":"Przywr","roomDialog":"Utwrz now sesj wsppracy na ywo","createNewRoom":"Utwrz nowy pokj","toggleFullScreen":"Wcz/wycz tryb penoekranowy","toggleZenMode":"Wcz tryb Zen","exitZenMode":"Wyjd z trybu Zen"},"alerts":{"clearReset":"To spowoduje usunicie wszystkiego z dokumentu. Czy chcesz kontynuowa?","couldNotCreateShareableLink":"Wystpi bd przy generowaniu linka do udostpniania.","couldNotLoadInvalidFile":"Nie udao si otworzy pliku. Wybrany plik jest nieprawidowy.","importBackendFailed":"Wystpi bd podczas importowania pliku.","cannotExportEmptyCanvas":"Najpierw musisz co narysowa, aby zapisa dokument.","couldNotCopyToClipboard":"Bd podczas kopiowania. Sprbuj uy Google Chrome.","decryptFailed":"Nie udao si odszyfrowa danych.","uploadedSecurly":"By zapewni Ci prywatno, udostpnianie projektu jest zabezpieczone szyfrowaniem end-to-end, co oznacza, e poza tob i osob z ktr podzielisz si linkiem, nikt nie ma dostpu do tego co udostpniasz."},"toolBar":{"selection":"Zaznaczenie","draw":"Swobodne rysowanie","rectangle":"Prostokt","diamond":"Romb","ellipse":"Elipsa","arrow":"Strzaka","line":"Linia","text":"Tekst","lock":"Zablokuj wybrane narzdzie"},"headings":{"canvasActions":"Narzdzia","selectedShapeActions":"Wybrane narzdzie","shapes":"Ksztaty"},"hints":{"linearElement":"Nacinij, aby zrobi punkt, przecignij, aby narysowa lini","freeDraw":"Nacinij i przecignij by rysowa, pu kiedy skoczysz","linearElementMulti":"Aby zakoczy krzyw, ponownie kliknij w ostatni punkt, bd nacinij Esc albo Enter","resize":"Moesz zachowa proporcj trzymaj wcisnity SHIFT, przytrzymaj ALT by zmiena rozmiar wzgldem rodka","rotate":"Moesz obracaelement w rwnych odstpach trzymajc wcinity SHIFT","lineEditor_info":"Kliknij dwukrotnie lub nacinij Enter, aby edytowa punkty","lineEditor_pointSelected":"Nacinij Delete by usun punkt albo przecignij by zmieni jego pozycje","lineEditor_nothingSelected":"Nacinij w punkt by go edytowa, przytrzymaj Alt i nacinij by doda nowy punkt"},"errorSplash":{"headingMain_pre":"Wystpi bd. Sprbuj ","headingMain_button":"odwiey stron.","clearCanvasMessage":"Jeli odwieenie strony nie zadziaao, sprbuj ","clearCanvasMessage_button":"usun wszystko z dokumentu.","clearCanvasCaveat":" Pamitaj tylko, e spowoduje to utrat caej twojej pracy ","trackedToSentry_pre":"Bd o identyfikatorze ","trackedToSentry_post":" zosta zaraportowany w naszym systemie.","openIssueMessage_pre":"Szanujemy twoj prywatno i raport nie zawiera adnych danych dotyczcych tego nad czym pracowae, natomiast jeeli jeste w stanie podzieli si tym nad czym pracowae, prosimy o dodatkowy raport poprzez ","openIssueMessage_button":"nasze narzdzie do raportowania bdw.","openIssueMessage_post":" Prosimy o doczenie poniszej informacji poprzez skopiowanie jej i umieszczenie jej w zgoszeniu na portalu GitHub.","sceneContent":"Zawarto dokumentu:"},"roomDialog":{"desc_intro":"Bdziesz w stanie pracowawraz z osobami ktre zaprosisz do wsppracy.","desc_privacy":"By zapewni Ci prywatno, sesja wsppracy na ywo jest zabezpieczona szyfrowaniem end-to-end, co oznacza, e poza tob i osobami z ktrymi podzielisz si linkiem, nikt nie ma dostpu do tego co bdziecie tworzy.","button_startSession":"Rozpocznij sesj","button_stopSession":"Zakocz sesj","desc_inProgressIntro":"Sesja wsppracy na ywo wanie si rozpocza.","desc_persistenceWarning":"Wane! Wszystko co bdziesz tworzy wraz z osobami ktre zaprosisz do wsppracy jest dostpne tylko dla was (protok P2P), co oznacza, e nie jest przechowywane na serwerach Excalidraw. Dlatego, jeeli wszyscy si rozczycie i nie zapiszecie wczeniej danych (albo nie utworzycielinka do udostpnienia projektu), wasze dane zostan utracone.","desc_shareLink":"Udostpnij ten link osobom, z ktrymi chcesz wsppracowa:","desc_exitSession":"Zakoczenie sesji spowoduje odczenie ciebie od pokoju, ale nadal bdziesz mg lokalnie kontynuowa prac. Zauwa, e osoby z ktrymi wsppracowae nadal bd mogy wsppracowa."},"errorDialog":{"title":"Wystpi bd"},"shortcutsDialog":{"title":"Skrty klawiszowe","shapes":"Ksztaty","or":"lub","click":"klik","drag":"przecignij","curvedArrow":"Zakrzywiona strzaka","curvedLine":"Zakrzywiona linia","editor":"Edytor","view":"Widok","blog":"Przeczytaj naszego bloga","howto":"Skorzystaj z instrukcji","github":"Znalaze problem? Zgogo","textNewLine":"Dodaj now lini (tekst)","textFinish":"Zakocz edycj (tekst)","zoomToFit":"Powiksz, aby wywietli wszystkie elementy"},"encrypted":{"tooltip":"Twoje rysunki s zabezpieczone szyfrowaniem end-to-end, tak wic nawet w Excalidraw nie jestemy w stanie zobaczy tego co tworzysz."},"charts":{"noNumericColumn":"Wklejono arkusz kalkulacyjny bez kolumny numerycznej.","tooManyColumns":"Wklejono arkusz kalkulacyjny z wicej ni dwoma kolumnami."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Colar","selectAll":"Selecionar tudo","copy":"Copiar","copyAsPng":"Copiar para a rea de transferncia como PNG","copyAsSvg":"Copiar para a rea de transferncia como SVG","bringForward":"Trazer para o primeiro plano","sendToBack":"Enviar para o plano de fundo","bringToFront":"Trazer para o primeiro plano","sendBackward":"Enviar para trs","delete":"Apagar","copyStyles":"Copiar os estilos","pasteStyles":"Colar os estilos","stroke":"Contornos","background":"Fundo","fill":"Preenchimento","strokeWidth":"Espessura do trao","strokeStyle":"Estilo de trao","strokeStyle_solid":"Slido","strokeStyle_dashed":"Tracejado","strokeStyle_dotted":"Pontilhado","sloppiness":"Desleixo","opacity":"Opacidade","textAlign":"Alinhamento do texto","fontSize":"Tamanho da fonte","fontFamily":"Famlia da fontes","onlySelected":"Somente a seleo","withBackground":"Com fundo","addWatermark":"Adicionar \\"Feito com Excalidraw\\"","handDrawn":"Manuscrito","normal":"Normal","code":"Cdigo","small":"Pequeno","medium":"Mdio","large":"Grande","veryLarge":"Muito grande","solid":"Slido","hachure":"Ecloso","crossHatch":"Hachurado","thin":"Fino","bold":"Espesso","left":"Esquerda","center":"Centralizar","right":"Direita","extraBold":"Muito espesso","architect":"Arquitecto","artist":"Artista","cartoonist":"Caricaturista","fileTitle":"Ttulo do arquivo","colorPicker":"Seletor de cores","canvasBackground":"Fundo da tela","drawingCanvas":"Tela de desenho","layers":"Camadas","actions":"Aes","language":"Idioma","createRoom":"Compartilhar uma sesso de colaborao ao vivo","duplicateSelection":"Duplicar","untitled":"Sem ttulo","name":"Nome","yourName":"Seu nome","madeWithExcalidraw":"Feito com Excalidraw","group":"Agrupar seleo","ungroup":"Desagrupar seleo"},"buttons":{"clearReset":"Limpar o canvas e redefinir a cor de fundo","export":"Exportar","exportToPng":"Exportar em PNG","exportToSvg":"Exportar em SVG","copyToClipboard":"Copiar para o clipboard","copyPngToClipboard":"Copiar PNG para rea de transferncia","save":"Guardar","saveAs":"Salvar como","load":"Carregar","getShareableLink":"Obter um link de partilha","close":"Fechar","selectLanguage":"Selecionar idioma","scrollBackToContent":"Voltar ao contedo","zoomIn":"Aumentar zoom","zoomOut":"Diminuir zoom","resetZoom":"Redefinir zoom","menu":"Menu","done":"Concludo","edit":"Editar","undo":"Desfazer","redo":"Refazer","roomDialog":"Iniciar colaborao ao vivo","createNewRoom":"Criar nova sala","toggleFullScreen":"Alternar tela cheia","toggleZenMode":"Alternar modo zen","exitZenMode":"Sair do modo zen"},"alerts":{"clearReset":"O canvas inteiro ser excludo. Tens a certeza?","couldNotCreateShareableLink":"No foi possvel criar um link de compartilhamento.","couldNotLoadInvalidFile":"No foi possvel carregar o arquivo invlido","importBackendFailed":"A importao do servidor falhou.","cannotExportEmptyCanvas":"No  possvel exportar um canvas vazo.","couldNotCopyToClipboard":"No foi possvel copiar no clipboard. Experimente no navegador Chrome.","decryptFailed":"No foi possvel descriptografar os dados.","uploadedSecurly":"O upload foi protegido com criptografia de ponta a ponta, o que significa que o servidor do Excalidraw e terceiros no podem ler o contedo."},"toolBar":{"selection":"Seleo","draw":"Desenho livre","rectangle":"Retngulo","diamond":"Losango","ellipse":"Elipse","arrow":"Flecha","line":"Linha","text":"Texto","lock":"Manter a ferramenta selecionada ativa aps desenhar"},"headings":{"canvasActions":"Aes da tela","selectedShapeActions":"Aes das formas selecionadas","shapes":"Formas"},"hints":{"linearElement":"Clique para iniciar vrios pontos, arraste para uma nica linha","freeDraw":"Toque e arraste, solte quando terminar","linearElementMulti":"Clique no ltimo ponto ou pressione Escape ou Enter para terminar","resize":"Voc pode restringir propores segurando SHIFT enquanto redimensiona,\\nsegure ALT para redimensionar do centro","rotate":"Voc pode restringir os ngulos segurando SHIFT enquanto gira","lineEditor_info":"Clique duas vezes ou pressione Enter para editar os pontos","lineEditor_pointSelected":"Pressione Delete para remover o ponto ou arraste para mover","lineEditor_nothingSelected":"Selecione um ponto para mover ou remover, ou segure Alt e clique para adicionar novos pontos"},"errorSplash":{"headingMain_pre":"Foi encontrado um erro. Tente ","headingMain_button":"recarregar a pgina.","clearCanvasMessage":"Se a recarga no funcionar, tente ","clearCanvasMessage_button":"limpando a tela.","clearCanvasCaveat":" Isso resultar em perda de trabalho ","trackedToSentry_pre":"O erro com o identificador ","trackedToSentry_post":" foi rastreado no nosso sistema.","openIssueMessage_pre":"Fomos muito cautelosos para no incluir suas informaes de cena no erro. Se sua cena no for privada, por favor, considere seguir nosso ","openIssueMessage_button":"rastreador de bugs.","openIssueMessage_post":" Por favor, inclua informaes abaixo, copiando e colando para a issue do GitHub.","sceneContent":"Contedo da cena:"},"roomDialog":{"desc_intro":"Voc pode convidar pessoas para sua cena atual para colaborar com voc.","desc_privacy":"No se preocupe, a sesso usa criptografia de ponta a ponta; portanto, o que voc desenhar permanecer privado. Nem mesmo nosso servidor poder ver o que voc cria.","button_startSession":"Iniciar sesso","button_stopSession":"Parar sesso","desc_inProgressIntro":"A sesso de colaborao ao vivo est agora em andamento.","desc_persistenceWarning":"Observe que os dados da cena so compartilhados entre os colaboradores de maneira P2P e no permanecem no nosso servidor. Portanto, se todos vocs se desconectarem, voc perder os dados, a menos que os exporte para um arquivo ou um link de partilha.","desc_shareLink":"Compartilhe este link com qualquer pessoa com quem voc queira colaborar:","desc_exitSession":"Interrompendo a sesso voc ir se desconectar da sala, mas voc poder continuar trabalhando com a cena localmente. Observe que isso no afetar outras pessoas, e elas ainda podero colaborar em sua verso."},"errorDialog":{"title":"Erro"},"shortcutsDialog":{"title":"Atalhos de teclado","shapes":"Formas","or":"ou","click":"clicar","drag":"arrastar","curvedArrow":"Seta curva","curvedLine":"Linha curva","editor":"Editor","view":"Visualizar","blog":"Leia o nosso blog","howto":"Siga os nossos guias","github":"Encontrou algum problema? Nos informe","textNewLine":"Adicionar nova linha (texto)","textFinish":"Finalizar edio (texto)","zoomToFit":"Ajustar para caber todos os elementos"},"encrypted":{"tooltip":"Seus desenhos so criptografados de ponta a ponta, ento os servidores do Excalidraw nunca os vero."},"charts":{"noNumericColumn":"Voc colou uma planilha sem uma coluna numrica.","tooManyColumns":"Voc colou uma planilha com mais de duas colunas."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":" ","copy":"","copyAsPng":"     PNG","copyAsSvg":"     SVG","bringForward":" ","sendToBack":"  ","bringToFront":"  ","sendBackward":" ","delete":"","copyStyles":" ","pasteStyles":" ","stroke":"","background":"","fill":"","strokeWidth":" ","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":" ","opacity":"","textAlign":" ","fontSize":" ","fontFamily":" ","onlySelected":" ","withBackground":" ","addWatermark":" \\"  Excalidraw\\"","handDrawn":"  ","normal":"","code":"","small":"","medium":"","large":"","veryLarge":" ","solid":"","hachure":"","crossHatch":"","thin":"","bold":"","left":"","center":"","right":"","extraBold":"  ","architect":"","artist":"","cartoonist":"","fileTitle":" ","colorPicker":" ","canvasBackground":" ","drawingCanvas":"  ","layers":"","actions":"","language":"","createRoom":"  ","duplicateSelection":"","untitled":" ","name":"","yourName":" ","madeWithExcalidraw":"  Excalidraw","group":"","ungroup":""},"buttons":{"clearReset":"     ","export":"","exportToPng":"  PNG","exportToSvg":"  SVG","copyToClipboard":"   ","copyPngToClipboard":" PNG   ","save":"","saveAs":"","load":"","getShareableLink":"   ","close":"","selectLanguage":" ","scrollBackToContent":"  ","zoomIn":"","zoomOut":"","resetZoom":" ","menu":"","done":"","edit":"","undo":" ","redo":" ","roomDialog":"  ","createNewRoom":"  ","toggleFullScreen":"  ","toggleZenMode":"   ","exitZenMode":"   "},"alerts":{"clearReset":"   .  ?","couldNotCreateShareableLink":"    .","couldNotLoadInvalidFile":"    ","importBackendFailed":"    .","cannotExportEmptyCanvas":"    .","couldNotCopyToClipboard":"     .   - Chrome.","decryptFailed":"   .","uploadedSecurly":"    ,  ,   Excalidraw       ."},"toolBar":{"selection":" ","draw":"","rectangle":"","diamond":"","ellipse":"","arrow":"C","line":"","text":"","lock":"     "},"headings":{"canvasActions":" ","selectedShapeActions":"  ","shapes":""},"hints":{"linearElement":",    ,    ","freeDraw":"","linearElementMulti":"      Escape  Enter  ","resize":"   ,  SHIFT    ,\\n ALT     ","rotate":"   ,  SHIFT   ","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":" .  ","headingMain_button":" .","clearCanvasMessage":"    ,  ","clearCanvasMessage_button":" .","clearCanvasCaveat":"     ","trackedToSentry_pre":"   ","trackedToSentry_post":"    .","openIssueMessage_pre":"         .      ,    ","openIssueMessage_button":" .","openIssueMessage_post":" ,   ,    ,  issue GitHub.","sceneContent":" :"},"roomDialog":{"desc_intro":"         .","desc_privacy":" ,    ,       .         .","button_startSession":" ","button_stopSession":" ","desc_inProgressIntro":"   .","desc_persistenceWarning":"","desc_shareLink":"     :","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":" ","shapes":"","or":"","click":"","drag":"","curvedArrow":" ","curvedLine":" ","editor":"","view":"","blog":"  ","howto":"","github":"","textNewLine":"   ()","textFinish":"","zoomToFit":""},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":" ","copy":"","copyAsPng":"  PNG","copyAsSvg":"  SVG","bringForward":" ","sendToBack":"  ","bringToFront":"  ","sendBackward":" ","delete":"","copyStyles":" ","pasteStyles":" ","stroke":"","background":"","fill":"","strokeWidth":" ","strokeStyle":" ","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"","opacity":"","textAlign":" ","fontSize":" ","fontFamily":"","onlySelected":" ","withBackground":" ","addWatermark":"   Excalidraw","handDrawn":"","normal":"","code":"","small":"","medium":"","large":"","veryLarge":" ","solid":"","hachure":"","crossHatch":" ","thin":"","bold":"","left":"","center":" ","right":"","extraBold":"","architect":"","artist":"","cartoonist":"","fileTitle":" ","colorPicker":" ","canvasBackground":" ","drawingCanvas":"","layers":"","actions":"","language":"","createRoom":"    ","duplicateSelection":"","untitled":"-","name":"","yourName":" ","madeWithExcalidraw":"  Excalidraw","group":" ","ungroup":" "},"buttons":{"clearReset":" ","export":"","exportToPng":"  PNG","exportToSvg":"  SVG","copyToClipboard":"   ","copyPngToClipboard":" PNG   ","save":"","saveAs":"","load":"","getShareableLink":" ","close":"","selectLanguage":" ","scrollBackToContent":"  ","zoomIn":"","zoomOut":"","resetZoom":" ","menu":"","done":"","edit":"","undo":"","redo":"","roomDialog":"   ","createNewRoom":"  ","toggleFullScreen":" ","toggleZenMode":"-","exitZenMode":"  -"},"alerts":{"clearReset":"   . ?","couldNotCreateShareableLink":"   .","couldNotLoadInvalidFile":"    ","importBackendFailed":" .","cannotExportEmptyCanvas":"    .","couldNotCopyToClipboard":"    .    Chrome.","decryptFailed":"   .","uploadedSecurly":"     ,      Excalidraw      ."},"toolBar":{"selection":"","draw":" ","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":"    "},"headings":{"canvasActions":"  ","selectedShapeActions":"   ","shapes":""},"hints":{"linearElement":"    ,     ","freeDraw":"  ,   ","linearElementMulti":"   ,  Esc  Enter  ","resize":"   ,  SHIFT    ,\\n ALT     ","rotate":"   ,  SHIFT   ","lineEditor_info":"    Enter   ","lineEditor_pointSelected":" Delete     ,  ","lineEditor_nothingSelected":"     ,   Alt  ,    "},"errorSplash":{"headingMain_pre":" .  ","headingMain_button":" .","clearCanvasMessage":"   ,  ","clearCanvasMessage_button":" .","clearCanvasCaveat":"      ","trackedToSentry_pre":"   ","trackedToSentry_post":"     .","openIssueMessage_pre":"   ,          .      ,  ,      ","openIssueMessage_button":" .","openIssueMessage_post":"  ,   ,     GitHub issue.","sceneContent":" :"},"roomDialog":{"desc_intro":"           .","desc_privacy":" ,    ,     .       .","button_startSession":" ","button_stopSession":" ","desc_inProgressIntro":"     .","desc_persistenceWarning":",       P2P,      .    ,    ,       ,   .","desc_shareLink":"    -   :","desc_exitSession":"     ,        .  ,       ,         ."},"errorDialog":{"title":""},"shortcutsDialog":{"title":" ","shapes":"","or":"","click":"","drag":"","curvedArrow":" ","curvedLine":" ","editor":"","view":"","blog":"  ","howto":"  ","github":" ? !","textNewLine":"   ()","textFinish":"  ()","zoomToFit":"   "},"encrypted":{"tooltip":"       Excalidraw    ."},"charts":{"noNumericColumn":"     .","tooManyColumns":"       ."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Liit","selectAll":"Valitse kaikki","copy":"Kopioi","copyAsPng":"Kopioi leikepydlle PNG-tiedostona","copyAsSvg":"Kopioi leikepydlle SVG-tiedostona","bringForward":"Siirr eteenpin","sendToBack":"Vie taakse","bringToFront":"Tuo eteen","sendBackward":"Siirr taaksepin","delete":"Poista","copyStyles":"Kopioi tyyli","pasteStyles":"Liit tyyli","stroke":"Piirto","background":"Tausta","fill":"Tytt","strokeWidth":"Viivan leveys","strokeStyle":"Viivan tyyli","strokeStyle_solid":"Yhteninen","strokeStyle_dashed":"Katkoviiva","strokeStyle_dotted":"Pisteviiva","sloppiness":"Viivan tarkkuus","opacity":"Peittvyys","textAlign":"Tekstin tasaus","fontSize":"Kirjasinkoko","fontFamily":"Kirjasintyyppi","onlySelected":"Vain valitut","withBackground":"Sisllyt tausta","addWatermark":"Lis \\"Tehty Excalidrawilla\\"","handDrawn":"Ksinkirjoitettu","normal":"Tavallinen","code":"Koodi","small":"Pieni","medium":"Keskikoko","large":"Suuri","veryLarge":"Erittin suuri","solid":"Yhteninen","hachure":"Vinoviivoitus","crossHatch":"Ristiviivoitus","thin":"Ohut","bold":"Lihavoitu","left":"Vasen","center":"Keskit","right":"Oikea","extraBold":"Erittin lihavoitu","architect":"Arkkitehti","artist":"Taiteilija","cartoonist":"Sarjakuva","fileTitle":"Tiedostonimi","colorPicker":"Vrin valinta","canvasBackground":"Piirtoalueen tausta","drawingCanvas":"Piirtoalue","layers":"Tasot","actions":"Toiminnot","language":"Kieli","createRoom":"Jaa yhteistyistunto","duplicateSelection":"Monista","untitled":"Nimetn","name":"Nimi","yourName":"Nimesi","madeWithExcalidraw":"Tehty Excalidrawilla","group":"Ryhmit valinta","ungroup":"Pura valittu ryhm"},"buttons":{"clearReset":"Tyhjenn piirtoalue","export":"Vie","exportToPng":"Vie PNG-tiedostona","exportToSvg":"Vie SVG-tiedostona","copyToClipboard":"Kopioi leikepydlle","copyPngToClipboard":"Kopioi PNG-tiedosto leikepydlle","save":"Tallenna","saveAs":"Tallenna nimell","load":"Avaa","getShareableLink":"Hae jaettava linkki","close":"Sulje","selectLanguage":"Valitse kieli","scrollBackToContent":"Nyt sislt","zoomIn":"Zoomaa sisn","zoomOut":"Zoomaa ulos","resetZoom":"Nollaa zoomaus","menu":"Valikko","done":"Valmis","edit":"Muokkaa","undo":"Kumoa","redo":"Tee uudelleen","roomDialog":"Aloita live-yhteisty","createNewRoom":"Luo huone","toggleFullScreen":"Koko nytn tila plle/pois","toggleZenMode":"Zen-tila plle","exitZenMode":"Poistu zen-tilasta"},"alerts":{"clearReset":"Tm tyhjent koko piirtoalueen. Jatketaanko?","couldNotCreateShareableLink":"Jaettavan linkin luominen eponnistui.","couldNotLoadInvalidFile":"Virheellist tiedostoa ei voitu avata","importBackendFailed":"Palvelimelta tuonti eponnistui.","cannotExportEmptyCanvas":"Tyhj piirtoaluetta ei voi vied.","couldNotCopyToClipboard":"Leikepydlle kopiointi eponnistui. Kokeile Chrome-selainta.","decryptFailed":"Salauksen purkaminen eponnistui.","uploadedSecurly":"Lhetys on turvattu pst phn salauksella. Excalidrawin palvelin ja kolmannet osapuolet eivt voi lukea sislt."},"toolBar":{"selection":"Valinta","draw":"Vapaa piirto","rectangle":"Suorakulmio","diamond":"Vinoneli","ellipse":"Soikio","arrow":"Nuoli","line":"Viiva","text":"Teksti","lock":"Pid valittu tykalu aktiivisena piirron jlkeen"},"headings":{"canvasActions":"Piirtoalueen toiminnot","selectedShapeActions":"Valitun muodon toiminnot","shapes":"Muodot"},"hints":{"linearElement":"Klikkaa piirtksesi useampi piste, raahaa piirtksesi yksittinen viiva","freeDraw":"Paina ja raahaa, pst irti kun olet valmis","linearElementMulti":"Klikkaa viimeist pistett, paina Escape tai paina Enter lopettaaksesi","resize":"Voit rajoittaa mittasuhteet pitmll SHIFT pohjassa kun muutat kokoa, pid ALT pohjassa muuttaaksesi kokoa keskipisteen suhteen","rotate":"Voit rajoittaa kulman pitmll SHIFT pohjassa pyrittesssi","lineEditor_info":"Kaksoisnapauta tai paina Enter muokataksesi pisteit","lineEditor_pointSelected":"Paina Delete poistaaksesi pisteen tai ved liikuttaaksesi pistett","lineEditor_nothingSelected":"Valitse liikutettava tai poistettava piste, tai pid Alt pohjassa ja napauta listksesi uusia pisteit"},"errorSplash":{"headingMain_pre":"Tapahtui virhe. Yrit ","headingMain_button":"sivun lataamista uudelleen.","clearCanvasMessage":"Jos lataaminen uudelleen ei auta, yrit ","clearCanvasMessage_button":"tyhjent piirtoalue.","clearCanvasCaveat":" Tm johtaa tyn menetykseen ","trackedToSentry_pre":"Virhe tunnisteella ","trackedToSentry_post":" tallennettiin jrjestelmmme.","openIssueMessage_pre":"Olimme varovaisia emmek sisllyttneet tietoa piirroksestasi virheeseen. Jos piirroksesi ei ole yksityinen, harkitsethan kertovasi meille ","openIssueMessage_button":"virheenseurantajrjestelmssmme.","openIssueMessage_post":" Sisllyt alla olevat tiedot kopioimalla ne GitHub-ongelmaan.","sceneContent":"Piirroksen tiedot:"},"roomDialog":{"desc_intro":"Voit kutsua ihmisi piirrokseesi tekemn yhteistyt kanssasi.","desc_privacy":"l huoli, istunto kytt pst phn salausta, joten mit tahansa piirrtkin, se pysyy salassa. Edes palvelimemme ei ne mit keksit.","button_startSession":"Aloita istunto","button_stopSession":"Lopeta istunto","desc_inProgressIntro":"Jaettu istunto on nyt kynniss.","desc_persistenceWarning":"Huomaa, ett tyn tiedot jaetaan muiden muiden kyttjien kesken P2P-menetelmll, eik niit tallenneta palvelimellemme. Jos kaikki tyn kyttjt katkaisevat yhteyden, menettte tyn, ellette tallenna sit tiedostoksi tai jaettavaksi linkiksi.","desc_shareLink":"Jaa tm linkki kenelle tahansa, jonka kanssa haluat tehd yhteistyt:","desc_exitSession":"Istunnon pysyttminen katkaisee yhteyden huoneeseen, mutta voit viel jatkaa tyskentely paikallisesti. Huomaa, ett tm ei vaikuta muihin kyttjiin ja he voivat jatkaa oman versionsa parissa tyskentely."},"errorDialog":{"title":"Virhe"},"shortcutsDialog":{"title":"Pikanppimet","shapes":"Muodot","or":"tai","click":"klikkaa","drag":"ved","curvedArrow":"Kaareva nuoli","curvedLine":"Kaareva viiva","editor":"Editori","view":"Nkym","blog":"Lue blogiamme","howto":"Seuraa oppaitamme","github":"Lysitk ongelman? Kerro meille","textNewLine":"Lis uusi rivi (teksti)","textFinish":"Lopeta muokkaus (teksti)","zoomToFit":"Zoomaa kaikki elementit nkyviin"},"encrypted":{"tooltip":"Piirroksesi ovat pst phn salattuja, joten Excalidrawin palvelimet eivt koskaan ne niit."},"charts":{"noNumericColumn":"Liitit taulukon ilman lukuja sisltv saraketta.","tooManyColumns":"Liitit taulukon, jossa on enemmn kuin kaksi saraketta."}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Yaptr","selectAll":"Tmn se","copy":"Kopyala","copyAsPng":"PNG olarak kopyala","copyAsSvg":"Panoya SVG olarak kopyala","bringForward":"Bir ne getir","sendToBack":"Arkaya gnder","bringToFront":"En ne getir","sendBackward":"Bir geriye gnder","delete":"Sil","copyStyles":"Stilleri kopyala","pasteStyles":"Stilleri yaptr","stroke":"Vurgu","background":"Arka plan","fill":"Doldur","strokeWidth":"Kontur genilii","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"stn krlk","opacity":"Opaklk","textAlign":"Metin hizala","fontSize":"Yaz tipi boyutu","fontFamily":"Yaz tipi ailesi","onlySelected":"Sadece seilen","withBackground":"Arka Plan le Beraber","addWatermark":"","handDrawn":"El-yazs","normal":"Normal","code":"Kod","small":"Kk","medium":"Orta","large":"Byk","veryLarge":"ok geni","solid":"Dolu","hachure":"Taral","crossHatch":"apraz-taral","thin":"nce","bold":"Kaln","left":"Sol","center":"Ortala","right":"Sa","extraBold":"Ekstra kaln","architect":"Mimar","artist":"Sanat","cartoonist":"Karikatrist","fileTitle":"Dosya bal","colorPicker":"Renk seici","canvasBackground":"Canvas arka plan","drawingCanvas":"izim tuvali","layers":"Katmanlar","actions":"lemler","language":"Dil","createRoom":"Ortak alma ortamn payla","duplicateSelection":"Kopyala","untitled":"Balksz","name":"sim","yourName":"","madeWithExcalidraw":"Excalidraw ile yapld","group":"","ungroup":""},"buttons":{"clearReset":"Canvas\' sfrla","export":"Da aktar","exportToPng":"PNG olarak da aktar","exportToSvg":"SVG olarak da aktar","copyToClipboard":"Panoya kopyala","copyPngToClipboard":"PNG\'yi panoya kopyala","save":"Kaydet","saveAs":"","load":"Ykle","getShareableLink":"Paylalabilir balant al","close":"Kapat","selectLanguage":"Dil sein","scrollBackToContent":"erie geri dn","zoomIn":"Yaknlatr","zoomOut":"Uzaklatr","resetZoom":"Zoom\'u Sfrla","menu":"Men","done":"Tamam","edit":"Dzenle","undo":"Geri Al","redo":"leri Al","roomDialog":"Ortak alma Ortam Yarat","createNewRoom":"Yeni Oda Olutur","toggleFullScreen":"Tam ekran a/kapa","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"Tm canvas temizlenecek. Emin misiniz?","couldNotCreateShareableLink":"Paylalabilir balant oluturulamad.","couldNotLoadInvalidFile":"Bilinmeyen dosya yklenemiyor","importBackendFailed":"Sunucudan ie aktarma baarsz.","cannotExportEmptyCanvas":"Bo canvas darya aktarlamaz.","couldNotCopyToClipboard":"Panoya kopyalanamad. Chrome taraycsn deneyiniz.","decryptFailed":"ifrelenmi veri zmlenemedi.","uploadedSecurly":"Ykleme utan uca ifreleme ile korunmaktadr. Excalidraw sunucusu ve ncl ahslar ierii okuyamayacaktr."},"toolBar":{"selection":"Seme","draw":"Serbest izim","rectangle":"Dikdrtgen","diamond":"Elmas","ellipse":"Elips","arrow":"Ok","line":"izgi","text":"Yaz","lock":"Seilen arac izimden sonra aktif tut"},"headings":{"canvasActions":"Canvas aksiyonlar","selectedShapeActions":"Seilen ekil aksiyonlar","shapes":"ekiller"},"hints":{"linearElement":"Birden fazla nokta iin tklayn, tek izgi iin srkleyin","freeDraw":"","linearElementMulti":"Tamamlamak iin son noktay sein veya Escape ve Enter\'dan birine basn","resize":"","rotate":"Dndrrken SHIFT tuuna basl tutarak alar koruyabilirsiniz","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"Hata olutu. Ltfen ","headingMain_button":"sayfay yenilemeyi deneyin.","clearCanvasMessage":"Yenileme sonras sorun devam ediyorsa, ltfen ","clearCanvasMessage_button":"izim alann temizlemeyi deneyin.","clearCanvasCaveat":" Bu, yaptnz deiiklikleri sfrlayacak ","trackedToSentry_pre":"Tanmlayc ile ilgili hata ortaya kt ","trackedToSentry_post":"","openIssueMessage_pre":"","openIssueMessage_button":"hata takibinde bir yardm bileti oluturun.","openIssueMessage_post":" Ltfen aaya GitHub sorununu kopyalayarak ve yaptrarak bilgi veriniz.","sceneContent":"alma alan:"},"roomDialog":{"desc_intro":"alma alannza, sizinle birlikte alabilmeleri iin bakalarn da ekleyebilirsiniz.","desc_privacy":"alma ortamnda yaptklarnz ve izimleriniz utan uca ifrelemeyle saklanmaktadr. Sunucularmz dahi bu verileri ifrelenmemi haliyle gremez.","button_startSession":"alma Ortam Olutur","button_stopSession":"alma Ortamn Sonlandr","desc_inProgressIntro":"Ortak alma ortam oluturuldu.","desc_persistenceWarning":"","desc_shareLink":"Bu balanty birlikte alacanz kiilerle paylaabilirsiniz:","desc_exitSession":"alma ortamn kapattnzda ortak almadan ayrlm olursunuz ancak kendi versiyonunuzda almaya devam edebilirsiniz. Bu durumda ortak altnz dier kiiler etkilenmeyecek, alma ortamndaki versiyon zerinden almaya devam edebilecekler."},"errorDialog":{"title":"Hata"},"shortcutsDialog":{"title":"Klavye ksayollar","shapes":"ekiller","or":"veya","click":"tkla","drag":"srkle","curvedArrow":"Eri ok","curvedLine":"Eri izgi","editor":"Dzenleyici","view":"Grntle","blog":"Blog\'umuzu okuyun","howto":"Rehberimizi takip edin","github":"Bir hata m buldun? Bildir","textNewLine":"Yeni satr ekle (text)","textFinish":"","zoomToFit":""},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":"","copy":"","copyAsPng":"PNG","copyAsSvg":"SVG","bringForward":"","sendToBack":"","bringToFront":"","sendBackward":"","delete":"","copyStyles":"","pasteStyles":"","stroke":"","background":"","fill":"","strokeWidth":"","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"","opacity":"","textAlign":"","fontSize":"","fontFamily":"","onlySelected":"","withBackground":"","addWatermark":"\\"Made with Excalidraw\\"","handDrawn":"","normal":"","code":"","small":"","medium":"","large":"","veryLarge":"","solid":"","hachure":"","crossHatch":"","thin":"","bold":"","left":"","center":"","right":"","extraBold":"","architect":"","artist":"","cartoonist":"","fileTitle":"","colorPicker":"","canvasBackground":"","drawingCanvas":"","layers":"","actions":"","language":"","createRoom":"","duplicateSelection":"","untitled":"Untitled","name":"","yourName":"","madeWithExcalidraw":"Excalidraw","group":"","ungroup":""},"buttons":{"clearReset":"","export":"","exportToPng":"PNG ","exportToSvg":"SVG ","copyToClipboard":"","copyPngToClipboard":"PNG","save":"","saveAs":"","load":"...","getShareableLink":"URL","close":"","selectLanguage":"","scrollBackToContent":"","zoomIn":"","zoomOut":"","resetZoom":"/","menu":"","done":"","edit":"","undo":"","redo":"","roomDialog":"","createNewRoom":"","toggleFullScreen":"","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"","couldNotCreateShareableLink":"URL","couldNotLoadInvalidFile":"","importBackendFailed":"","cannotExportEmptyCanvas":"","couldNotCopyToClipboard":"Google Chrome","decryptFailed":"","uploadedSecurly":"Excalidraw"},"toolBar":{"selection":"","draw":"","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":""},"headings":{"canvasActions":"","selectedShapeActions":"","shapes":""},"hints":{"linearElement":"","freeDraw":"","linearElementMulti":"","resize":"","rotate":"","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"","headingMain_button":"","clearCanvasMessage":"","clearCanvasMessage_button":"","clearCanvasCaveat":"","trackedToSentry_pre":"","trackedToSentry_post":"","openIssueMessage_pre":"","openIssueMessage_button":"","openIssueMessage_post":"","sceneContent":""},"roomDialog":{"desc_intro":"","desc_privacy":"","button_startSession":"","button_stopSession":"","desc_inProgressIntro":"","desc_persistenceWarning":"","desc_shareLink":"URL","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":"","shapes":"","or":"","click":"","drag":"","curvedArrow":"","curvedLine":"","editor":"","view":"","blog":"","howto":"","github":"","textNewLine":"","textFinish":"","zoomToFit":"/"},"encrypted":{"tooltip":"Excalidraw"},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":" ","copy":"","copyAsPng":" PNG  ","copyAsSvg":" SVG  ","bringForward":" ","sendToBack":"  ","bringToFront":"  ","sendBackward":" ","delete":"","copyStyles":" ","pasteStyles":" ","stroke":" ","background":"","fill":" ","strokeWidth":" ","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":" ","opacity":"","textAlign":" ","fontSize":" ","fontFamily":" ","onlySelected":" ","withBackground":" ","addWatermark":"","handDrawn":"","normal":"","code":"","small":"","medium":"","large":"","veryLarge":" ","solid":"","hachure":"","crossHatch":"","thin":"","bold":"","left":"","center":"","right":"","extraBold":" ","architect":"","artist":"","cartoonist":"","fileTitle":" ","colorPicker":" ","canvasBackground":" ","drawingCanvas":" ","layers":"","actions":"","language":"","createRoom":"   ","duplicateSelection":"","untitled":" ","name":"","yourName":"","madeWithExcalidraw":"","group":"","ungroup":""},"buttons":{"clearReset":" ","export":"","exportToPng":"PNG ","exportToSvg":"SVG ","copyToClipboard":" ","copyPngToClipboard":" PNG  ","save":"","saveAs":"","load":"","getShareableLink":"   ","close":"","selectLanguage":" ","scrollBackToContent":"   ","zoomIn":"","zoomOut":"","resetZoom":" ","menu":"","done":"","edit":"","undo":" ","redo":" ","roomDialog":"  ","createNewRoom":"","toggleFullScreen":"","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"    .  ?","couldNotCreateShareableLink":"     .","couldNotLoadInvalidFile":"  .","importBackendFailed":"   .","cannotExportEmptyCanvas":"    .","couldNotCopyToClipboard":"     . Chrome   .","decryptFailed":"  .","uploadedSecurly":"     Excalidraw       ."},"toolBar":{"selection":"","draw":"","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":"  "},"headings":{"canvasActions":"","selectedShapeActions":"","shapes":""},"hints":{"linearElement":"   ,    .","freeDraw":"","linearElementMulti":"   Esc  Enter   .","resize":"","rotate":"SHIFT       .","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"","headingMain_button":" ","clearCanvasMessage":"","clearCanvasMessage_button":"  .","clearCanvasCaveat":"","trackedToSentry_pre":"","trackedToSentry_post":"","openIssueMessage_pre":"","openIssueMessage_button":"","openIssueMessage_post":"   GitHub     .","sceneContent":""},"roomDialog":{"desc_intro":"       .","desc_privacy":",               .","button_startSession":" ","button_stopSession":" ","desc_inProgressIntro":"    .","desc_persistenceWarning":"","desc_shareLink":"    .","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":" ","shapes":"","or":"","click":"","drag":"","curvedArrow":" ","curvedLine":"","editor":"","view":"","blog":" ","howto":" ","github":" ","textNewLine":"","textFinish":" ","zoomToFit":""},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":"","copy":"","copyAsPng":" PNG ","copyAsSvg":" SVG ","bringForward":"","sendToBack":"","bringToFront":"","sendBackward":"","delete":"","copyStyles":"","pasteStyles":"","stroke":"","background":"","fill":"","strokeWidth":"","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"","opacity":"","textAlign":"","fontSize":"","fontFamily":"","onlySelected":"","withBackground":"","addWatermark":" \\"Made with Excalidraw\\"","handDrawn":"","normal":"","code":"","small":"","medium":"","large":"","veryLarge":"","solid":"","hachure":"","crossHatch":"","thin":"","bold":"","left":"","center":"","right":"","extraBold":"","architect":"","artist":"","cartoonist":"","fileTitle":"","colorPicker":"","canvasBackground":"Canvas ","drawingCanvas":" canvas","layers":"","actions":"","language":"","createRoom":"","duplicateSelection":"","untitled":"","name":"","yourName":"","madeWithExcalidraw":" Excalidraw ","group":"","ungroup":""},"buttons":{"clearReset":" canvas","export":"","exportToPng":" PNG","exportToSvg":" SVG","copyToClipboard":"","copyPngToClipboard":" PNG ","save":"","saveAs":"","load":"","getShareableLink":"","close":"","selectLanguage":"","scrollBackToContent":"","zoomIn":"","zoomOut":"","resetZoom":"","menu":"","done":"","edit":"","undo":"","redo":"","roomDialog":"","createNewRoom":"","toggleFullScreen":"","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":" canvas","couldNotCreateShareableLink":"","couldNotLoadInvalidFile":"","importBackendFailed":"","cannotExportEmptyCanvas":" canvas","couldNotCopyToClipboard":" Chrome ","decryptFailed":"","uploadedSecurly":" end-to-end Excalidraw "},"toolBar":{"selection":"","draw":"","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":""},"headings":{"canvasActions":"canvas ","selectedShapeActions":"","shapes":""},"hints":{"linearElement":"","freeDraw":"","linearElementMulti":" Escape  Enter ","resize":" Shift \\\\n Alt ","rotate":" Shift ","lineEditor_info":" Enter ","lineEditor_pointSelected":" Delete ","lineEditor_nothingSelected":" Alt "},"errorSplash":{"headingMain_pre":"","headingMain_button":"","clearCanvasMessage":"","clearCanvasMessage_button":" canvas","clearCanvasCaveat":"","trackedToSentry_pre":"","trackedToSentry_post":"","openIssueMessage_pre":"","openIssueMessage_button":"bug tracker","openIssueMessage_post":" GitHub issue ","sceneContent":""},"roomDialog":{"desc_intro":"","desc_privacy":" end-to-end ","button_startSession":"","button_stopSession":"","desc_inProgressIntro":"","desc_persistenceWarning":" P2P ","desc_shareLink":"","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":"","shapes":"","or":"","click":"","drag":"","curvedArrow":"","curvedLine":"","editor":"","view":"","blog":"","howto":"","github":" issue","textNewLine":"","textFinish":"","zoomToFit":""},"encrypted":{"tooltip":" end-to-end Excalidraw "},"charts":{"noNumericColumn":" spreadsheet ","tooManyColumns":" spreadsheet "}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":"","copy":"","copyAsPng":" PNG ","copyAsSvg":" SVG ","bringForward":"","sendToBack":"","bringToFront":"","sendBackward":"","delete":"","copyStyles":"","pasteStyles":"","stroke":"","background":"","fill":"","strokeWidth":"","strokeStyle":" ()","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"","opacity":"","textAlign":"","fontSize":"","fontFamily":"","onlySelected":"","withBackground":"","addWatermark":" Excalidraw ","handDrawn":"","normal":"","code":"","small":"","medium":"","large":"","veryLarge":"","solid":"","hachure":"","crossHatch":"","thin":"","bold":"","left":"","center":"","right":"","extraBold":"","architect":"","artist":"","cartoonist":"","fileTitle":"","colorPicker":"","canvasBackground":"Canvas ","drawingCanvas":" Canvas","layers":"","actions":"","language":"","createRoom":"","duplicateSelection":"","untitled":"","name":"","yourName":"","madeWithExcalidraw":" Excalidraw ","group":"","ungroup":""},"buttons":{"clearReset":"","export":"","exportToPng":" PNG","exportToSvg":" SVG","copyToClipboard":"","copyPngToClipboard":" PNG ","save":"","saveAs":"","load":"","getShareableLink":"","close":"","selectLanguage":"","scrollBackToContent":"","zoomIn":"","zoomOut":"","resetZoom":"","menu":"","done":"","edit":"","undo":"","redo":"","roomDialog":"","createNewRoom":"","toggleFullScreen":"","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":" canvas?","couldNotCreateShareableLink":"","couldNotLoadInvalidFile":"","importBackendFailed":"","cannotExportEmptyCanvas":" canvas","couldNotCopyToClipboard":"  Chrome ","decryptFailed":"","uploadedSecurly":",  Excalidraw "},"toolBar":{"selection":"","draw":"","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":""},"headings":{"canvasActions":"","selectedShapeActions":"","shapes":""},"hints":{"linearElement":" ","freeDraw":"","linearElementMulti":" Esc/Enter ","resize":"SHIFT\\nALT","rotate":" Shift ","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":"Alt"},"errorSplash":{"headingMain_pre":" ","headingMain_button":"","clearCanvasMessage":",  ","clearCanvasMessage_button":"","clearCanvasCaveat":"  ","trackedToSentry_pre":" ","trackedToSentry_post":" ","openIssueMessage_pre":" ","openIssueMessage_button":"","openIssueMessage_post":"  GitHub Issue ","sceneContent":" :"},"roomDialog":{"desc_intro":"","desc_privacy":", , ","button_startSession":"","button_stopSession":"","desc_inProgressIntro":"","desc_persistenceWarning":"P2P ","desc_shareLink":"","desc_exitSession":". , "},"errorDialog":{"title":""},"shortcutsDialog":{"title":"","shapes":"","or":"","click":"","drag":"","curvedArrow":"","curvedLine":"","editor":"","view":"","blog":"","howto":"","github":"","textNewLine":"","textFinish":"","zoomToFit":""},"encrypted":{"tooltip":"Excalidraw"},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":"","copy":"","copyAsPng":"    PNG","copyAsSvg":"","bringForward":"","sendToBack":"","bringToFront":"","sendBackward":"","delete":"","copyStyles":"","pasteStyles":"","stroke":"","background":"","fill":"","strokeWidth":"","strokeStyle":"","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"","opacity":"","textAlign":"","fontSize":"","fontFamily":"","onlySelected":" ","withBackground":" ","addWatermark":"","handDrawn":"","normal":"","code":"","small":"","medium":"","large":"","veryLarge":"","solid":"","hachure":"","crossHatch":"","thin":"","bold":"","left":"","center":"","right":"","extraBold":"","architect":"","artist":"","cartoonist":"","fileTitle":" ","colorPicker":" ","canvasBackground":" ","drawingCanvas":"","layers":"","actions":"","language":"","createRoom":"  ","duplicateSelection":"","untitled":"","name":"","yourName":"","madeWithExcalidraw":"","group":"","ungroup":""},"buttons":{"clearReset":"  ","export":"","exportToPng":"  PNG","exportToSvg":"  SVG","copyToClipboard":"  ","copyPngToClipboard":"  PNG  ","save":"","saveAs":"","load":"","getShareableLink":"   ","close":"","selectLanguage":"","scrollBackToContent":" ","zoomIn":"","zoomOut":"","resetZoom":"  ","menu":"","done":"","edit":"","undo":" ","redo":" ","roomDialog":"  ","createNewRoom":"  ","toggleFullScreen":"","toggleZenMode":"","exitZenMode":""},"alerts":{"clearReset":"   .    ","couldNotCreateShareableLink":"   .","couldNotLoadInvalidFile":"    ","importBackendFailed":"   .","cannotExportEmptyCanvas":"    .","couldNotCopyToClipboard":"   .    Chrome.","decryptFailed":"   .","uploadedSecurly":"           Excalidraw      ."},"toolBar":{"selection":"","draw":"","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":"      "},"headings":{"canvasActions":" ","selectedShapeActions":"  ","shapes":""},"hints":{"linearElement":"      ","freeDraw":"","linearElementMulti":"       Esc  Enter ","resize":"","rotate":"       SHIFT  ","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":"     ","headingMain_button":"  .","clearCanvasMessage":"        ","clearCanvasMessage_button":" .","clearCanvasCaveat":"      ","trackedToSentry_pre":"  ","trackedToSentry_post":"    .","openIssueMessage_pre":"          .             ","openIssueMessage_button":" .","openIssueMessage_post":"           GitHub.","sceneContent":" :"},"roomDialog":{"desc_intro":"        .","desc_privacy":"               .           .","button_startSession":" ","button_stopSession":" ","desc_inProgressIntro":"   .","desc_persistenceWarning":"","desc_shareLink":"         :","desc_exitSession":""},"errorDialog":{"title":""},"shortcutsDialog":{"title":"","shapes":"","or":"","click":"","drag":"","curvedArrow":"","curvedLine":"","editor":"","view":"","blog":"","howto":"","github":"","textNewLine":"","textFinish":"","zoomToFit":""},"encrypted":{"tooltip":""},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"","selectAll":" ","copy":"","copyAsPng":"   PNG","copyAsSvg":"   SVG","bringForward":"  ","sendToBack":" ","bringToFront":" ","sendBackward":"  ","delete":"","copyStyles":" ","pasteStyles":" ","stroke":" ","background":"","fill":"","strokeWidth":"  ","strokeStyle":"  ","strokeStyle_solid":"","strokeStyle_dashed":"","strokeStyle_dotted":"","sloppiness":"","opacity":"","textAlign":" ","fontSize":" ","fontFamily":" ","onlySelected":"  ","withBackground":" ","addWatermark":" \\"  Excalidraw\\"","handDrawn":" ","normal":"","code":"","small":"","medium":"","large":"","veryLarge":"","solid":"","hachure":" ","crossHatch":" ","thin":"","bold":"","left":"","center":"","right":"","extraBold":"","architect":"","artist":"","cartoonist":"","fileTitle":" ","colorPicker":" ","canvasBackground":" ","drawingCanvas":" ","layers":"","actions":"","language":"","createRoom":"   ","duplicateSelection":"","untitled":" ","name":"","yourName":"","madeWithExcalidraw":"  Excalidraw","group":" ","ungroup":" "},"buttons":{"clearReset":"  ","export":"","exportToPng":"  PNG","exportToSvg":"  SVG","copyToClipboard":" ","copyPngToClipboard":" PNG ","save":"","saveAs":"","load":"","getShareableLink":"  ","close":"","selectLanguage":" ","scrollBackToContent":"  ","zoomIn":"","zoomOut":"","resetZoom":" ","menu":"","done":"","edit":"","undo":"","redo":" ","roomDialog":"  ","createNewRoom":" ","toggleFullScreen":"/  ","toggleZenMode":"/   ","exitZenMode":"   "},"alerts":{"clearReset":"     .  ?","couldNotCreateShareableLink":"    .","couldNotLoadInvalidFile":"     ","importBackendFailed":"  .","cannotExportEmptyCanvas":"    .","couldNotCopyToClipboard":"   .    Chrome.","decryptFailed":"   .","uploadedSecurly":"   ,   Excalidraw       ."},"toolBar":{"selection":"","draw":" ","rectangle":"","diamond":"","ellipse":"","arrow":"","line":"","text":"","lock":"        "},"headings":{"canvasActions":" ","selectedShapeActions":"  ","shapes":""},"hints":{"linearElement":"    ,    ","freeDraw":" ,  ","linearElementMulti":"      Escape  Enter ","resize":"       SHIFT    ,\\n ALT     ","rotate":"       SHIFT   ","lineEditor_info":"","lineEditor_pointSelected":"","lineEditor_nothingSelected":""},"errorSplash":{"headingMain_pre":" .  ","headingMain_button":"   .","clearCanvasMessage":"    ,  ","clearCanvasMessage_button":"  .","clearCanvasCaveat":"     ","trackedToSentry_pre":"   ","trackedToSentry_post":"   .","openIssueMessage_pre":"      .    ,    ","openIssueMessage_button":" .","openIssueMessage_post":"           GitHub.","sceneContent":" :"},"roomDialog":{"desc_intro":"         .","desc_privacy":" ,    ,      .          .","button_startSession":" ","button_stopSession":" ","desc_inProgressIntro":"   .","desc_persistenceWarning":"          ,    . ,   ,             .","desc_shareLink":"         :","desc_exitSession":"    ,       , .        ,        ."},"errorDialog":{"title":""},"shortcutsDialog":{"title":" ","shapes":"","or":"","click":"","drag":"","curvedArrow":" ","curvedLine":" ","editor":"","view":"","blog":"   ","howto":"   ","github":" ? ","textNewLine":"   ()","textFinish":"  ()","zoomToFit":"    "},"encrypted":{"tooltip":"        Excalidraw    ."},"charts":{"noNumericColumn":"","tooManyColumns":""}}')},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(14),o=n(3)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port,n.href=n.protocol+"://"+a+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function i(...e){if(!i.enabled)return;const t=i,o=Number(new Date),a=o-(n||o);t.diff=a,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;s++;const a=r.formatters[o];if("function"==typeof a){const r=e[s];n=a.call(t,r),e.splice(s,1),s--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=o,i.extend=a,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function a(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(i),...r.skips.map(i).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(75),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=6e4,o=60*r,a=24*o;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return i(e,t,a,"day");if(t>=o)return i(e,t,o,"hour");if(t>=r)return i(e,t,r,"minute");if(t>=n)return i(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(77)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(15))},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,a=o-(n||o);e.diff=a,e.prev=n,e.curr=o,n=o;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var o=t.formatters[r];if("function"==typeof o){var a=i[l];n=o.call(e,a),i.splice(l,1),l--}return n})),t.formatArgs.call(e,i);var c=r.log||t.log||console.log.bind(console);c.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(78),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=6e4,o=60*r,a=24*o;function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var s,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?i(s=e,a,"day")||i(s,o,"hour")||i(s,r,"minute")||i(s,n,"second")||s+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r=n(16),o=n(17),a=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,a=e;return a.data=function e(t,n){if(!t)return t;if(o(t)){var a={_placeholder:!0,num:n.length};return n.push(t),a}if(r(t)){for(var i=new Array(t.length),s=0;s<t.length;s++)i[s]=e(t[s],n);return i}if("object"==typeof t&&!(t instanceof Date)){i={};for(var l in t)i[l]=e(t[l],n);return i}return t}(n,t),a.attachments=t.length,{packet:a,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var o=0;o<t.length;o++)t[o]=e(t[o],n);else if("object"==typeof t)for(var a in t)t[a]=e(t[a],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,a=e;!function e(l,c,u){if(!l)return l;if(i&&l instanceof Blob||s&&l instanceof File){n++;var d=new FileReader;d.onload=function(){u?u[c]=this.result:a=this.result,--n||t(a)},d.readAsArrayBuffer(l)}else if(r(l))for(var p=0;p<l.length;p++)e(l[p],p,l);else if("object"==typeof l&&!o(l))for(var h in l)e(l[h],h,l)}(a),n||t(a)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),i=r[0],s=r[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,i,s)),u=0,d=s>0?i-4:i;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,a=[],i=0,s=n-o;i<s;i+=16383)a.push(u(e,i,i+16383>s?s:i+16383));1===o?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=i.length;s<l;++s)r[s]=i[s],o[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,a,i=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(r[(a=o)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var a,i,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,p=n?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(i=a&(1<<-u)-1,a>>=-u,u+=r;u>0;i=256*i+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),a-=c}return(h?-1:1)*i*Math.pow(2,a-r)},t.write=function(e,t,n,r,o,a){var i,s,l,c=8*a-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(i++,l/=2),i+d>=u?(s=0,i=u):i+d>=1?(s=(t*l-1)*Math.pow(2,o),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),i=0));o>=8;e[n+h]=255&s,h+=f,s/=256,o-=8);for(i=i<<o|s,c+=o;c>0;e[n+h]=255&i,h+=f,i/=256,c-=8);e[n+h-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(85),e.exports.parser=n(4)},function(e,t,n){var r=n(19),o=n(12),a=n(3)("engine.io-client:socket"),i=n(23),s=n(4),l=n(14),c=n(5);function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=u,u.priorWebsocketSuccess=!1,o(u.prototype),u.protocol=s.protocol,u.Socket=u,u.Transport=n(11),u.transports=n(19),u.parser=n(4),u.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},u.prototype.probe=function(e){a('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(a('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(a('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;u.priorWebsocketSuccess="websocket"===t.name,a('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(a("changing transport and sending upgrade packet"),p(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{a('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=t.name,r.emit("upgradeError",i)}})))}function i(){n||(n=!0,p(),t.close(),t=null)}function s(n){var o=new Error("probe error: "+n);o.transport=t.name,i(),a('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function l(){s("transport closed")}function c(){s("socket closed")}function d(e){t&&e.name!==t.name&&(a('"%s" works - aborting "%s"',e.name,t.name),i())}function p(){t.removeListener("open",o),t.removeListener("error",s),t.removeListener("close",l),r.removeListener("close",c),r.removeListener("upgrading",d)}u.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",s),t.once("close",l),this.once("close",c),this.once("upgrading",d),t.open()},u.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},u.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),a("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},u.prototype.onError=function(e){a("socket error %j",e),u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~i(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){var r=n(10),o=n(20),a=n(12),i=n(6),s=n(3)("engine.io-client:polling-xhr");function l(){}function c(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=c,e.exports.Request=u,i(c,o),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},c.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=r},c.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},a(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",p);else if("function"==typeof addEventListener){var d="onpagehide"in self?"pagehide":"unload";addEventListener(d,p,!1)}function p(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),a=new Uint8Array(n-t),i=t,s=0;i<n;i++,s++)a[s]=o[i];return a.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var o=!1;return r=r||n,a.count=e,0===e?t():a;function a(e,n){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(o=!0,t(e),t=r):0!==a.count||o||t(null,n)}}},function(e,t){var n,r,o,a=String.fromCharCode;function i(e){for(var t,n,r=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return a(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return a(e);var n="";return 0==(4294965248&e)?n=a(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=a(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=a(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+=a(63&e|128)}function u(){if(o>=r)throw Error("Invalid byte index");var e=255&n[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,a;if(o>r)throw Error("Invalid byte index");if(o==r)return!1;if(t=255&n[o],o++,0==(128&t))return t;if(192==(224&t)){if((a=(31&t)<<6|u())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&t)){if((a=(15&t)<<12|u()<<6|u())>=2048)return s(a,e)?a:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(a=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=i(e),o=r.length,a=-1,s="";++a<o;)s+=c(r[a],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=i(e),r=n.length,o=0;for(var l,c=[];!1!==(l=d(s));)c.push(l);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=a(t);return o}(c)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,a="";for(n=0;n<o;n+=3)a+=e[r[n]>>2],a+=e[(3&r[n])<<4|r[n+1]>>4],a+=e[(15&r[n+1])<<2|r[n+2]>>6],a+=e[63&r[n+2]];return o%3==2?a=a.substring(0,a.length-1)+"=":o%3==1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(e){var t,r,o,a,i,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;t<l;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],a=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],d[c++]=r<<2|o>>4,d[c++]=(15&o)<<4|a>>2,d[c++]=(3&a)<<6|63&i;return u}}()},function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),a=n&&n.prototype.append&&n.prototype.getBlob;function i(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function s(e,t){t=t||{};var r=new n;return i(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function l(e,t){return new Blob(i(e),t||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,l.prototype=Blob.prototype),e.exports=r?o?Blob:l:a?s:void 0},function(e,t,n){(function(t){var r=n(20),o=n(6);e.exports=u;var a,i=/\n/g,s=/\\n/g;function l(){}function c(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function u(e){if(r.call(this,e),this.query=this.query||{},!a){var t=c();a=t.___eio=t.___eio||[]}this.index=a.length;var n=this;a.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=l)}),!1)}o(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=l,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}function c(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),e=e.replace(s,"\\\n"),this.area.value=e.replace(i,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,n(7))},function(e,t,n){(function(t){var r,o,a=n(11),i=n(4),s=n(5),l=n(6),c=n(22),u=n(3)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=n(97)}catch(e){}var d=r||o;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=o),a.call(this,e)}e.exports=p,l(p,a),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,o=0,a=r;o<a;o++)!function(e){i.encodePacket(e,n.supportsBinary,(function(o){if(!n.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),n.perMessageDeflate)("string"==typeof o?t.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(a.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,a)}catch(e){u("websocket closed before onclose event")}--r||s()}))}(e[o]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},p.prototype.onClose=function(){a.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===p.prototype.name)}}).call(this,n(9).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);function a(e,t,n){if(e&&e.length){var r=t[0],o=t[1],a=Math.PI/180*n,i=Math.cos(a),s=Math.sin(a);e.forEach((function(e){var t=e[0],n=e[1];e[0]=(t-r)*i-(n-o)*s+r,e[1]=(t-r)*s+(n-o)*i+o}))}}function i(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function s(e,t,n){var r=e.length;if(r<3)return!1;for(var o=[Number.MAX_SAFE_INTEGER,n],a=[t,n],i=0,s=0;s<r;s++){var d=e[s],p=e[(s+1)%r];if(u(d,p,a,o)){if(0===c(d,a,p))return l(d,a,p);i++}}return i%2==1}function l(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])}function c(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2}function u(e,t,n,r){var o=c(e,t,n),a=c(e,t,r),i=c(n,r,e),s=c(n,r,t);return o!==a&&i!==s||(!(0!==o||!l(e,n,t))||(!(0!==a||!l(e,r,t))||(!(0!==i||!l(n,e,r))||!(0!==s||!l(n,t,r)))))}var d=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function p(e,t){var n=[0,0],r=Math.round(t.hachureAngle+90);r&&a(e,n,r);var o=function(e,t){var n=d(e);n[0].join(",")!==n[n.length-1].join(",")&&n.push([n[0][0],n[0][1]]);var r=[];if(n&&n.length>2){var o=t.hachureGap;o<0&&(o=4*t.strokeWidth),o=Math.max(o,.1);for(var a=[],i=0;i<n.length-1;i++){var s=n[i],l=n[i+1];if(s[1]!==l[1]){var c=Math.min(s[1],l[1]);a.push({ymin:c,ymax:Math.max(s[1],l[1]),x:c===s[1]?s[0]:l[0],islope:(l[0]-s[0])/(l[1]-s[1])})}}if(a.sort((function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)})),!a.length)return r;for(var u=[],p=a[0].ymin;u.length||a.length;){if(a.length){var h=-1;for(i=0;i<a.length&&!(a[i].ymin>p);i++)h=i;a.splice(0,h+1).forEach((function(e){u.push({s:p,edge:e})}))}if((u=u.filter((function(e){return!(e.edge.ymax<=p)}))).sort((function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)})),u.length>1)for(i=0;i<u.length;i+=2){var f=i+1;if(f>=u.length)break;var m=u[i].edge,g=u[f].edge;r.push([[Math.round(m.x),p],[Math.round(g.x),p]])}p+=o,u.forEach((function(e){e.edge.x=e.edge.x+o*e.edge.islope}))}}return r}(e,t);return r&&(a(e,n,-r),function(e,t,n){var r=[];e.forEach((function(e){return r.push.apply(r,e)})),a(r,t,n)}(o,n,-r)),o}var h,f=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r},m=function(){function e(e){this.helper=e}return e.prototype.fillPolygon=function(e,t){return this._fillPolygon(e,t)},e.prototype._fillPolygon=function(e,t,n){void 0===n&&(n=!1);var r=p(e,t);if(n){var o=this.connectingLines(e,r);r=r.concat(o)}return{type:"fillSketch",ops:this.renderLines(r,t)}},e.prototype.renderLines=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var a=o[r];n.push.apply(n,this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],t))}return n},e.prototype.connectingLines=function(e,t){var n=[];if(t.length>1)for(var r=1;r<t.length;r++){var o=t[r-1];if(!(i(o)<3)){var a=[t[r][0],o[1]];if(i(a)>3){var s=this.splitOnIntersections(e,a);n.push.apply(n,s)}}}return n},e.prototype.midPointInPolygon=function(e,t){return s(e,(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2)},e.prototype.splitOnIntersections=function(e,t){for(var n,r,o,a,l,c,d,p,h,m,g,y=Math.max(5,.1*i(t)),v=[],b=0;b<e.length;b++){var k=e[b],w=e[(b+1)%e.length];if(u.apply(void 0,f([k,w],t))){var E=(n=k,r=w,o=t[0],a=t[1],l=void 0,c=void 0,d=void 0,p=void 0,h=void 0,m=void 0,g=void 0,l=r[1]-n[1],c=n[0]-r[0],d=l*n[0]+c*n[1],p=a[1]-o[1],h=o[0]-a[0],m=p*o[0]+h*o[1],(g=l*h-p*c)?[(h*d-c*m)/g,(l*m-p*d)/g]:null);if(E){var S=i([E,t[0]]),C=i([E,t[1]]);S>y&&C>y&&v.push({point:E,distance:S})}}}if(v.length>1){var x=v.sort((function(e,t){return e.distance-t.distance})).map((function(e){return e.point}));if(s.apply(void 0,f([e],t[0]))||x.shift(),s.apply(void 0,f([e],t[1]))||x.pop(),x.length<=1)return this.midPointInPolygon(e,t)?[t]:[];var P=f([t[0]],x,[t[1]]),T=[];for(b=0;b<P.length-1;b+=2){var A=[P[b],P[b+1]];this.midPointInPolygon(e,A)&&T.push(A)}return T}return this.midPointInPolygon(e,t)?[t]:[]},e}(),g=(h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.fillPolygon=function(e,t){return this._fillPolygon(e,t,!0)},t}(m),v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.fillPolygon=function(e,t){var n=this._fillPolygon(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),o=this._fillPolygon(e,r);return n.ops=n.ops.concat(o.ops),n},t}(m),k=function(){function e(e){this.helper=e}return e.prototype.fillPolygon=function(e,t){var n=p(e,t=Object.assign({},t,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(n,t)},e.prototype.dotsOnLines=function(e,t){var n=[],r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);var o=t.fillWeight;o<0&&(o=t.strokeWidth/2);for(var a=r/4,s=0,l=e;s<l.length;s++)for(var c=l[s],u=i(c),d=u/r,p=Math.ceil(d)-1,h=u-p*r,f=(c[0][0]+c[1][0])/2-r/4,m=Math.min(c[0][1],c[1][1]),g=0;g<p;g++){var y=m+h+g*r,v=this.helper.randOffsetWithRange(f-a,f+a,t),b=this.helper.randOffsetWithRange(y-a,y+a,t),k=this.helper.ellipse(v,b,o,o,t);n.push.apply(n,k.ops)}return{type:"fillSketch",ops:n}},e}(),w=function(){function e(e){this.helper=e}return e.prototype.fillPolygon=function(e,t){var n=p(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}},e.prototype.dashedLine=function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,o=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,a=[];return e.forEach((function(e){var s=i(e),l=Math.floor(s/(r+o)),c=(s+o-l*(r+o))/2,u=e[0],d=e[1];u[0]>d[0]&&(u=e[1],d=e[0]);for(var p=Math.atan((d[1]-u[1])/(d[0]-u[0])),h=0;h<l;h++){var f=h*(r+o),m=f+r,g=[u[0]+f*Math.cos(p)+c*Math.cos(p),u[1]+f*Math.sin(p)+c*Math.sin(p)],y=[u[0]+m*Math.cos(p)+c*Math.cos(p),u[1]+m*Math.sin(p)+c*Math.sin(p)];a.push.apply(a,n.helper.doubleLineOps(g[0],g[1],y[0],y[1],t))}})),a},e}(),E=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r},S=function(){function e(e){this.helper=e}return e.prototype.fillPolygon=function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,o=p(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(o,r,t)}},e.prototype.zigzagLines=function(e,t,n){var r=this,o=[];return e.forEach((function(e){var a=i(e),s=Math.round(a/(2*t)),l=e[0],c=e[1];l[0]>c[0]&&(l=e[1],c=e[0]);for(var u=Math.atan((c[1]-l[1])/(c[0]-l[0])),d=0;d<s;d++){var p=2*d*t,h=2*(d+1)*t,f=Math.sqrt(2*Math.pow(t,2)),m=[l[0]+p*Math.cos(u),l[1]+p*Math.sin(u)],g=[l[0]+h*Math.cos(u),l[1]+h*Math.sin(u)],y=[m[0]+f*Math.cos(u+Math.PI/4),m[1]+f*Math.sin(u+Math.PI/4)];o.push.apply(o,E(r.helper.doubleLineOps(m[0],m[1],y[0],y[1],n),r.helper.doubleLineOps(y[0],y[1],g[0],g[1],n)))}})),o},e}(),C={};var x=function(){function e(e){this.seed=e}return e.prototype.next=function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()},e}();const P={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function T(e,t){return e.type===t}function A(e){const t=[],n=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e);let r="BOD",o=0,a=n[o];for(;!T(a,2);){let i=0;const s=[];if("BOD"===r){if("M"!==a.text&&"m"!==a.text)return A("M0,0"+e);o++,i=P[a.text],r=a.text}else T(a,1)?i=P[r]:(o++,i=P[a.text],r=a.text);if(!(o+i<n.length))throw new Error("Path data ended short");for(let e=o;e<o+i;e++){const t=n[e];if(!T(t,1))throw new Error("Param not a number: "+r+","+t.text);s[s.length]=+t.text}if("number"!=typeof P[r])throw new Error("Bad segment: "+r);{const e={key:r,data:s};t.push(e),o+=i,a=n[o],"M"===r&&(r="L"),"m"===r&&(r="l")}}return t}function O(e){let t=0,n=0,r=0,o=0;const a=[];for(const{key:i,data:s}of e)switch(i){case"M":a.push({key:"M",data:[...s]}),[t,n]=s,[r,o]=s;break;case"m":t+=s[0],n+=s[1],a.push({key:"M",data:[t,n]}),r=t,o=n;break;case"L":a.push({key:"L",data:[...s]}),[t,n]=s;break;case"l":t+=s[0],n+=s[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...s]}),t=s[4],n=s[5];break;case"c":{const e=s.map((e,r)=>r%2?e+n:e+t);a.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":a.push({key:"Q",data:[...s]}),t=s[2],n=s[3];break;case"q":{const e=s.map((e,r)=>r%2?e+n:e+t);a.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":a.push({key:"A",data:[...s]}),t=s[5],n=s[6];break;case"a":t+=s[5],n+=s[6],a.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,n]});break;case"H":a.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...s]}),n=s[0];break;case"v":n+=s[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...s]}),t=s[2],n=s[3];break;case"s":{const e=s.map((e,r)=>r%2?e+n:e+t);a.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":a.push({key:"T",data:[...s]}),t=s[0],n=s[1];break;case"t":t+=s[0],n+=s[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=r,n=o}return a}function M(e){const t=[];let n="",r=0,o=0,a=0,i=0,s=0,l=0;for(const{key:c,data:u}of e){switch(c){case"M":t.push({key:"M",data:[...u]}),[r,o]=u,[a,i]=u;break;case"C":t.push({key:"C",data:[...u]}),r=u[4],o=u[5],s=u[2],l=u[3];break;case"L":t.push({key:"L",data:[...u]}),[r,o]=u;break;case"H":r=u[0],t.push({key:"L",data:[r,o]});break;case"V":o=u[0],t.push({key:"L",data:[r,o]});break;case"S":{let e=0,a=0;"C"===n||"S"===n?(e=r+(r-s),a=o+(o-l)):(e=r,a=o),t.push({key:"C",data:[e,a,...u]}),s=u[0],l=u[1],r=u[2],o=u[3];break}case"T":{const[e,a]=u;let i=0,c=0;"Q"===n||"T"===n?(i=r+(r-s),c=o+(o-l)):(i=r,c=o);const d=r+2*(i-r)/3,p=o+2*(c-o)/3,h=e+2*(i-e)/3,f=a+2*(c-a)/3;t.push({key:"C",data:[d,p,h,f,e,a]}),s=i,l=c,r=e,o=a;break}case"Q":{const[e,n,a,i]=u,c=r+2*(e-r)/3,d=o+2*(n-o)/3,p=a+2*(e-a)/3,h=i+2*(n-i)/3;t.push({key:"C",data:[c,d,p,h,a,i]}),s=e,l=n,r=a,o=i;break}case"A":{const e=Math.abs(u[0]),n=Math.abs(u[1]),a=u[2],i=u[3],s=u[4],l=u[5],c=u[6];if(0===e||0===n)t.push({key:"C",data:[r,o,l,c,l,c]}),r=l,o=c;else if(r!==l||o!==c){_(r,o,l,c,e,n,a,i,s).forEach((function(e){t.push({key:"C",data:e})})),r=l,o=c}break}case"Z":t.push({key:"Z",data:[]}),r=a,o=i}n=c}return t}function z(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function _(e,t,n,r,o,a,i,s,l,c){const u=(d=i,Math.PI*d/180);var d;let p=[],h=0,f=0,m=0,g=0;if(c)[h,f,m,g]=c;else{[e,t]=z(e,t,-u),[n,r]=z(n,r,-u);const i=(e-n)/2,c=(t-r)/2;let d=i*i/(o*o)+c*c/(a*a);d>1&&(d=Math.sqrt(d),o*=d,a*=d);const p=o*o,y=a*a,v=p*y-p*c*c-y*i*i,b=p*c*c+y*i*i,k=(s===l?-1:1)*Math.sqrt(Math.abs(v/b));m=k*o*c/a+(e+n)/2,g=k*-a*i/o+(t+r)/2,h=Math.asin(parseFloat(((t-g)/a).toFixed(9))),f=Math.asin(parseFloat(((r-g)/a).toFixed(9))),e<m&&(h=Math.PI-h),n<m&&(f=Math.PI-f),h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),l&&h>f&&(h-=2*Math.PI),!l&&f>h&&(f-=2*Math.PI)}let y=f-h;if(Math.abs(y)>120*Math.PI/180){const e=f,t=n,s=r;f=l&&f>h?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,p=_(n=m+o*Math.cos(f),r=g+a*Math.sin(f),t,s,o,a,i,0,l,[f,e,m,g])}y=f-h;const v=Math.cos(h),b=Math.sin(h),k=Math.cos(f),w=Math.sin(f),E=Math.tan(y/4),S=4/3*o*E,C=4/3*a*E,x=[e,t],P=[e+S*b,t-C*v],T=[n+S*w,r-C*k],A=[n,r];if(P[0]=2*x[0]-P[0],P[1]=2*x[1]-P[1],c)return[P,T,A].concat(p);{p=[P,T,A].concat(p);const e=[];for(let t=0;t<p.length;t+=3){const n=z(p[t][0],p[t][1],u),r=z(p[t+1][0],p[t+1][1],u),o=z(p[t+2][0],p[t+2][1],u);e.push([n[0],n[1],r[0],r[1],o[0],o[1]])}return e}}var I=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r},D={randOffset:function(e,t){return K(e,t)},randOffsetWithRange:function(e,t,n){return q(e,t,n)},ellipse:function(e,t,n,r,o){var a=B(n,r,o);return R(e,t,o,a).opset},doubleLineOps:function(e,t,n,r,o){return Y(e,t,n,r,o,!0)}};function L(e,t,n,r,o){return{type:"path",ops:Y(e,t,n,r,o)}}function j(e,t,n){var r=(e||[]).length;if(r>2){for(var o=[],a=0;a<r-1;a++)o.push.apply(o,Y(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n));return t&&o.push.apply(o,Y(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:o}}return 2===r?L(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function N(e,t,n,r,o){return function(e,t){return j(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],o)}function F(e,t){var n=X(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){var r=X(e,1.5*(1+.22*t.roughness),function(e){var t=Object.assign({},e);t.randomizer=void 0,e.seed&&(t.seed=e.seed+1);return t}(t));n=n.concat(r)}return{type:"path",ops:n}}function B(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),o=Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r),a=2*Math.PI/o,i=Math.abs(e/2),s=Math.abs(t/2),l=1-n.curveFitting;return{increment:a,rx:i+=K(i*l,n),ry:s+=K(s*l,n)}}function R(e,t,n,r){var o=$(r.increment,e,t,r.rx,r.ry,1,r.increment*q(.1,q(.4,1,n),n),n),a=o[0],i=o[1],s=J(a,null,n);if(!n.disableMultiStroke){var l=J($(r.increment,e,t,r.rx,r.ry,1.5,0,n)[0],null,n);s=s.concat(l)}return{estimatedPoints:i,opset:{type:"path",ops:s}}}function H(e,t,n,r,o,a,i,s,l){var c=e,u=t,d=Math.abs(n/2),p=Math.abs(r/2);d+=K(.01*d,l),p+=K(.01*p,l);for(var h=o,f=a;h<0;)h+=2*Math.PI,f+=2*Math.PI;f-h>2*Math.PI&&(h=0,f=2*Math.PI);var m=2*Math.PI/l.curveStepCount,g=Math.min(m/2,(f-h)/2),y=Q(g,c,u,d,p,h,f,1,l);if(!l.disableMultiStroke){var v=Q(g,c,u,d,p,h,f,1.5,l);y.push.apply(y,v)}return i&&(s?y.push.apply(y,I(Y(c,u,c+d*Math.cos(h),u+p*Math.sin(h),l),Y(c,u,c+d*Math.cos(f),u+p*Math.sin(f),l))):y.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+d*Math.cos(h),u+p*Math.sin(h)]})),{type:"path",ops:y}}function W(e,t){for(var n=M(O(A(e))),r=[],o=[0,0],a=[0,0],i=function(e,n){switch(e){case"M":var i=1*(t.maxRandomnessOffset||0);r.push({op:"move",data:n.map((function(e){return e+K(i,t)}))}),a=[n[0],n[1]],o=[n[0],n[1]];break;case"L":r.push.apply(r,Y(a[0],a[1],n[0],n[1],t)),a=[n[0],n[1]];break;case"C":var s=n[0],l=n[1],c=n[2],u=n[3],d=n[4],p=n[5];r.push.apply(r,function(e,t,n,r,o,a,i,s){for(var l=[],c=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3],u=[0,0],d=s.disableMultiStroke?1:2,p=0;p<d;p++)0===p?l.push({op:"move",data:[i[0],i[1]]}):l.push({op:"move",data:[i[0]+K(c[0],s),i[1]+K(c[0],s)]}),u=[o+K(c[p],s),a+K(c[p],s)],l.push({op:"bcurveTo",data:[e+K(c[p],s),t+K(c[p],s),n+K(c[p],s),r+K(c[p],s),u[0],u[1]]});return l}(s,l,c,u,d,p,a,t)),a=[d,p];break;case"Z":r.push.apply(r,Y(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]]}},s=0,l=n;s<l.length;s++){var c=l[s];i(c.key,c.data)}return{type:"path",ops:r}}function G(e,t){var n=[];if(e.length){var r=t.maxRandomnessOffset||0,o=e.length;if(o>2){n.push({op:"move",data:[e[0][0]+K(r,t),e[0][1]+K(r,t)]});for(var a=1;a<o;a++)n.push({op:"lineTo",data:[e[a][0]+K(r,t),e[a][1]+K(r,t)]})}}return{type:"fillPath",ops:n}}function U(e,t){return function(e,t){var n=e.fillStyle||"hachure";if(!C[n])switch(n){case"zigzag":C[n]||(C[n]=new y(t));break;case"cross-hatch":C[n]||(C[n]=new b(t));break;case"dots":C[n]||(C[n]=new k(t));break;case"dashed":C[n]||(C[n]=new w(t));break;case"zigzag-line":C[n]||(C[n]=new S(t));break;case"hachure":default:C[n="hachure"]||(C[n]=new m(t))}return C[n]}(t,D).fillPolygon(e,t)}function V(e){return e.randomizer||(e.randomizer=new x(e.seed||0)),e.randomizer.next()}function q(e,t,n,r){return void 0===r&&(r=1),n.roughness*r*(V(n)*(t-e)+e)}function K(e,t,n){return void 0===n&&(n=1),q(-e,e,t,n)}function Y(e,t,n,r,o,a){void 0===a&&(a=!1);var i=a?o.disableMultiStrokeFill:o.disableMultiStroke,s=Z(e,t,n,r,o,!0,!1);if(i)return s;var l=Z(e,t,n,r,o,!0,!0);return s.concat(l)}function Z(e,t,n,r,o,a,i){var s=Math.pow(e-n,2)+Math.pow(t-r,2),l=Math.sqrt(s),c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;var u=o.maxRandomnessOffset||0;u*u*100>s&&(u=l/10);var d=u/2,p=.2+.2*V(o),h=o.bowing*o.maxRandomnessOffset*(r-t)/200,f=o.bowing*o.maxRandomnessOffset*(e-n)/200;h=K(h,o,c),f=K(f,o,c);var m=[],g=function(){return K(d,o,c)},y=function(){return K(u,o,c)};return a&&(i?m.push({op:"move",data:[e+g(),t+g()]}):m.push({op:"move",data:[e+K(u,o,c),t+K(u,o,c)]})),i?m.push({op:"bcurveTo",data:[h+e+(n-e)*p+g(),f+t+(r-t)*p+g(),h+e+2*(n-e)*p+g(),f+t+2*(r-t)*p+g(),n+g(),r+g()]}):m.push({op:"bcurveTo",data:[h+e+(n-e)*p+y(),f+t+(r-t)*p+y(),h+e+2*(n-e)*p+y(),f+t+2*(r-t)*p+y(),n+y(),r+y()]}),m}function X(e,t,n){var r=[];r.push([e[0][0]+K(t,n),e[0][1]+K(t,n)]),r.push([e[0][0]+K(t,n),e[0][1]+K(t,n)]);for(var o=1;o<e.length;o++)r.push([e[o][0]+K(t,n),e[o][1]+K(t,n)]),o===e.length-1&&r.push([e[o][0]+K(t,n),e[o][1]+K(t,n)]);return J(r,null,n)}function J(e,t,n){var r=e.length,o=[];if(r>3){var a=[],i=1-n.curveTightness;o.push({op:"move",data:[e[1][0],e[1][1]]});for(var s=1;s+2<r;s++){var l=e[s];a[0]=[l[0],l[1]],a[1]=[l[0]+(i*e[s+1][0]-i*e[s-1][0])/6,l[1]+(i*e[s+1][1]-i*e[s-1][1])/6],a[2]=[e[s+1][0]+(i*e[s][0]-i*e[s+2][0])/6,e[s+1][1]+(i*e[s][1]-i*e[s+2][1])/6],a[3]=[e[s+1][0],e[s+1][1]],o.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&2===t.length){var c=n.maxRandomnessOffset;o.push({op:"lineTo",data:[t[0]+K(c,n),t[1]+K(c,n)]})}}else 3===r?(o.push({op:"move",data:[e[1][0],e[1][1]]}),o.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&o.push.apply(o,Y(e[0][0],e[0][1],e[1][0],e[1][1],n));return o}function $(e,t,n,r,o,a,i,s){var l=[],c=[],u=K(.5,s)-Math.PI/2;c.push([K(a,s)+t+.9*r*Math.cos(u-e),K(a,s)+n+.9*o*Math.sin(u-e)]);for(var d=u;d<2*Math.PI+u-.01;d+=e){var p=[K(a,s)+t+r*Math.cos(d),K(a,s)+n+o*Math.sin(d)];l.push(p),c.push(p)}return c.push([K(a,s)+t+r*Math.cos(u+2*Math.PI+.5*i),K(a,s)+n+o*Math.sin(u+2*Math.PI+.5*i)]),c.push([K(a,s)+t+.98*r*Math.cos(u+i),K(a,s)+n+.98*o*Math.sin(u+i)]),c.push([K(a,s)+t+.9*r*Math.cos(u+.5*i),K(a,s)+n+.9*o*Math.sin(u+.5*i)]),[c,l]}function Q(e,t,n,r,o,a,i,s,l){var c=a+K(.1,l),u=[];u.push([K(s,l)+t+.9*r*Math.cos(c-e),K(s,l)+n+.9*o*Math.sin(c-e)]);for(var d=c;d<=i;d+=e)u.push([K(s,l)+t+r*Math.cos(d),K(s,l)+n+o*Math.sin(d)]);return u.push([t+r*Math.cos(i),n+o*Math.sin(i)]),u.push([t+r*Math.cos(i),n+o*Math.sin(i)]),J(u,null,l)}function ee(e){return[...e]}function te(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function ne(e,t,n){const r=te(t,n);if(0===r)return te(e,t);let o=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return o=Math.max(0,Math.min(1,o)),te(e,re(t,n,o))}function re(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function oe(e,t,n,r){const o=r||[];if(function(e,t){const n=e[t+0],r=e[t+1],o=e[t+2],a=e[t+3];let i=3*r[0]-2*n[0]-a[0];i*=i;let s=3*r[1]-2*n[1]-a[1];s*=s;let l=3*o[0]-2*a[0]-n[0];l*=l;let c=3*o[1]-2*a[1]-n[1];return c*=c,i<l&&(i=l),s<c&&(s=c),i+s}(e,t)<n){const n=e[t+0];if(o.length){(a=o[o.length-1],i=n,Math.sqrt(te(a,i)))>1&&o.push(n)}else o.push(n);o.push(e[t+3])}else{const r=.5,a=e[t+0],i=e[t+1],s=e[t+2],l=e[t+3],c=re(a,i,r),u=re(i,s,r),d=re(s,l,r),p=re(c,u,r),h=re(u,d,r),f=re(p,h,r);oe([a,c,p,f],0,n,o),oe([f,h,d,l],0,n,o)}var a,i;return o}function ae(e,t){return ie(e,0,e.length,t)}function ie(e,t,n,r,o){const a=o||[],i=e[t],s=e[n-1];let l=0,c=1;for(let r=t+1;r<n-1;++r){const t=ne(e[r],i,s);t>l&&(l=t,c=r)}return Math.sqrt(l)>r?(ie(e,t,c+1,r,a),ie(e,c,n,r,a)):(a.length||a.push(i),a.push(s)),a}function se(e,t=.15,n){const r=[],o=(e.length-1)/3;for(let n=0;n<o;n++){oe(e,3*n,t,r)}return n&&n>0?ie(r,0,r.length,n):r}var le,ce,ue="none",de=function(){function e(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return e.newSeed=function(){return Math.floor(Math.random()*Math.pow(2,31))},e.prototype._o=function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions},e.prototype._d=function(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}},e.prototype.line=function(e,t,n,r,o){var a=this._o(o);return this._d("line",[L(e,t,n,r,a)],a)},e.prototype.rectangle=function(e,t,n,r,o){var a=this._o(o),i=[],s=N(e,t,n,r,a);if(a.fill){var l=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===a.fillStyle?i.push(G(l,a)):i.push(U(l,a))}return a.stroke!==ue&&i.push(s),this._d("rectangle",i,a)},e.prototype.ellipse=function(e,t,n,r,o){var a=this._o(o),i=[],s=B(n,r,a),l=R(e,t,a,s);if(a.fill)if("solid"===a.fillStyle){var c=R(e,t,a,s).opset;c.type="fillPath",i.push(c)}else i.push(U(l.estimatedPoints,a));return a.stroke!==ue&&i.push(l.opset),this._d("ellipse",i,a)},e.prototype.circle=function(e,t,n,r){var o=this.ellipse(e,t,n,n,r);return o.shape="circle",o},e.prototype.linearPath=function(e,t){var n=this._o(t);return this._d("linearPath",[j(e,!1,n)],n)},e.prototype.arc=function(e,t,n,r,o,a,i,s){void 0===i&&(i=!1);var l=this._o(s),c=[],u=H(e,t,n,r,o,a,i,!0,l);if(i&&l.fill)if("solid"===l.fillStyle){var d=H(e,t,n,r,o,a,!0,!1,l);d.type="fillPath",c.push(d)}else c.push(function(e,t,n,r,o,a,i){var s=e,l=t,c=Math.abs(n/2),u=Math.abs(r/2);c+=K(.01*c,i),u+=K(.01*u,i);for(var d=o,p=a;d<0;)d+=2*Math.PI,p+=2*Math.PI;p-d>2*Math.PI&&(d=0,p=2*Math.PI);for(var h=(p-d)/i.curveStepCount,f=[],m=d;m<=p;m+=h)f.push([s+c*Math.cos(m),l+u*Math.sin(m)]);return f.push([s+c*Math.cos(p),l+u*Math.sin(p)]),f.push([s,l]),U(f,i)}(e,t,n,r,o,a,l));return l.stroke!==ue&&c.push(u),this._d("arc",c,l)},e.prototype.curve=function(e,t){var n=this._o(t),r=[],o=F(e,n);if(n.fill&&n.fill!==ue&&e.length>=3){var a=se(function(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(3===n)r.push(ee(e[0]),ee(e[1]),ee(e[2]),ee(e[2]));else{const n=[];n.push(e[0],e[0]);for(let t=1;t<e.length;t++)n.push(e[t]),t===e.length-1&&n.push(e[t]);const o=[],a=1-t;r.push(ee(n[0]));for(let e=1;e+2<n.length;e++){const t=n[e];o[0]=[t[0],t[1]],o[1]=[t[0]+(a*n[e+1][0]-a*n[e-1][0])/6,t[1]+(a*n[e+1][1]-a*n[e-1][1])/6],o[2]=[n[e+1][0]+(a*n[e][0]-a*n[e+2][0])/6,n[e+1][1]+(a*n[e][1]-a*n[e+2][1])/6],o[3]=[n[e+1][0],n[e+1][1]],r.push(o[1],o[2],o[3])}}return r}(e),10,(1+n.roughness)/2);"solid"===n.fillStyle?r.push(G(a,n)):r.push(U(a,n))}return n.stroke!==ue&&r.push(o),this._d("curve",r,n)},e.prototype.polygon=function(e,t){var n=this._o(t),r=[],o=j(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(G(e,n)):r.push(U(e,n))),n.stroke!==ue&&r.push(o),this._d("polygon",r,n)},e.prototype.path=function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var o=n.fill&&"transparent"!==n.fill&&n.fill!==ue,a=n.stroke!==ue,i=!!(n.simplification&&n.simplification<1),s=function(e,t,n){const r=M(O(A(e))),o=[];let a=[],i=[0,0],s=[];const l=()=>{s.length>=4&&a.push(...se(s,t)),s=[]},c=()=>{l(),a.length&&(o.push(a),a=[])};for(const{key:e,data:t}of r)switch(e){case"M":c(),i=[t[0],t[1]],a.push(i);break;case"L":l(),a.push([t[0],t[1]]);break;case"C":if(!s.length){const e=a.length?a[a.length-1]:i;s.push([e[0],e[1]])}s.push([t[0],t[1]]),s.push([t[2],t[3]]),s.push([t[4],t[5]]);break;case"Z":l(),a.push([i[0],i[1]])}if(c(),!n)return o;const u=[];for(const e of o){const t=ae(e,n);t.length&&u.push(t)}return u}(e,1,i?4-4*n.simplification:(1+n.roughness)/2);if(o)if(n.combineNestedSvgPaths){var l=[];s.forEach((function(e){return l.push.apply(l,e)})),"solid"===n.fillStyle?r.push(G(l,n)):r.push(U(l,n))}else s.forEach((function(e){"solid"===n.fillStyle?r.push(G(e,n)):r.push(U(e,n))}));return a&&(i?s.forEach((function(e){r.push(j(e,!1,n))})):r.push(W(e,n))),this._d("path",r,n)},e.prototype.opsToPath=function(e){for(var t="",n=0,r=e.ops;n<r.length;n++){var o=r[n],a=o.data;switch(o.op){case"move":t+="M".concat(a[0]," ").concat(a[1]," ");break;case"bcurveTo":t+="C".concat(a[0]," ").concat(a[1],", ").concat(a[2]," ").concat(a[3],", ").concat(a[4]," ").concat(a[5]," ");break;case"lineTo":t+="L".concat(a[0]," ").concat(a[1]," ")}}return t.trim()},e.prototype.toPaths=function(e){for(var t=e.sets||[],n=e.options||this.defaultOptions,r=[],o=0,a=t;o<a.length;o++){var i=a[o],s=null;switch(i.type){case"path":s={d:this.opsToPath(i),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:ue};break;case"fillPath":s={d:this.opsToPath(i),stroke:ue,strokeWidth:0,fill:n.fill||ue};break;case"fillSketch":s=this.fillSketch(i,n)}s&&r.push(s)}return r},e.prototype.fillSketch=function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||ue,strokeWidth:n,fill:ue}},e}(),pe=function(){function e(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new de(t)}return e.prototype.draw=function(e){for(var t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.ctx,o=0,a=t;o<a.length;o++){var i=a[o];switch(i.type){case"path":r.save(),r.strokeStyle="none"===n.stroke?"transparent":n.stroke,r.lineWidth=n.strokeWidth,n.strokeLineDash&&r.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(r.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(r,i),r.restore();break;case"fillPath":r.save(),r.fillStyle=n.fill||"";var s="curve"===e.shape||"polygon"===e.shape?"evenodd":"nonzero";this._drawToContext(r,i,s),r.restore();break;case"fillSketch":this.fillSketch(r,i,n)}}},e.prototype.fillSketch=function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t),e.restore()},e.prototype._drawToContext=function(e,t,n){void 0===n&&(n="nonzero"),e.beginPath();for(var r=0,o=t.ops;r<o.length;r++){var a=o[r],i=a.data;switch(a.op){case"move":e.moveTo(i[0],i[1]);break;case"bcurveTo":e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"lineTo":e.lineTo(i[0],i[1])}}"fillPath"===t.type?e.fill(n):e.stroke()},Object.defineProperty(e.prototype,"generator",{get:function(){return this.gen},enumerable:!1,configurable:!0}),e.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},e.prototype.line=function(e,t,n,r,o){var a=this.gen.line(e,t,n,r,o);return this.draw(a),a},e.prototype.rectangle=function(e,t,n,r,o){var a=this.gen.rectangle(e,t,n,r,o);return this.draw(a),a},e.prototype.ellipse=function(e,t,n,r,o){var a=this.gen.ellipse(e,t,n,r,o);return this.draw(a),a},e.prototype.circle=function(e,t,n,r){var o=this.gen.circle(e,t,n,r);return this.draw(o),o},e.prototype.linearPath=function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n),n},e.prototype.polygon=function(e,t){var n=this.gen.polygon(e,t);return this.draw(n),n},e.prototype.arc=function(e,t,n,r,o,a,i,s){void 0===i&&(i=!1);var l=this.gen.arc(e,t,n,r,o,a,i,s);return this.draw(l),l},e.prototype.curve=function(e,t){var n=this.gen.curve(e,t);return this.draw(n),n},e.prototype.path=function(e,t){var n=this.gen.path(e,t);return this.draw(n),n},e}(),he="http://www.w3.org/2000/svg",fe=function(){function e(e,t){this.svg=e,this.gen=new de(t)}return e.prototype.draw=function(e){for(var t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,o=r.createElementNS(he,"g"),a=0,i=t;a<i.length;a++){var s=i[a],l=null;switch(s.type){case"path":(l=r.createElementNS(he,"path")).setAttribute("d",this.opsToPath(s)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset","".concat(n.strokeLineDashOffset));break;case"fillPath":(l=r.createElementNS(he,"path")).setAttribute("d",this.opsToPath(s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(r,s,n)}l&&o.appendChild(l)}return o},e.prototype.fillSketch=function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var o=e.createElementNS(he,"path");return o.setAttribute("d",this.opsToPath(t)),o.setAttribute("stroke",n.fill||""),o.setAttribute("stroke-width",r+""),o.setAttribute("fill","none"),n.fillLineDash&&o.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&o.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),o},Object.defineProperty(e.prototype,"generator",{get:function(){return this.gen},enumerable:!1,configurable:!0}),e.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},e.prototype.opsToPath=function(e){return this.gen.opsToPath(e)},e.prototype.line=function(e,t,n,r,o){var a=this.gen.line(e,t,n,r,o);return this.draw(a)},e.prototype.rectangle=function(e,t,n,r,o){var a=this.gen.rectangle(e,t,n,r,o);return this.draw(a)},e.prototype.ellipse=function(e,t,n,r,o){var a=this.gen.ellipse(e,t,n,r,o);return this.draw(a)},e.prototype.circle=function(e,t,n,r){var o=this.gen.circle(e,t,n,r);return this.draw(o)},e.prototype.linearPath=function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n)},e.prototype.polygon=function(e,t){var n=this.gen.polygon(e,t);return this.draw(n)},e.prototype.arc=function(e,t,n,r,o,a,i,s){void 0===i&&(i=!1);var l=this.gen.arc(e,t,n,r,o,a,i,s);return this.draw(l)},e.prototype.curve=function(e,t){var n=this.gen.curve(e,t);return this.draw(n)},e.prototype.path=function(e,t){var n=this.gen.path(e,t);return this.draw(n)},e}(),me=function(e,t){return new pe(e,t)},ge=function(e,t){return new fe(e,t)},ye=function(e){return new de(e)},ve=function(e){return null!=e&&"text"===e.type},be=function(e){return null!=e&&("arrow"===e.type||"line"===e.type||"draw"===e.type)},ke=Math.PI/12,we="text",Ee="crosshair",Se="grabbing",Ce="pointer",xe=0,Pe=1,Te=-1;!function(e){e.INIT="SCENE_INIT",e.UPDATE="SCENE_UPDATE"}(le||(le={})),function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend"}(ce||(ce={}));var Ae="test",Oe="development",Me="server-volatile-broadcast",ze="server-broadcast",_e="App-menu__left",Ie={1:"Virgil",2:"Helvetica",3:"Cascadia"},De=["selectAll"],Le=function(e,t,n,r,o,a){var i,s,l=o-n,c=a-r,u=l*l+c*c,d=-1;0!==u&&(d=((e-n)*l+(t-r)*c)/u),d<0?(i=n,s=r):d>1?(i=o,s=a):(i=n+d*l,s=r+d*c);var p=e-i,h=t-s;return Math.hypot(p,h)},je=function(e,t,n,r,o){return[(e-n)*Math.cos(o)-(t-r)*Math.sin(o)+n,(e-n)*Math.sin(o)+(t-r)*Math.cos(o)+r]},Ne=function(e,t,n,r,o,a,i,s,l){var c=Math.cos(r),u=Math.sin(r);return"e"!==e&&"ne"!==e&&"se"!==e||(l?t+=o+i:(t+=o*(1+c),n+=o*u,t+=i*(1-c),n+=i*-u)),"s"!==e&&"sw"!==e&&"se"!==e||(l?n+=a+s:(t+=a*-u,n+=a*(1+c),t+=s*u,n+=s*(1-c))),"w"!==e&&"nw"!==e&&"sw"!==e||(l?t+=o+i:(t+=o*(1-c),n+=o*-u,t+=i*(1+c),n+=i*u)),"n"!==e&&"nw"!==e&&"ne"!==e||(l?n+=a+s:(t+=a*u,n+=a*(1-c),t+=s*-u,n+=s*(1+c))),[t,n]},Fe=function(e,t,n,r){var o=n-e,a=r-t;return Math.hypot(o,a)},Be=function(e){if(e.length>=3){var t=[e[0],e[e.length-1]],n=t[0],r=t[1];return Fe(n[0],n[1],r[0],r[1])<=10}return!1},Re=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},He=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},We=function(e,t,n,r){var o=He(e,t,n),a=He(e,t,r),i=He(n,r,e),s=He(n,r,t);return o!==a&&i!==s||(!(0!==o||!Re(e,n,t))||(!(0!==a||!Re(e,r,t))||(!(0!==i||!Re(n,e,r))||!(0!==s||!Re(n,t,r)))))},Ge=function(e,t,n){var r=n.map((function(t){return t[e]})),o=Math.max.apply(Math,r),a=Math.min.apply(Math,r),i=o-a,s=0===i?1:t/i,l=1/0,c=n.map((function(t){return t.map((function(t,n){if(n!==e)return t;var r=t*s;return l=Math.min(r,l),r}))}));if(2===c.length)return c;var u=a-l;return c.map((function(t){return t.map((function(t,n){return n===e?t+u:t}))}))},Ue=function(e){return be(e)?Ye(e):[e.x,e.y,e.x+e.width,e.y+e.height]},Ve=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]},qe=function(e){for(var t=0,n=e.sets;t<n.length;t++){var r=n[t];if("path"===r.type)return r.ops}return e.sets[0].ops},Ke=function(e,t){var n=[0,0],r=e.reduce((function(e,r){var o,a=r.op,i=r.data;if("move"===a)n=i;else if("bcurveTo"===a){var s=[i[0],i[1]],l=[i[2],i[3]],c=[i[4],i[5]],u=n;n=c;for(var d=function(e,t){return Math.pow(1-e,3)*c[t]+3*e*Math.pow(1-e,2)*l[t]+3*Math.pow(e,2)*(1-e)*s[t]+u[t]*Math.pow(e,3)},p=0;p<=1;){var h=d(p,0),f=d(p,1);t&&(h=(o=t(h,f))[0],f=o[1]),e.minY=Math.min(e.minY,f),e.minX=Math.min(e.minX,h),e.maxX=Math.max(e.maxX,h),e.maxY=Math.max(e.maxY,f),p+=.1}}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},Ye=function(e){if(e.points.length<2||!dn(e)){var t=e.points.reduce((function(e,t){var n=t[0],r=t[1];return e.minY=Math.min(e.minY,r),e.minX=Math.min(e.minX,n),e.maxX=Math.max(e.maxX,n),e.maxY=Math.max(e.maxY,r),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),n=t.minX,r=t.minY,o=t.maxX,a=t.maxY;return[n+e.x,r+e.y,o+e.x,a+e.y]}var i=dn(e),s=qe(i[0]),l=Ke(s),c=l[0],u=l[1],d=l[2],p=l[3];return[c+e.x,u+e.y,d+e.x,p+e.y]},Ze=function(e){var t=Ue(e),n=t[0],r=t[1],o=t[2],a=t[3],i=(n+o)/2,s=(r+a)/2;if(be(e))return function(e,t,n){if(e.points.length<2||!dn(e)){var r=e.points.reduce((function(r,o){var a,i=o[0],s=o[1];return i=(a=je(e.x+i,e.y+s,t,n,e.angle))[0],s=a[1],r.minY=Math.min(r.minY,s),r.minX=Math.min(r.minX,i),r.maxX=Math.max(r.maxX,i),r.maxY=Math.max(r.maxY,s),r}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]}var o=dn(e),a=qe(o[0]);return Ke(a,(function(r,o){return je(e.x+r,e.y+o,t,n,e.angle)}))}(e,i,s);if("diamond"===e.type){var l=je(i,r,i,s,e.angle),c=l[0],u=l[1],d=je(i,a,i,s,e.angle),p=d[0],h=d[1],f=je(n,s,i,s,e.angle),m=f[0],g=f[1],y=je(o,s,i,s,e.angle),v=y[0],b=y[1];return[Math.min(c,p,m,v),Math.min(u,h,g,b),Math.max(c,p,m,v),Math.max(u,h,g,b)]}if("ellipse"===e.type){var k=(o-n)/2,w=(a-r)/2,E=Math.cos(e.angle),S=Math.sin(e.angle),C=Math.hypot(k*E,w*S),x=Math.hypot(w*E,k*S);return[i-C,s-x,i+C,s+x]}var P=je(n,r,i,s,e.angle),T=P[0],A=P[1],O=je(n,a,i,s,e.angle),M=O[0],z=O[1],_=je(o,a,i,s,e.angle),I=_[0],D=_[1],L=je(o,r,i,s,e.angle),j=L[0],N=L[1];return[Math.min(T,M,I,j),Math.min(A,z,D,N),Math.max(T,M,I,j),Math.max(A,z,D,N)]},Xe=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,r=1/0,o=-1/0;return e.forEach((function(e){var a=Ze(e),i=a[0],s=a[1],l=a[2],c=a[3];t=Math.min(t,i),r=Math.min(r,s),n=Math.max(n,l),o=Math.max(o,c)})),[t,r,n,o]},Je=function(e,t,n){if(!be(e))return[e.x,e.y,e.x+t,e.y+n];var r=Ge(0,t,Ge(1,n,e.points)),o=ye().curve(r,hn(e)),a=qe(o),i=Ke(a),s=i[0],l=i[1],c=i[2],u=i[3];return[s+e.x,l+e.y,c+e.x,u+e.y]},$e=function(e,t){var n=ye().curve(t,hn(e)),r=qe(n),o=Ke(r),a=o[0],i=o[1],s=o[2],l=o[3];return[a+e.x,i+e.y,s+e.x,l+e.y]};function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=[],nt=tt.forEach,rt=tt.slice;function ot(e){return nt.call(rt.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var at,it=function(e,t,n,r){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/"};if(n){var i=new Date;i.setTime(i.getTime()+60*n*1e3),o="; expires="+i.toUTCString()}else o="";r=r?"domain="+r+";":"",a=Object.keys(a).reduce((function(e,t){return e+";"+t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))+"="+a[t]}),""),document.cookie=e+"="+encodeURIComponent(t)+o+";"+r+a},st=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},lt={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=st(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&it(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},ct={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var o=n[r].indexOf("=");if(o>0)n[r].substring(0,o)===e.lookupQuerystring&&(t=n[r].substring(o+1))}return t}};try{at="undefined"!==window&&null!==window.localStorage;window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(wo){at=!1}var ut,dt={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&at){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&at&&window.localStorage.setItem(t.lookupLocalStorage,e)}};try{ut="undefined"!==window&&null!==window.sessionStorage;window.sessionStorage.setItem("i18next.translate.boo","foo"),window.sessionStorage.removeItem("i18next.translate.boo")}catch(wo){ut=!1}var pt={name:"sessionStorage",lookup:function(e){var t;if(e.lookupsessionStorage&&ut){var n=window.sessionStorage.getItem(e.lookupsessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupsessionStorage&&ut&&window.sessionStorage.setItem(t.lookupsessionStorage,e)}},ht={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},ft={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},mt={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},gt={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}};var yt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=ot(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0,checkForSimilarInWhitelist:!1}),this.options.checkForSimilarInWhitelist&&(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(lt),this.addDetector(ct),this.addDetector(dt),this.addDetector(pt),this.addDetector(ht),this.addDetector(ft),this.addDetector(mt),this.addDetector(gt)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n,r=[];if(e.forEach((function(e){if(t.detectors[e]){var n=t.detectors[e].lookup(t.options);n&&"string"==typeof n&&(n=[n]),n&&(r=r.concat(n))}})),r.forEach((function(e){if(!n){var r=t.services.languageUtils.formatLanguageCode(e);t.options.checkWhitelist&&!t.services.languageUtils.isWhitelisted(r)||(n=r),!n&&t.options.checkForSimilarInWhitelist&&(n=t.getSimilarInWhitelist(r))}})),!n){var o=this.i18nOptions.fallbackLng;"string"==typeof o&&(o=[o]),o||(o=[]),n="[object Array]"===Object.prototype.toString.apply(o)?o[0]:o[0]||o.default&&o.default[0]}return n}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}},{key:"getSimilarInWhitelist",value:function(e){var t=this;if(this.i18nOptions.whitelist){if(e.includes("-")){var n=e.split("-")[0],r=this.services.languageUtils.formatLanguageCode(n);if(this.services.languageUtils.isWhitelisted(r))return r;e=r}var o=this.i18nOptions.whitelist.find((function(n){var r=t.services.languageUtils.formatLanguageCode(n);if(r.startsWith(e))return r}));return o||void 0}}}])&&et(t.prototype,n),r&&et(t,r),e}();yt.type="languageDetector";var vt=yt,bt=[{lng:"en",label:"English",data:n(30)},{lng:"bg-BG",label:"",data:n(31)},{lng:"de-DE",label:"Deutsch",data:n(32)},{lng:"es-ES",label:"Espaol",data:n(33)},{lng:"ca-ES",label:"Catalan",data:n(34)},{lng:"el-GR",label:"",data:n(35)},{lng:"fr-FR",label:"Franais",data:n(36)},{lng:"id-ID",label:"Bahasa Indonesia",data:n(37)},{lng:"it-IT",label:"Italiano",data:n(38)},{lng:"hu-HU",label:"Magyar",data:n(39)},{lng:"nl-NL",label:"Nederlands",data:n(40)},{lng:"no-No",label:"Norsk",data:n(41)},{lng:"pl-PL",label:"Polski",data:n(42)},{lng:"pt-PT",label:"Portugus",data:n(43)},{lng:"ru-RU",label:"",data:n(44)},{lng:"uk-UA",label:"",data:n(45)},{lng:"fi-FI",label:"Suomi",data:n(46)},{lng:"tr-TR",label:"Trke",data:n(47)},{lng:"ja-JP",label:"",data:n(48)},{lng:"ko-KR",label:"",data:n(49)},{lng:"zh-TW",label:"",data:n(50)},{lng:"zh-CN",label:"",data:n(51)},{lng:"ar-SA",label:"",data:n(52),rtl:!0},{lng:"he-IL",label:"",data:n(53),rtl:!0}],kt=bt[0],wt=bt[0],Et=function(e){kt=bt.find((function(t){return t.lng===e}))||wt,document.documentElement.dir=kt.rtl?"rtl":"ltr",Pt.cacheUserLanguage(kt.lng)},St=function(){return kt},Ct=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},xt=function(e,t){var n=e.split("."),r=Ct(kt.data,n)||Ct(wt.data,n);if(void 0===r)throw new Error("Can't find translation for ".concat(e));if(t)for(var o in t)r=r.replace("{{".concat(o,"}}"),t[o]);return r},Pt=new vt;Pt.init({languageUtils:{formatLanguageCode:function(e){return e},isWhitelisted:function(){return!0}},checkWhitelist:!1}),Et(Pt.detect());var Tt=function(e,t,n){var r=[e.horizontal,e.vertical].map((function(e){return e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height}));return{isOverHorizontalScrollBar:r[0],isOverVerticalScrollBar:r[1]}},At=function(e,t){return e.some((function(e){return t.selectedElementIds[e.id]}))},Ot=function(e,t){return e.filter((function(e){return t.selectedElementIds[e.id]}))},Mt=function(e){return Math.floor(e)};var zt=function(e,t,n){var r,o,a;if(!e.length)return{scrollX:Mt(0),scrollY:Mt(0)};var i=window.devicePixelRatio,s=Xe(e),l=s[0],c=s[1],u=s[2],d=s[3],p=null===(o=document.querySelector(".excalidraw"))||void 0===o||null===(a=o.parentElement)||void 0===a?void 0:a.getBoundingClientRect(),h=(null==p?void 0:p.width)||window.innerWidth,f=(null==p?void 0:p.height)||window.innerHeight,m=(null==p?void 0:p.left)||0,g=(null==p?void 0:p.top)||0;(function(e,t,n){var r=n[0],o=n[1],a=n[2],i=n[3],s=tn({sceneX:r,sceneY:o},e,t,window.devicePixelRatio),l=s.x,c=s.y,u=tn({sceneX:a,sceneY:i},e,t,window.devicePixelRatio),d=u.x,p=u.y;return d-l>window.innerWidth||p-c>window.innerHeight})(t,n,[l,c,u,d])&&(l=(r=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=e[0];return e.forEach((function(e){var o=Ze(e),a=o[0],i=o[1],s=o[2],l=o[3],c=Fe((a+s)/2,(i+l)/2,t.x,t.y);c<n&&(n=c,r=e)})),Ze(r)}(e,en({clientX:t.scrollX,clientY:t.scrollY},t,n,i,{deltaX:m,deltaY:g})))[0],c=r[1],u=r[2],d=r[3]);var y=(c+d)/2;return{scrollX:Mt(h/2-(l+u)/2),scrollY:Mt(f/2-y)}},_t=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"draw"===e||"line"===e},It=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"draw"===e||"line"===e},Dt=function(e){return"text"===e},Lt=function(e,t,n,r,o){for(var a=null,i=e.length-1;i>=0;--i)if(!e[i].isDeleted&&or(e[i],t,n,r,o)){a=e[i];break}return a},jt=function(e,t){return null===e||null===e.getContext("2d")?{x:0,y:0}:{x:e.width/t/2,y:e.height/t/2}},Nt=function(e){var t=parseFloat(e.toFixed(2));return Math.max(.1,Math.min(t,2))},Ft=new(function(){function e(){this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap={}}return e.prototype.getElementsIncludingDeleted=function(){return this.elements},e.prototype.getElements=function(){return this.nonDeletedElements},e.prototype.getElement=function(e){return this.elementsMap[e]||null},e.prototype.getNonDeletedElement=function(e){var t=this.getElement(e);return t&&Xr(t)?t:null},e.prototype.replaceAllElements=function(e){this.elements=e,this.elementsMap=Kr(e),this.nonDeletedElements=Zr(this.elements),this.informMutation()},e.prototype.informMutation=function(){for(var e=0,t=Array.from(this.callbacks);e<t.length;e++){(0,t[e])()}},e.prototype.addCallback=function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}},e}()),Bt="http://www.w3.org/2000/svg",Rt=null,Ht=function(){if(Rt)return Rt;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),o="".concat(e.getHours()).padStart(2,"0"),a="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(o).concat(a)},Wt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Gt=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},Ut=function(e){var t=e.fontFamily;return Ie[t]},Vt=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(Ut({fontFamily:n}))},qt=function(e,t){var n=document.createElement("div"),r=document.body;n.style.position="absolute",n.style.whiteSpace="pre",n.style.font=t,r.appendChild(n),n.innerText=e;var o=n.offsetWidth,a=n.offsetHeight,i=document.createElement("span");i.style.display="inline-block",i.style.overflow="hidden",i.style.width="1px",i.style.height="1px",n.appendChild(i);var s=i.offsetTop+i.offsetHeight;return document.body.removeChild(n),{width:o,height:a,baseline:s}},Kt=function(e){var t=window.getSelection();if(t){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}},Yt=function(){var e=window.getSelection();e&&e.removeAllRanges()},Zt=function(e,t){return Math.abs(e-t)},Xt=function(){document.documentElement.style.cursor=""},Jt=function(e){"selection"===e?Xt():document.documentElement.style.cursor=Ee},$t=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===e?void 0:e.nodeName)},Qt=function(e){var t=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform);return"".concat(t?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option").replace(/\bDel\b/i,"Delete").replace(/\b(Enter|Return)\b/i,"Enter"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl"))},en=function(e,t,n,r,o){var a=e.clientX,i=e.clientY,s=t.scrollX,l=t.scrollY,c=t.zoom,u=o.deltaX,d=void 0===u?0:u,p=o.deltaY,h=void 0===p?0:p,f=jt(n,r);return{x:f.x+(a-f.x-d)/c-s,y:f.y+(i-f.y-h)/c-l}},tn=function(e,t,n,r){var o=e.sceneX,a=e.sceneY,i=t.scrollX,s=t.scrollY,l=t.zoom,c=jt(n,r);return{x:c.x-(c.x-o-i)*l,y:c.y-(c.y-a-s)*l}},nn=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},rn=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),on=function(e){return rn.test(e)},an=[12,8],sn=[3,6],ln=function(e,t,n){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":t.draw(dn(e));break;case"arrow":case"draw":case"line":dn(e).forEach((function(e){t.draw(e)}));break;default:if(!ve(e))throw new Error("Unimplemented type ".concat(e.type));var r=on(e.text),o=r&&!n.canvas.isConnected;o&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",r?"rtl":"ltr");var a=n.font;n.font=Vt(e);var i=n.fillStyle;n.fillStyle=e.strokeColor;var s=n.textAlign;n.textAlign=e.textAlign;for(var l=e.text.replace(/\r\n?/g,"\n").split("\n"),c=e.height/l.length,u=e.height-e.baseline,d="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,p=0;p<l.length;p++)n.fillText(l[p],d,(p+1)*c-u);n.fillStyle=i,n.font=a,n.textAlign=s,o&&n.canvas.remove()}n.globalAlpha=1},cn=new WeakMap,un=new WeakMap,dn=function(e){return un.get(e)},pn=function(e){return un.delete(e)},hn=function(e){var t={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?an:"dotted"===e.strokeStyle?sn:void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor};switch(e.type){case"rectangle":case"diamond":case"ellipse":return t.fillStyle=e.fillStyle,t.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(t.curveFitting=1),t;case"line":case"draw":return Be(e.points)&&(t.fillStyle=e.fillStyle,t.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),t;case"arrow":return t;default:throw new Error("Unimplemented type ".concat(e.type))}},fn=function(e,t){var n=un.get(e)||null;if(!n){switch(cn.delete(e),e.type){case"rectangle":n=t.rectangle(0,0,e.width,e.height,hn(e));break;case"diamond":var r=Ve(e),o=r[0],a=r[1],i=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7];n=t.polygon([[o,a],[i,s],[l,c],[u,d]],hn(e));break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,hn(e));break;case"line":case"draw":case"arrow":var p=hn(e),h=e.points.length?e.points:[[0,0]];if(n=[t.curve(h,p)],"arrow"===e.type){var f=function(e,t){var n=qe(t[0]),r=n[n.length-1].data,o=[r[4],r[5]],a=[r[2],r[3]],i=[r[0],r[1]],s=n[n.length-2],l=[0,0];"move"===s.op?l=s.data:"bcurveTo"===s.op&&(l=[s.data[4],s.data[5]]);var c=function(e,t){return Math.pow(1-e,3)*o[t]+3*e*Math.pow(1-e,2)*a[t]+3*Math.pow(e,2)*(1-e)*i[t]+l[t]*Math.pow(e,3)},u=o[0],d=o[1],p=[c(.3,0),c(.3,1)],h=p[0],f=p[1],m=Math.hypot(u-h,d-f),g=(u-h)/m,y=(d-f)/m,v=e.points.reduce((function(e,t,n,r){var o=t[0],a=t[1],i=n>0?r[n-1]:[0,0],s=i[0],l=i[1];return e+Math.hypot(o-s,a-l)}),0),b=Math.min(30,v/2),k=u-g*b,w=d-y*b,E=je(k,w,u,d,-20*Math.PI/180),S=E[0],C=E[1],x=je(k,w,u,d,20*Math.PI/180);return[u,d,S,C,x[0],x[1]]}(e,n),m=f[0],g=f[1],y=f[2],v=f[3],b=f[4],k=f[5];"dotted"===e.strokeStyle?p.strokeLineDash=[3,4]:delete p.strokeLineDash,n.push.apply(n,[t.line(y,v,m,g,p),t.line(b,k,m,g,p)])}break;case"text":n=[]}un.set(e,n)}},mn=function(e,t){var n=t?t.zoom:1,r=cn.get(e),o=r&&r.canvasZoom!==n&&!(null==t?void 0:t.shouldCacheIgnoreZoom);if(!r||o){var a=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),o=0,a=0;if(be(e)){var i=Ue(e),s=i[0],l=i[1],c=i[2],u=i[3];n.width=Zt(s,c)*window.devicePixelRatio*t+40,n.height=Zt(l,u)*window.devicePixelRatio*t+40,o=e.x>s?Math.floor(Zt(e.x,s))*window.devicePixelRatio:0,a=e.y>l?Math.floor(Zt(e.y,l))*window.devicePixelRatio:0,r.translate(o*t,a*t)}else n.width=e.width*window.devicePixelRatio*t+40,n.height=e.height*window.devicePixelRatio*t+40;r.translate(20,20),r.scale(window.devicePixelRatio*t,window.devicePixelRatio*t);var d=me(n);return ln(e,d,r),r.translate(-20,-20),r.scale(1/(window.devicePixelRatio*t),1/(window.devicePixelRatio*t)),{element:e,canvas:n,canvasZoom:t,canvasOffsetX:o,canvasOffsetY:a}}(e,n);return cn.set(e,a),a}return r},gn=function(e,t,n,r,o){var a=t.generator;switch(e.type){case"selection":n.translate(e.x+o.scrollX,e.y+o.scrollY);var i=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(0,0,e.width,e.height),n.fillStyle=i,n.translate(-e.x-o.scrollX,-e.y-o.scrollY);break;case"rectangle":case"diamond":case"ellipse":case"line":case"draw":case"arrow":case"text":if(fn(e,a),r){!function(e,t,n,r){var o=e.element,a=Ue(o),i=a[0],s=a[1],l=a[2],c=a[3],u=((i+l)/2+r.scrollX)*window.devicePixelRatio,d=((s+c)/2+r.scrollY)*window.devicePixelRatio;n.scale(1/window.devicePixelRatio,1/window.devicePixelRatio),n.translate(u,d),n.rotate(o.angle),n.drawImage(e.canvas,-(l-i)/2*window.devicePixelRatio-20/e.canvasZoom,-(c-s)/2*window.devicePixelRatio-20/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom),n.rotate(-o.angle),n.translate(-u,-d),n.scale(window.devicePixelRatio,window.devicePixelRatio)}(mn(e,o),0,n,o)}else{var s=Ue(e),l=s[0],c=s[1],u=s[2],d=s[3],p=(l+u)/2+o.scrollX,h=(c+d)/2+o.scrollY,f=(u-l)/2-(e.x-l),m=(d-c)/2-(e.y-c);n.translate(p,h),n.rotate(e.angle),n.translate(-f,-m),ln(e,t,n),n.translate(f,m),n.rotate(-e.angle),n.translate(-p,-h)}break;default:throw new Error("Unimplemented type ".concat(e.type))}},yn=n(28),vn=n.n(yn),bn=new x(Date.now()),kn=function(){return Math.floor(bn.next()*Math.pow(2,31))},wn=function(){return vn()()};function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xn=function(e,t){var n=!1,r=t.points;for(var o in void 0!==r&&(t=Sn(Sn({},function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,t)-Math.min.apply(Math,t),height:Math.max.apply(Math,n)-Math.min.apply(Math,n)}}(r)),t)),t){var a=t[o];if(void 0!==a){if(e[o]===a&&("object"!=typeof a||null===a||"groupIds"===o))continue;if("points"===o){var i=e[o],s=a;if(i.length===s.length){for(var l=!1,c=i.length;--c;){var u=i[c],d=s[c];if(u[0]!==d[0]||u[1]!==d[1]){l=!0;break}}if(!l)continue}}e[o]=a,n=!0}}n&&(void 0===t.height&&void 0===t.width&&void 0===r||pn(e),e.version++,e.versionNonce=kn(),Ft.informMutation())},Pn=function(e,t){return Sn(Sn(Sn({},e),t),{},{version:e.version+1,versionNonce:kn()})},Tn=function(e){return be(e)?e.points.length<2:0===e.width&&0===e.height},An=function(e,t,n){var r=Math.abs(t),o=Math.abs(n);if("line"===e||"arrow"===e||"draw"===e){var a=Math.round(Math.atan(o/r)/ke)*ke;0===a?n=0:a===Math.PI/2?t=0:n=Math.round(r*Math.tan(a))*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},On=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t},Mn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t,n){var r,o,a=n.filter((function(t){return t.groupIds.includes(e)}));return a.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?_n(_n({},t),{},{selectedGroupIds:_n(_n({},t.selectedGroupIds),{},(r={},r[e]=!1,r)),editingGroupId:null}):t:_n(_n({},t),{},{selectedGroupIds:_n(_n({},t.selectedGroupIds),{},(o={},o[e]=!0,o)),selectedElementIds:_n(_n({},t.selectedElementIds),Object.fromEntries(a.map((function(e){return[e.id,!0]}))))})}function Ln(e){return Object.entries(e.selectedGroupIds).filter((function(e){e[0];return e[1]})).map((function(e){var t=e[0];e[1];return t}))}function jn(e,t){for(var n=_n({},e),r=0,o=Ot(t,e);r<o.length;r++){var a=o[r].groupIds;if(e.editingGroupId){var i=a.indexOf(e.editingGroupId);i>-1&&(a=a.slice(0,i))}if(a.length>0)n=Dn(a[a.length-1],n,t)}return n}function Nn(e,t){return e.groupIds.includes(t)}function Fn(e,t){return e.filter((function(e){return Nn(e,t)}))}function Bn(e,t,n){var r=Mn(e),o=n?r.indexOf(n):-1,a=o>-1?o:r.length;return r.splice(a,0,t),r}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Un=function(e,t){var n,r,o=t.x,a=t.y,i=t.strokeColor,s=t.backgroundColor,l=t.fillStyle,c=t.strokeWidth,u=t.strokeStyle,d=t.roughness,p=t.opacity,h=t.width,f=void 0===h?0:h,m=t.height,g=void 0===m?0:m,y=t.angle,v=void 0===y?0:y,b=t.groupIds,k=void 0===b?[]:b,w=Gn(t,["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds"]);return{id:w.id||wn(),type:e,x:o,y:a,width:f,height:g,angle:v,strokeColor:i,backgroundColor:s,fillStyle:l,strokeWidth:c,strokeStyle:u,roughness:d,opacity:p,groupIds:k,seed:null!==(n=w.seed)&&void 0!==n?n:kn(),version:w.version||1,versionNonce:null!==(r=w.versionNonce)&&void 0!==r?r:0,isDeleted:!1}},Vn=function(e){return Un(e.type,e)},qn=function(e){var t=qt(e.text,Vt(e));return Pn(Hn(Hn({},Un("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,x:e.x-t.width/2,y:e.y-t.height/2,width:t.width,height:t.height,baseline:t.baseline}),{})},Kn=function(e,t){if(void 0===t&&(t=0),null==e||"object"!=typeof e)return e;if("[object Object]"===Object.prototype.toString.call(e)){var n="function"==typeof e.constructor?Object.create(Object.getPrototypeOf(e)):{};for(var r in e)if(e.hasOwnProperty(r)){if(0===t&&("shape"===r||"canvas"===r))continue;n[r]=Kn(e[r],t+1)}return n}if(Array.isArray(e)){for(var o=e.length,a=new Array(o);o--;)a[o]=Kn(e[o],t+1);return a}return e},Yn=function(e,t,n,r){var o=Kn(n);return o.id=wn(),o.seed=kn(),o.groupIds=function(e,t,n){for(var r=Mn(e),o=t?e.indexOf(t):-1,a=o>-1?o:e.length,i=0;i<a;i++)r[i]=n(r[i]);return r}(o.groupIds,e,(function(e){return t.has(e)||t.set(e,wn()),t.get(e)})),r&&(o=Object.assign(o,r)),o},Zn={mouse:8,pen:16,touch:28},Xn={e:!0,s:!0,n:!0,w:!0,rotation:!0},Jn={e:!0,s:!0,n:!0,w:!0},$n={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0,rotation:!0},Qn={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0,rotation:!0},er=function(e,t,n,r,o,a,i){var s=je(e+n/2,t+r/2,o,a,i);return[s[0]-n/2,s[1]-r/2,n,r]},tr=function(e,t,n,r,o){var a=e[0],i=e[1],s=e[2],l=e[3];void 0===r&&(r="mouse"),void 0===o&&(o={});var c=Zn[r],u=c/n,d=c/n,p=c/n,h=c/n,f=s-a,m=l-i,g=(a+s)/2,y=(i+l)/2,v=4/n,b=(c-8)/(2*n),k={nw:o.nw?void 0:er(a-v-p+b,i-v-h+b,u,d,g,y,t),ne:o.ne?void 0:er(s+v-b,i-v-h+b,u,d,g,y,t),sw:o.sw?void 0:er(a-v-p+b,l+v-b,u,d,g,y,t),se:o.se?void 0:er(s+v-b,l+v-b,u,d,g,y,t),rotation:o.rotation?void 0:er(a+f/2-u/2,i-v-h+b-16/n,u,d,g,y,t)},w=5*c/n;return Math.abs(f)>w&&(o.n||(k.n=er(a+f/2-u/2,i-v-h+b,u,d,g,y,t)),o.s||(k.s=er(a+f/2-u/2,l+v-b,u,d,g,y,t))),Math.abs(m)>w&&(o.w||(k.w=er(a-v-p+b,i+m/2-d/2,u,d,g,y,t)),o.e||(k.e=er(s+v-b,i+m/2-d/2,u,d,g,y,t))),k},nr=function(e,t,n){void 0===n&&(n="mouse");var r={};if("arrow"===e.type||"line"===e.type||"draw"===e.type){if(2===e.points.length){var o=e.points[1];0===o[0]||0===o[1]?r=Qn:o[0]>0&&o[1]<0?r=$n:o[0]>0&&o[1]>0?r=Qn:o[0]<0&&o[1]>0?r=$n:o[0]<0&&o[1]<0&&(r=Qn)}}else"text"===e.type&&(r=Jn);return tr(Ue(e),e.angle,t,n,r)},rr=function(e,t){if("arrow"===e.type)return!1;var n="transparent"!==e.backgroundColor||t.selectedElementIds[e.id];return"line"===e.type||"draw"===e.type?n&&Be(e.points):n},or=function(e,t,n,r,o){var a,i,s,l=10/o,c=Ue(e),u=c[0],d=c[1],p=c[2],h=c[3];if(n=(a=je(n,r,(u+p)/2,(d+h)/2,-e.angle))[0],r=a[1],"ellipse"===e.type){var f=Math.abs(n-e.x-e.width/2),m=Math.abs(r-e.y-e.height/2),g=.707,y=.707,v=Math.abs(e.width)/2,b=Math.abs(e.height)/2;return[0,1,2,3].forEach((function(e){var t=v*g,n=b*y,r=(v*v-b*b)*Math.pow(g,3)/v,o=(b*b-v*v)*Math.pow(y,3)/b,a=t-r,i=n-o,s=f-r,l=m-o,c=Math.hypot(i,a),u=Math.hypot(l,s);g=Math.min(1,Math.max(0,(s*c/u+r)/v)),y=Math.min(1,Math.max(0,(l*c/u+o)/b));var d=Math.hypot(y,g);g/=d,y/=d})),rr(e,t)?v*g-(f-l)>=0&&b*y-(m-l)>=0:Math.hypot(v*g-f,b*y-m)<l}if("rectangle"===e.type)return rr(e,t)?n>u-l&&n<p+l&&r>d-l&&r<h+l:Le(n,r,u,d,p,d)<l||Le(n,r,p,d,p,h)<l||Le(n,r,p,h,u,h)<l||Le(n,r,u,h,u,d)<l;if("diamond"===e.type){n-=e.x,r-=e.y;var k=Ve(e),w=k[0],E=k[1],S=k[2],C=k[3],x=k[4],P=k[5],T=k[6],A=k[7];return rr(e,t)?(E>P&&(P=(i=[E,P])[0],E=i[1]),S<T&&(T=(s=[S,T])[0],S=s[1]),P+=l,S+=l,((T-=l)-w)*(r-A)-(T-n)*((E-=l)-A)<=0&&(w-S)*(r-C)-(n-S)*(E-C)<=0&&(S-x)*(r-P)-(n-x)*(C-P)<=0&&(x-T)*(r-A)-(n-T)*(P-A)<=0):Le(n,r,w,E,S,C)<l||Le(n,r,S,C,x,P)<l||Le(n,r,x,P,T,A)<l||Le(n,r,T,A,w,E)<l}if(be(e)){if(!dn(e))return!1;var O=dn(e);if(n<u-l||r<d-l||n>p+l||r>h+l)return!1;var M=n-e.x,z=r-e.y;if(rr(e,t))if(O.some((function(e){return ar(e,M,z,l)})))return!0;return O.some((function(e){return ir(e,M,z,l)}))}if("text"===e.type)return n>=u&&n<=p&&r>=d&&r<=h;if("selection"===e.type)return console.warn("This should not happen, we need to investigate why it does."),!1;throw new Error("Unimplemented type ".concat(e.type))},ar=function(e,t,n,r){for(var o=[],a=0,i=qe(e);a<i.length;a++){var s=i[a];if("move"===s.op){if(o.length)break;o.push([s.data[0],s.data[1]])}else"bcurveTo"===s.op&&(o.push([s.data[0],s.data[1]]),o.push([s.data[2],s.data[3]]),o.push([s.data[4],s.data[5]]))}return o.length>=4&&function(e,t,n){var r=e.length;if(r<3)return!1;for(var o=[Number.MAX_SAFE_INTEGER,n],a=[t,n],i=0,s=0;s<r;s++){var l=e[s],c=e[(s+1)%r];if(We(l,c,a,o)){if(0===He(l,a,c))return Re(l,a,c);i++}}return i%2==1}(se(o,10,5),t,n)},ir=function(e,t,n,r){var o=qe(e),a=[0,0];return o.some((function(e,o){var i=e.op,s=e.data;if("move"===i)a=s;else if("bcurveTo"===i){var l=[s[0],s[1]],c=[s[2],s[3]],u=[s[4],s[5]],d=a;return a=u,function(e,t,n,r,o,a){for(var i=o[0],s=o[1],l=function(o,a){return Math.pow(1-o,3)*r[a]+3*o*Math.pow(1-o,2)*n[a]+3*Math.pow(o,2)*(1-o)*t[a]+e[a]*Math.pow(o,3)},c=0;c<=1;){var u=l(c,0),d=l(c,1);if(Math.sqrt(Math.pow(u-i,2)+Math.pow(d-s,2))<a)return!0;c+=.01}return!1}(d,l,c,u,[t,n],r)}return!1}))};function sr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lr=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},cr=function(e,t,n,r,o,a){return e.reduce((function(e,i){if(e)return e;var s=function(e,t,n,r,o,a){if(!t.selectedElementIds[e.id])return!1;var i=nr(e,o,a),s=i.rotation,l=sr(i,["rotation"]);if(s&&lr(s,n,r))return"rotation";var c=Object.keys(l).filter((function(e){var t=l[e];return!!t&&lr(t,n,r)}));return c.length>0&&c[0]}(i,t,n,r,o,a);return s?{element:i,resizeHandle:s}:null}),null)},ur=function(e,t,n,r,o){var a=e[0],i=e[1],s=e[2],l=e[3],c=tr([a,i,s,l],0,r,o,Xn);return Object.keys(c).find((function(e){var r=c[e];return r&&lr(r,t,n)}))||!1},dr=["ns","nesw","ew","nwse"],pr=function(e){var t=e.element,n=e.resizeHandle,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,o=null;switch(n){case"n":case"s":o="ns";break;case"w":case"e":o="ew";break;case"nw":case"se":o=r?"nesw":"nwse";break;case"ne":case"sw":o=r?"nwse":"nesw";break;case"rotation":return"grab"}return o&&t&&(o=function(e,t){var n=dr.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=dr[(n+r)%dr.length]}return e}(o,t.angle)),o?"".concat(o,"-resize"):""},hr=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),fr="ArrowLeft",mr="ArrowRight",gr="ArrowDown",yr="ArrowUp",vr="Enter",br="Escape",kr="Delete",wr="Backspace",Er=hr?"metaKey":"ctrlKey",Sr="Tab",Cr=" ",xr="?",Pr=70,Tr=18,Ar=90,Or=71,Mr=function(e){return e===fr||e===mr||e===gr||e===yr},zr=function(e){return e.altKey||e.which===Tr},_r=function(e){return e.shiftKey},Ir=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nr=function(e,t,n,r){var o=Ue(e),a=o[0],i=o[1],s=(a+o[2])/2,l=(i+o[3])/2,c=5*Math.PI/2+Math.atan2(n-l,t-s);r&&(c+=ke/2,c-=c%ke),c>=2*Math.PI&&(c-=2*Math.PI),xn(e,{angle:c})},Fr=function(e,t,n,r,o){var a=e.points[0],i=e.points[1];if("end"===t)if(n){var s=An(e.type,r-e.x,o-e.y),l=s.width,c=s.height;xn(e,{points:[a,[l,c]]})}else xn(e,{points:[a,[r-a[0]-e.x,o-a[1]-e.y]]});else if(n){var u=An(e.type,e.x+i[0]-a[0]-r,e.y+i[1]-a[1]-o);l=u.width,c=u.height;xn(e,{x:e.x+i[0]-a[0]-l,y:e.y+i[1]-a[1]-c,points:[a,[l,c]]})}else xn(e,{x:r,y:o,points:[a,[i[0]-(r-a[0]-e.x),i[1]-(o-a[1]-e.y)]]})},Br=function(e,t,n){return be(e)?{points:Ge(0,t,Ge(1,n,e.points))}:{}},Rr=function(e,t,n){var r=Math.min(t/e.width,n/e.height),o=e.fontSize*r,a=qt(e.text,Vt({fontSize:o,fontFamily:e.fontFamily}));return a.width-t<1&&a.height-n<1?{size:o,baseline:a.baseline}:(r=Math.min(Math.min(t,a.width)/e.width,Math.min(n,a.height)/e.height),o=e.fontSize*r,(a=qt(e.text,Vt({fontSize:o,fontFamily:e.fontFamily}))).width-t<1&&a.height-n<1?{size:o,baseline:a.baseline}:null)},Hr=function(e,t,n,r,o){var a,i=Ue(e),s=i[0],l=i[1],c=i[2],u=i[3],d=je(r,o,(s+c)/2,(l+u)/2,-e.angle),p=d[0],h=d[1];switch(t){case"se":a=Math.max((p-s)/(c-s),(h-l)/(u-l));break;case"nw":a=Math.max((c-p)/(c-s),(u-h)/(u-l));break;case"ne":a=Math.max((p-s)/(c-s),(u-h)/(u-l));break;case"sw":a=Math.max((c-p)/(c-s),(h-l)/(u-l))}if(a>0){var f=e.width*a,m=e.height*a,g=Rr(e,f,m);if(null===g)return;var y=Je(e,f,m),v=(s-y[0])/2,b=(l-y[1])/2,k=(c-y[2])/2,w=(u-y[3])/2,E=Ne(t,e.x,e.y,e.angle,v,b,k,w,n),S=E[0],C=E[1];xn(e,{fontSize:g.size,width:f,height:m,baseline:g.baseline,x:S,y:C})}},Wr=function(e,t,n,r,o,a){var i=Ue(e),s=i[0],l=i[1],c=i[2],u=i[3],d=je(o,a,(s+c)/2,(l+u)/2,-e.angle),p=d[0],h=d[1],f=1,m=1;"e"!==t&&"ne"!==t&&"se"!==t||(f=(p-s)/(c-s)),"s"!==t&&"sw"!==t&&"se"!==t||(m=(h-l)/(u-l)),"w"!==t&&"nw"!==t&&"sw"!==t||(f=(c-p)/(c-s)),"n"!==t&&"nw"!==t&&"ne"!==t||(m=(u-h)/(u-l));var g=e.width*f,y=e.height*m;n&&(g=y=Math.max(g,y));var v=Je(e,g,y),b=v[0],k=v[1],w=v[2],E=v[3],S=(s-b)/2,C=(l-k)/2,x=(c-w)/2,P=(u-E)/2,T=Br(e,g,y),A=Je(Lr(Lr({},e),T),Math.abs(g),Math.abs(y)),O=function(e,t,n,r,o,a,i,s,l,c,u,d,p){var h=Math.cos(p),f=Math.sin(p),m=0,g=0;return t<0&&("e"!==e&&"ne"!==e&&"se"!==e||(d?(m+=(c-r)*h,g+=(c-r)*f):m+=c-r),"w"!==e&&"nw"!==e&&"sw"!==e||(d?(m+=(s-a)*h,g+=(s-a)*f):m+=s-a)),n<0&&("s"!==e&&"se"!==e&&"sw"!==e||(d?(g+=(u-o)*h,m+=(u-o)*-f):g+=u-o),"n"!==e&&"ne"!==e&&"nw"!==e||(d?(g+=(l-i)*h,m+=(l-i)*-f):g+=l-i)),[m,g]}(t,g,y,b,k,w,E,A[0],A[1],A[2],A[3],be(e),e.angle),M=O[0],z=O[1],_=Ne(t,e.x-M,e.y-z,e.angle,S,C,x,P,r),I=_[0],D=_[1];0!==g&&0!==y&&Number.isFinite(I)&&Number.isFinite(D)&&xn(e,Lr({width:g,height:y,x:I,y:D},T))},Gr=function(e,t,n,r){var o,a,i=Xe(e),s=i[0],l=i[1],c=i[2],u=i[3];switch(t){case"se":o=Math.max((n-s)/(c-s),(r-l)/(u-l)),a=function(e,t,n){var r=t[0],a=t[1],i=n[0],c=n[1];return{x:e.x+(r-s)*(o-1)+r-i,y:e.y+(a-l)*(o-1)+a-c}};break;case"nw":o=Math.max((c-n)/(c-s),(u-r)/(u-l)),a=function(e,t,n){var r=t[2],a=t[3],i=n[2],s=n[3];return{x:e.x-(c-r)*(o-1)+r-i,y:e.y-(u-a)*(o-1)+a-s}};break;case"ne":o=Math.max((n-s)/(c-s),(u-r)/(u-l)),a=function(e,t,n){var r=t[0],a=t[3],i=n[0],l=n[3];return{x:e.x+(r-s)*(o-1)+r-i,y:e.y-(u-a)*(o-1)+a-l}};break;case"sw":o=Math.max((c-n)/(c-s),(r-l)/(u-l)),a=function(e,t,n){var r=t[1],a=t[2],i=n[1],s=n[2];return{x:e.x-(c-a)*(o-1)+a-s,y:e.y+(r-l)*(o-1)+r-i}}}if(o>0){var d=e.reduce((function(e,t){if(!e)return e;var n=t.width*o,r=t.height*o,i={};if("text"===t.type){var s=Rr(t,n,r);if(null===s)return null;i={fontSize:s.size,baseline:s.baseline}}var l=Ue(t),c=Br(t,n,r),u=Je(Lr(Lr({},t),c),n,r),d=a(t,l,u),p=d.x,h=d.y;return Ir(e,[Lr(Lr({width:n,height:r,x:p,y:h},c),i)])}),[]);d&&e.forEach((function(e,t){xn(e,d[t])}))}},Ur=function(e){return e.trim()?e.replace(/^\n+|\n+$/g,""):""},Vr=function(e){var t=qt(e.text,Vt(e));xn(e,{width:t.width,height:t.height,baseline:t.baseline})},qr=function(e,t){return Boolean(e.editingElement||Ot(t,e).length||"selection"!==e.elementType)},Kr=function(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})},Yr=function(e){return e.reduce((function(e,t){return e+t.version}),0)},Zr=function(e){return e.filter((function(e){return!e.isDeleted}))},Xr=function(e){return!e.isDeleted},Jr=n(1);var $r=function(){return{isLoading:!1,errorMessage:null,draggingElement:null,resizingElement:null,multiElement:null,editingElement:null,editingLinearElement:null,elementType:"selection",elementLocked:!1,exportBackground:!0,shouldAddWatermark:!1,currentItemStrokeColor:Jr.black,currentItemBackgroundColor:"transparent",currentItemFillStyle:"hachure",currentItemStrokeWidth:1,currentItemStrokeStyle:"solid",currentItemRoughness:1,currentItemOpacity:100,currentItemFontSize:20,currentItemFontFamily:1,currentItemTextAlign:"left",viewBackgroundColor:Jr.white,scrollX:0,scrollY:0,cursorX:0,cursorY:0,cursorButton:"up",scrolledOutside:!1,name:"".concat(xt("labels.untitled"),"-").concat(Ht()),username:"",isCollaborating:!1,isResizing:!1,isRotating:!1,selectionElement:null,zoom:1,openMenu:null,lastPointerDownWith:"mouse",selectedElementIds:{},previousSelectedElementIds:{},collaborators:new Map,shouldCacheIgnoreZoom:!1,showShortcutsDialog:!1,zenModeEnabled:!1,editingGroupId:null,selectedGroupIds:{},width:window.innerWidth,height:window.innerHeight}},Qr=function(e){return{viewBackgroundColor:e.viewBackgroundColor}},eo=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r},to=function(e){return[Jr.red[e],Jr.pink[e],Jr.grape[e],Jr.violet[e],Jr.indigo[e],Jr.blue[e],Jr.cyan[e],Jr.teal[e],Jr.green[e],Jr.lime[e],Jr.yellow[e],Jr.orange[e]]},no={canvasBackground:eo([Jr.white,Jr.gray[0],Jr.gray[1]],to(0)),elementBackground:eo(["transparent",Jr.gray[4],Jr.gray[6]],to(6)),elementStroke:eo([Jr.black,Jr.gray[8],Jr.gray[7]],to(9))},ro=function(e){var t=e.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0),n=no.elementBackground.slice(1),r=no.elementStroke.slice(1);return{background:n[t%n.length],stroke:r[t%r.length]}},oo=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo=function(){function e(t){e.normalizePoints(t),this.elementId=t.id,this.activePointIndex=null,this.lastUncommittedPoint=null,this.draggingElementPointIndex=null}return e.getElement=function(e){var t=Ft.getNonDeletedElement(e);return t||null},e.handlePointDragging=function(t,n,r,o,a,i){var s,l;if(!t.editingLinearElement)return!1;var c=t.editingLinearElement,u=c.draggingElementPointIndex,d=c.elementId,p=e.getElement(d);if(!p)return!1;var h=null!==(s=u)&&void 0!==s?s:e.getPointIndexUnderCursor(p,t.zoom,r,o);if((u=null!==(l=u)&&void 0!==l?l:h)>-1){c.draggingElementPointIndex===u&&c.activePointIndex===h||n({editingLinearElement:io(io({},c),{},{draggingElementPointIndex:u,activePointIndex:h})});var f=je(r-a,o-i,0,0,-p.angle),m=f[0],g=f[1],y=p.points[h];return e.movePoint(p,h,[y[0]+m,y[1]+g]),!0}return!1},e.handlePointerUp=function(t){var n=t.elementId,r=t.draggingElementPointIndex,o=e.getElement(n);return o?(null===r||0!==r&&r!==o.points.length-1||!Be(o.points)||e.movePoint(o,r,0===r?o.points[o.points.length-1]:o.points[0]),null!==r?io(io({},t),{},{draggingElementPointIndex:null}):t):t},e.handlePointerDown=function(t,n,r,o,a,i){var s={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return s;var l=n.editingLinearElement.elementId,c=e.getElement(l);if(!c)return s;if(t.altKey)return n.editingLinearElement.lastUncommittedPoint||xn(c,{points:oo(c.points,[e.createPointAt(c,a,i)])}),o.resumeRecording(),r({editingLinearElement:io(io({},n.editingLinearElement),{},{activePointIndex:c.points.length-1,lastUncommittedPoint:null})}),s.didAddPoint=!0,s;var u=e.getPointIndexUnderCursor(c,n.zoom,a,i);return u>-1&&(s.hitElement=c),r({editingLinearElement:io(io({},n.editingLinearElement),{},{activePointIndex:u>-1?u:null})}),s},e.handlePointerMove=function(t,n,r,o){var a=o.elementId,i=o.lastUncommittedPoint,s=e.getElement(a);if(!s)return o;var l=s.points,c=l[l.length-1];if(!t.altKey)return c===i&&e.movePoint(s,l.length-1,"delete"),o;var u=e.createPointAt(s,n,r);return c===i?e.movePoint(s,s.points.length-1,u):e.movePoint(s,"new",u),io(io({},o),{},{lastUncommittedPoint:s.points[s.points.length-1]})},e.getPointsGlobalCoordinates=function(e){var t=Ue(e),n=t[0],r=t[1],o=t[2],a=t[3],i=(n+o)/2,s=(r+a)/2;return e.points.map((function(t){var n,r=e.x,o=e.y;return[r=(n=je(r+t[0],o+t[1],i,s,e.angle))[0],o=n[1]]}))},e.getPointIndexUnderCursor=function(e,t,n,r){for(var o=this.getPointsGlobalCoordinates(e),a=o.length;--a>-1;){var i=o[a];if(Fe(n,r,i[0],i[1])*t<this.POINT_HANDLE_SIZE/2+1)return a}return-1},e.createPointAt=function(e,t,n){var r=Ue(e),o=r[0],a=r[1],i=r[2],s=r[3],l=je(t,n,(o+i)/2,(a+s)/2,-e.angle),c=l[0],u=l[1];return[c-e.x,u-e.y]},e.normalizePoints=function(e){var t=e.points,n=t[0][0],r=t[0][1];xn(e,{points:t.map((function(e,t){return[e[0]-n,e[1]-r]})),x:e.x+n,y:e.y+r})},e.movePoint=function(e,t,n){var r,o=e.points,a=0,i=0;if("delete"===n){if("new"===t)throw new Error("invalid args in movePoint");(r=o.slice()).splice(t,1),0===t&&(a=r[0][0],i=r[0][1],r=r.map((function(e,t){return 0===t?[0,0]:[e[0]-a,e[1]-i]})))}else if("new"===t)r=oo(o,[n]);else{var s=n[0]-o[t][0],l=n[1]-o[t][1];r=o.map((function(e,n){return n===t?0===n?(a=s,i=l,e):(a=0,i=0,[e[0]+s,e[1]+l]):a||i?[e[0]-a,e[1]-i]:e}))}var c=$e(e,r),u=$e(e,o),d=(c[0]+c[2])/2,p=(c[1]+c[3])/2,h=(u[0]+u[2])/2,f=(u[1]+u[3])/2,m=je(a,i,h-d,f-p,e.angle);xn(e,{points:r,x:e.x+m[0],y:e.y+m[1]})},e}();lo.POINT_HANDLE_SIZE=20;var co=function(e,t,n,r,o,a,i,s,l){e.translate(a,i),e.rotate(s),l&&e.fillRect(t-a,n-i,r,o),e.strokeRect(t-a,n-i,r,o),e.rotate(-s),e.translate(-a,-i)},uo=function(e,t,n,r,o){e.beginPath(),e.arc(t+r/2,n+o/2,r/2,0,2*Math.PI),e.fill(),e.stroke()},po=function(e,t,n,r,o,a,i,s){var l=void 0===s?{}:s,c=l.renderScrollbars,u=void 0===c||c,d=l.renderSelection,p=void 0===d||d,h=l.renderOptimizations,f=void 0!==h&&h;if(!a)return{atLeastOneVisibleElement:!1};var m=a.getContext("2d");m.scale(r,r);var g=a.width/r,y=a.height/r;if("string"==typeof i.viewBackgroundColor){("transparent"===i.viewBackgroundColor||5===i.viewBackgroundColor.length||9===i.viewBackgroundColor.length||/(hsla|rgba)\(/.test(i.viewBackgroundColor))&&m.clearRect(0,0,g,y);var v=m.fillStyle;m.fillStyle=i.viewBackgroundColor,m.fillRect(0,0,g,y),m.fillStyle=v}else m.clearRect(0,0,g,y);var b=-g*(i.zoom-1)/2,k=-y*(i.zoom-1)/2;m.translate(b,k),m.scale(i.zoom,i.zoom);var w,E=e.filter((function(e){return ho(e,g,y,i)}));if(E.forEach((function(e){gn(e,o,m,f,i),be(e)&&t.editingLinearElement&&t.editingLinearElement.elementId===e.id&&function(e,t,n,r){e.translate(n.scrollX,n.scrollY);var o=e.strokeStyle,a=e.lineWidth;e.lineWidth=1/n.zoom,lo.getPointsGlobalCoordinates(r).forEach((function(r,o){var a;e.strokeStyle="red",e.setLineDash([]),e.fillStyle=(null===(a=t.editingLinearElement)||void 0===a?void 0:a.activePointIndex)===o?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var i=lo.POINT_HANDLE_SIZE;uo(e,r[0]-i/2/n.zoom,r[1]-i/2/n.zoom,i/n.zoom,i/n.zoom)})),e.setLineDash([]),e.lineWidth=a,e.translate(-n.scrollX,-n.scrollY),e.strokeStyle=o}(m,t,i,e)})),n&&gn(n,o,m,f,i),p&&!t.multiElement&&!t.editingLinearElement){m.translate(i.scrollX,i.scrollY);var S=e.reduce((function(e,n){var r=[];if(t.selectedElementIds[n.id]&&!function(e,t){return!!t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))}(t,n)&&r.push(Jr.black),i.remoteSelectedElementIds[n.id]&&r.push.apply(r,i.remoteSelectedElementIds[n.id].map((function(e){return ro(e).background}))),r.length){var o=Ue(n),a=o[0],s=o[1],l=o[2],c=o[3];e.push({angle:n.angle,elementX1:a,elementY1:s,elementX2:l,elementY2:c,selectionColors:r})}return e}),[]);function C(t){var n=Fn(e,t),r=Xe(n),o=r[0],a=r[1],i=r[2],s=r[3];S.push({angle:0,elementX1:o,elementX2:i,elementY1:a,elementY2:s,selectionColors:[Jr.black]})}for(var x=0,P=Ln(t);x<P.length;x++){C(P[x])}t.editingGroupId&&C(t.editingGroupId),S.forEach((function(e){var t=e.angle,n=e.elementX1,r=e.elementY1,o=e.elementX2,a=e.elementY2,s=e.selectionColors,l=o-n,c=a-r,u=m.getLineDash(),d=m.lineWidth,p=m.lineDashOffset,h=m.strokeStyle,f=4/i.zoom,g=8/i.zoom,y=4/i.zoom;m.lineWidth=1/i.zoom;for(var v=s.length,b=0;b<v;++b)m.strokeStyle=s[b],m.setLineDash([g,y+(g+y)*(v-1)]),m.lineDashOffset=(g+y)*b,co(m,n-f,r-f,l+2*f,c+2*f,n+l/2,r+c/2,t);m.lineDashOffset=p,m.strokeStyle=h,m.lineWidth=d,m.setLineDash(u)})),m.translate(-i.scrollX,-i.scrollY);var T=Ot(e,t);if(1===T.length){m.translate(i.scrollX,i.scrollY),m.fillStyle=Jr.white;var A=nr(T[0],i.zoom);Object.keys(A).forEach((function(e){var t=A[e];if(void 0!==t){var n=m.lineWidth;m.lineWidth=1/i.zoom,"rotation"===e?uo(m,t[0],t[1],t[2],t[3]):co(m,t[0],t[1],t[2],t[3],t[0]+t[2]/2,t[1]+t[3]/2,T[0].angle,!0),m.lineWidth=n}})),m.translate(-i.scrollX,-i.scrollY)}else if(T.length>1){var O=4/i.zoom;m.translate(i.scrollX,i.scrollY),m.fillStyle=Jr.white;var M=Xe(T),z=M[0],_=M[1],I=M[2],D=M[3],L=m.getLineDash();m.setLineDash([2/i.zoom]);var j=m.lineWidth;m.lineWidth=1/i.zoom,co(m,z-O,_-O,I-z+2*O,D-_+2*O,(z+I)/2,(_+D)/2,0),m.lineWidth=j,m.setLineDash(L);var N=tr([z,_,I,D],0,i.zoom,void 0,Xn);Object.keys(N).forEach((function(e){var t=N[e];if(void 0!==t){var n=m.lineWidth;m.lineWidth=1/i.zoom,co(m,t[0],t[1],t[2],t[3],t[0]+t[2]/2,t[1]+t[3]/2,0,!0),m.lineWidth=n}})),m.translate(-i.scrollX,-i.scrollY)}}for(var F in m.scale(1/i.zoom,1/i.zoom),m.translate(-b,-k),i.remotePointerViewportCoords){var B=i.remotePointerViewportCoords[F],R=B.x,H=B.y,W=i.remotePointerUsernames[F],G=R<0||R>g-9||H<0||H>y-14;R=Math.max(R,0),R=Math.min(R,g-9),H=Math.max(H,0),H=Math.min(H,y-14);var U=ro(F),V=U.background,q=U.stroke,K=m.strokeStyle,Y=(v=m.fillStyle,m.globalAlpha);if(m.strokeStyle=q,m.fillStyle=V,G&&(m.globalAlpha=.2),i.remotePointerButton&&"down"===i.remotePointerButton[F]&&(m.beginPath(),m.arc(R,H,15,0,2*Math.PI,!1),m.lineWidth=3,m.strokeStyle="#ffffff88",m.stroke(),m.closePath(),m.beginPath(),m.arc(R,H,15,0,2*Math.PI,!1),m.lineWidth=1,m.strokeStyle=q,m.stroke(),m.closePath()),m.beginPath(),m.moveTo(R,H),m.lineTo(R+1,H+14),m.lineTo(R+4,H+9),m.lineTo(R+9,H+10),m.lineTo(R,H),m.fill(),m.stroke(),!G&&W){var Z=R+9,X=H+14,J=m.measureText(W),$=J.actualBoundingBoxDescent+J.actualBoundingBoxAscent;m.fillStyle=q,m.globalAlpha=Y,m.fillRect(Z-1,X-1,J.width+8+2,$+8+2),m.fillStyle=V,m.fillRect(Z,X,J.width+8,$+8),m.fillStyle=Jr.white,m.fillText(W,Z+4,X+4+J.actualBoundingBoxAscent)}m.strokeStyle=K,m.fillStyle=v,m.globalAlpha=Y,m.closePath()}if(u){w=function(e,t,n,r){var o=r.scrollX,a=r.scrollY,i=r.zoom,s=Xe(e),l=s[0],c=s[1],u=s[2],d=s[3],p=t/i,h=n/i,f=t-p,m=n-h,g={top:parseInt(nn("sat")),bottom:parseInt(nn("sab")),left:parseInt(nn("sal")),right:parseInt(nn("sar"))},y=St().rtl,v=f/2-o+g.left,b=m/2-a+g.top,k=v+p-g.right,w=b+h-g.bottom,E=Math.min(l,v),S=Math.min(c,b),C=Math.max(u,k),x=Math.max(d,w);return{horizontal:v===E&&k===C?null:{x:Math.max(g.left,4)+(v-E)/(C-E)*t,y:n-6-Math.max(4,g.bottom),width:(k-v)/(C-E)*t-Math.max(8,g.left+g.right),height:6},vertical:b===S&&w===x?null:{x:y?Math.max(g.left,4):t-6-Math.max(g.right,4),y:(b-S)/(x-S)*n+Math.max(g.top,4),width:6,height:(w-b)/(x-S)*n-Math.max(8,g.top+g.bottom)}}}(e,g,y,i);v=m.fillStyle,K=m.strokeStyle;m.fillStyle="rgba(0,0,0,0.3)",m.strokeStyle="rgba(255,255,255,0.8)",[w.horizontal,w.vertical].forEach((function(e){e&&function(e,t,n,r,o,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+o-a),e.quadraticCurveTo(t+r,n+o,t+r-a,n+o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t,n+o,t,n+o-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill(),e.stroke()}(m,e.x,e.y,e.width,e.height,3)})),m.fillStyle=v,m.strokeStyle=K}return m.scale(1/r,1/r),{atLeastOneVisibleElement:E.length>0,scrollBars:w}},ho=function(e,t,n,r){var o=r.scrollX,a=r.scrollY,i=r.zoom,s=Ue(e),l=s[0],c=s[1],u=s[2],d=s[3],p=t/i,h=n/i,f=t-p,m=n-h;return u+o-f/2>=0&&l+o-f/2<=p&&d+a-m/2>=0&&c+a-m/2<=h},fo=function(e,t,n,r){var o=void 0===r?{}:r,a=o.offsetX,i=void 0===a?0:a,s=o.offsetY,l=void 0===s?0:s;n&&e.forEach((function(e){e.isDeleted||function(e,t,n,r,o){var a=Ue(e),i=a[0],s=a[1],l=a[2],c=a[3],u=(l-i)/2-(e.x-i),d=(c-s)/2-(e.y-s),p=180*e.angle/Math.PI,h=t.generator;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":fn(e,h);var f=t.draw(dn(e));1!==(y=e.opacity/100)&&(f.setAttribute("stroke-opacity","".concat(y)),f.setAttribute("fill-opacity","".concat(y))),f.setAttribute("transform","translate(".concat(r||0," ").concat(o||0,") rotate(").concat(p," ").concat(u," ").concat(d,")")),n.appendChild(f);break;case"line":case"draw":case"arrow":fn(e,h);var m=n.ownerDocument.createElementNS(Bt,"g"),g=e.opacity/100;dn(e).forEach((function(n){var a=t.draw(n);1!==g&&(a.setAttribute("stroke-opacity","".concat(g)),a.setAttribute("fill-opacity","".concat(g))),a.setAttribute("transform","translate(".concat(r||0," ").concat(o||0,") rotate(").concat(p," ").concat(u," ").concat(d,")")),"line"!==e.type&&"draw"!==e.type||!Be(e.points)||"transparent"===e.backgroundColor||a.setAttribute("fill-rule","evenodd"),m.appendChild(a)})),n.appendChild(m);break;default:if(!ve(e))throw new Error("Unimplemented type ".concat(e.type));var y=e.opacity/100;f=n.ownerDocument.createElementNS(Bt,"g");1!==y&&(f.setAttribute("stroke-opacity","".concat(y)),f.setAttribute("fill-opacity","".concat(y))),f.setAttribute("transform","translate(".concat(r||0," ").concat(o||0,") rotate(").concat(p," ").concat(u," ").concat(d,")"));for(var v=e.text.replace(/\r\n?/g,"\n").split("\n"),b=e.height/v.length,k=e.height-e.baseline,w="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,E=on(e.text)?"rtl":"ltr",S="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===E?"end":"start",C=0;C<v.length;C++){var x=n.ownerDocument.createElementNS(Bt,"text");x.textContent=v[C],x.setAttribute("x","".concat(w)),x.setAttribute("y","".concat((C+1)*b-k)),x.setAttribute("font-family",Ut(e)),x.setAttribute("font-size","".concat(e.fontSize,"px")),x.setAttribute("fill",e.strokeColor),x.setAttribute("text-anchor",S),x.setAttribute("style","white-space: pre;"),x.setAttribute("direction",E),f.appendChild(x)}n.appendChild(f)}}(e,t,n,e.x+i,e.y+l)}))},mo=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r},go=function(e,t,n,r){var o=n.exportBackground,a=n.exportPadding,i=void 0===a?10:a,s=n.viewBackgroundColor,l=n.scale,c=void 0===l?1:l,u=n.shouldAddWatermark;void 0===r&&(r=function(e,t){var n=document.createElement("canvas");return n.width=e*c,n.height=t*c,n});var d=e;if(u){var p=Xe(e),h=p[2],f=p[3];d=mo(d,[yo(h,f)])}var m=Xe(d),g=m[0],y=m[1],v=m[2],b=m[3],k=r(Zt(g,v)+2*i,Zt(y,b)+i+(u?0:i));return po(d,t,null,c,me(k),k,{viewBackgroundColor:o?s:null,scrollX:Mt(-g+i),scrollY:Mt(-y+i),zoom:1,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1}),k},yo=function(e,t){var n=xt("labels.madeWithExcalidraw"),r=qt(n,Vt({fontSize:16,fontFamily:1})).width;return qn({text:n,fontSize:16,fontFamily:1,textAlign:"center",x:e-r/2,y:t+16,strokeColor:Jr.gray[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100})},vo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function bo(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ko(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){bo(a,r,o,i,s,"next",e)}function s(e){bo(a,r,o,i,s,"throw",e)}i(void 0)}))}}var wo="chooseFileSystemEntries"in self?Promise.resolve().then(n.bind(null,102)):Promise.resolve().then(n.bind(null,103));function Eo(){return So.apply(this,arguments)}function So(){return(So=ko((function(){var e,t,n=[];for(e=0;e<arguments.length;e++)n[e]=arguments[e];return vo(this,(function(e){switch(e.label){case 0:return[4,wo];case 1:return[2,(t=e.sent()).default.apply(t,n)]}}))}))).apply(this,arguments)}"chooseFileSystemEntries"in self?Promise.resolve().then(n.bind(null,104)):Promise.resolve().then(n.bind(null,105));var Co=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function xo(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Po(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){xo(a,r,o,i,s,"next",e)}function s(e){xo(a,r,o,i,s,"throw",e)}i(void 0)}))}}var To="chooseFileSystemEntries"in self?Promise.resolve().then(n.bind(null,106)):Promise.resolve().then(n.bind(null,107));function Ao(){return Oo.apply(this,arguments)}function Oo(){return(Oo=Po((function(){var e,t,n=[];for(e=0;e<arguments.length;e++)n[e]=arguments[e];return Co(this,(function(e){switch(e.label){case 0:return[4,To];case 1:return[2,(t=e.sent()).default.apply(t,n)]}}))}))).apply(this,arguments)}var Mo=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function zo(e){var t=/^[$]?([0-9]+(\.[0-9]+)?)$/.exec(e);return t?parseFloat(t[1]):null}function _o(e,t){return e.slice(1).every((function(e){return null!==zo(e[t])}))}function Io(e){var t=e[0].length;if(t>2)return{type:"malformed spreadsheet",error:xt("charts.tooManyColumns")};if(1===t){if(!_o(e,0))return{type:"not a spreadsheet"};var n=null===zo(e[0][0]),r=(n?e.slice(1):e).map((function(e){return zo(e[0])}));return r.length<2?{type:"not a spreadsheet"}:{type:"spreadsheet",spreadsheet:{yAxisLabel:n?e[0][0]:null,labels:null,values:r}}}var o=_o(e,0)?0:1;if(!_o(e,o))return{type:"malformed spreadsheet",error:xt("charts.noNumericColumn")};var a=(o+1)%2,i=null===zo(e[0][o]),s=i?e.slice(1):e;return s.length<2?{type:"not a spreadsheet"}:{type:"spreadsheet",spreadsheet:{yAxisLabel:i?e[0][o]:null,labels:s.map((function(e){return e[a]})),values:s.map((function(e){return zo(e[o])}))}}}function Do(e,t,n,r){var o,a=Math.max.apply(Math,t.values),i=Math.min.apply(Math,Mo([0],t.values)),s=a-i,l=qn({x:n,y:r+192,strokeColor:e.currentItemStrokeColor,backgroundColor:e.currentItemBackgroundColor,fillStyle:e.currentItemFillStyle,strokeWidth:e.currentItemStrokeWidth,strokeStyle:e.currentItemStrokeStyle,roughness:e.currentItemRoughness,opacity:e.currentItemOpacity,text:i.toLocaleString(),fontSize:16,fontFamily:e.currentItemFontFamily,textAlign:e.currentItemTextAlign}),c=qn({x:n,y:r,strokeColor:e.currentItemStrokeColor,backgroundColor:e.currentItemBackgroundColor,fillStyle:e.currentItemFillStyle,strokeWidth:e.currentItemStrokeWidth,strokeStyle:e.currentItemStrokeStyle,roughness:e.currentItemRoughness,opacity:e.currentItemOpacity,text:a.toLocaleString(),fontSize:16,fontFamily:e.currentItemFontFamily,textAlign:e.currentItemTextAlign}),u=t.values.map((function(t,o){var a=192*((t-i)/s);return Vn({type:"rectangle",x:44*o+36+n,y:192-a+r,width:32,height:a,strokeColor:e.currentItemStrokeColor,backgroundColor:e.currentItemBackgroundColor,fillStyle:e.currentItemFillStyle,strokeWidth:e.currentItemStrokeWidth,strokeStyle:e.currentItemStrokeStyle,roughness:e.currentItemRoughness,opacity:e.currentItemOpacity})})),d=(null===(o=t.labels)||void 0===o?void 0:o.map((function(t,o){var a=44*o+36+12;return qn({text:t.length>8?"".concat(t.slice(0,5),"..."):t,x:n+a,y:r+204,strokeColor:e.currentItemStrokeColor,backgroundColor:e.currentItemBackgroundColor,fillStyle:e.currentItemFillStyle,strokeWidth:e.currentItemStrokeWidth,strokeStyle:e.currentItemStrokeStyle,roughness:e.currentItemRoughness,opacity:e.currentItemOpacity,fontSize:16,fontFamily:e.currentItemFontFamily,textAlign:"center",width:32,angle:5.87})})))||[],p=t.yAxisLabel?qn({text:t.yAxisLabel,x:n-36,y:r+96-10,strokeColor:e.currentItemStrokeColor,backgroundColor:e.currentItemBackgroundColor,fillStyle:e.currentItemFillStyle,strokeWidth:e.currentItemStrokeWidth,strokeStyle:e.currentItemStrokeStyle,roughness:e.currentItemRoughness,opacity:e.currentItemOpacity,fontSize:20,fontFamily:e.currentItemFontFamily,textAlign:"center",width:32,angle:5.87}):null;return Mo(u,[p,l,c],d).filter((function(e){return null!==e}))}var Lo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function jo(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function No(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){jo(a,r,o,i,s,"next",e)}function s(e){jo(a,r,o,i,s,"throw",e)}i(void 0)}))}}var Fo="",Bo=!1,Ro="clipboard"in navigator&&"readText"in navigator.clipboard,Ho="clipboard"in navigator&&"writeText"in navigator.clipboard,Wo="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Go=function(){var e=No((function(e,t){return Lo(this,(function(n){switch(n.label){case 0:Fo=JSON.stringify(Ot(e,t)),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Yo(null)];case 2:return n.sent(),Bo=!1,[3,4];case 3:return n.sent(),Bo=!0,[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Uo=function(){if(!Fo)return{};try{var e=JSON.parse(Fo);if(Array.isArray(e)&&e.length>0&&e[0].type)return{elements:e}}catch(e){console.error(e)}return{}},Vo=function(){var e=No((function(e,t,n,r){var o,a,i,s,l,c;return Lo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),r?(i=null===(o=r.clipboardData)||void 0===o?void 0:o.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(s=Ro)?[4,navigator.clipboard.readText()]:[3,3];case 2:s=u.sent(),u.label=3;case 3:i=s,u.label=4;case 4:return!(a=i)||Bo||a.includes("\x3c!-- svg-source:excalidraw --\x3e")?[3,6]:"spreadsheet"===(l=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(0===t.length)return{type:"not a spreadsheet"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:"not a spreadsheet"};var r=Io(t);if("spreadsheet"!==r.type){var o=Io(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],o=0;o<e.length;o++)r.push(e[o][n]);t.push(r)}return t}(t));if("spreadsheet"===o.type)return o}return r}(a)).type?[2,{elements:Do(e,l.spreadsheet,t,n)}]:"malformed spreadsheet"===l.type?[2,{error:l.error}]:[2,{text:a}];case 5:return c=u.sent(),console.error(c),[3,6];case 6:return[2,Uo()]}}))}));return function(t,n,r,o){return e.apply(this,arguments)}}(),qo=function(){var e=No((function(e){return Lo(this,(function(t){return[2,new Promise((function(t,n){try{e.toBlob(function(){var e=No((function(e){var r;return Lo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":e})])];case 1:return o.sent(),t(),[3,3];case 2:return r=o.sent(),n(r),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}())}catch(e){n(e)}}))]}))}));return function(t){return e.apply(this,arguments)}}(),Ko=function(){var e=No((function(e){var t;return Lo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,navigator.clipboard.writeText(e.outerHTML)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),Yo=function(){var e=No((function(e){var t,n;return Lo(this,(function(r){switch(r.label){case 0:if(t=!1,!Ho)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(e||"")];case 2:return r.sent(),t=!0,[3,4];case 3:return n=r.sent(),console.error(n),[3,4];case 4:if(!t&&!Zo(e||" "))throw new Error("couldn't copy");return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),Zo=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var o=!1;try{n.select(),n.setSelectionRange(0,n.value.length),o=document.execCommand("copy")}catch(e){console.error(e)}return n.remove(),o};function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){$o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qo(e,t){var n,r,o,a,i={type:e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:!1,id:e.id||wn(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(r=e.strokeStyle)&&void 0!==r?r:"solid",roughness:null!==(o=e.roughness)&&void 0!==o?o:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:e.x||0,y:e.y||0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(a=e.seed)&&void 0!==a?a:1,groupIds:e.groupIds||[]};return Jo(Jo(Jo({},i),On(i)),t)}var ea=function(e){var t,n;switch(e.type){case"text":var r=e.fontSize,o=e.fontFamily;if("font"in e){var a=e.font.split(" "),i=a[0],s=a[1];r=parseInt(i,10),o=function(e){for(var t=0,n=Object.entries(Ie);t<n.length;t++){var r=n[t],o=r[0];if(r[1].includes(e))return parseInt(o)}return 1}(s)}return Qo(e,{fontSize:r,fontFamily:o,text:null!==(t=e.text)&&void 0!==t?t:"",baseline:e.baseline,textAlign:null!==(n=e.textAlign)&&void 0!==n?n:"left"});case"draw":case"line":case"arrow":return Qo(e,{points:!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points});case"ellipse":case"rectangle":case"diamond":return Qo(e,{})}},ta=function(e,t,n){var r=e.reduce((function(e,t){if("selection"!==t.type&&!Tn(t)){var n=ea(t);n&&e.push(n)}return e}),[]);return(null==n?void 0:n.scrollToContent)&&t&&(t=Jo(Jo({},t),zt(r,t,null))),{elements:r,appState:t}},na=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){aa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var sa=function(){var e,t=(e=function(e){var t,n,r,o,a;return na(this,(function(i){switch(i.label){case 0:return t=function(e){var t=$r(),n=[],r=t;try{var o=JSON.parse(e);if("excalidraw"!==o.type)throw new Error(xt("alerts.couldNotLoadInvalidFile"));n=o.elements||[],r=oa(oa({},t),o.appState)}catch(e){throw new Error(xt("alerts.couldNotLoadInvalidFile"))}return{elements:n,appState:r}},e.handle&&(window.handle=e.handle),"text"in Blob?[4,e.text()]:[3,2];case 1:return n=i.sent(),[3,4];case 2:return[4,new Promise((function(t){var n=new FileReader;n.readAsText(e,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&t(n.result)}}))];case 3:n=i.sent(),i.label=4;case 4:return r=t(n),o=r.elements,a=r.appState,[2,ta(o,a,{scrollToContent:!0})]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ia(a,r,o,i,s,"next",e)}function s(e){ia(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),la=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function ca(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ua(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ca(a,r,o,i,s,"next",e)}function s(e){ca(a,r,o,i,s,"throw",e)}i(void 0)}))}}var da=function(e,t){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:e.filter((function(e){return!e.isDeleted})),appState:Qr(t)},null,2)},pa=function(){var e=ua((function(e,t,n){var r,o,a,i;return la(this,(function(s){switch(s.label){case 0:return r=da(e,t),o=new Blob([r],{type:"application/json"}),a="".concat(t.name,".excalidraw"),i=window,[4,Ao(o,{fileName:a,description:"Excalidraw file",extensions:["excalidraw"]},n||null)];case 1:return i.handle=s.sent(),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),ha=function(){var e=ua((function(){var e;return la(this,(function(t){switch(t.label){case 0:return[4,Eo({description:"Excalidraw files",extensions:["json","excalidraw"],mimeTypes:["application/json"]})];case 1:return e=t.sent(),[2,sa(e)]}}))}));return function(){return e.apply(this,arguments)}}(),fa=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ba(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){va(a,r,o,i,s,"next",e)}function s(e){va(a,r,o,i,s,"throw",e)}i(void 0)}))}}window.handle=null;var ka=function(e){return"0".concat(e.toString(16)).slice(-2)},wa=function(){var e=ba((function(){var e;return fa(this,(function(t){return e=new Uint8Array(10),window.crypto.getRandomValues(e),[2,Array.from(e,ka).join("")]}))}));return function(){return e.apply(this,arguments)}}(),Ea=function(){var e=ba((function(){var e;return fa(this,(function(t){switch(t.label){case 0:return[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return e=t.sent(),[4,window.crypto.subtle.exportKey("jwk",e)];case 2:return[2,t.sent().k]}}))}));return function(){return e.apply(this,arguments)}}(),Sa=function(e){if(0!==e.length)return new URL(e).hash.match(/^#room=([a-zA-Z0-9_-]+),([a-zA-Z0-9_-]+)$/)},Ca=function(){var e=ba((function(){var e,t;return fa(this,(function(n){switch(n.label){case 0:return[4,wa()];case 1:return e=n.sent(),[4,Ea()];case 2:return t=n.sent(),[2,"".concat(window.location.origin).concat(window.location.pathname,"#room=").concat(e,",").concat(t)]}}))}));return function(){return e.apply(this,arguments)}}(),xa=function(e,t){return window.crypto.subtle.importKey("jwk",{alg:"A128GCM",ext:!0,k:e,key_ops:["encrypt","decrypt"],kty:"oct"},{name:"AES-GCM",length:128},!1,[t])},Pa=function(){var e=ba((function(e,t){var n,r,o;return fa(this,(function(a){switch(a.label){case 0:return[4,xa(t,"encrypt")];case 1:return n=a.sent(),r=function(){var e=new Uint8Array(12);return window.crypto.getRandomValues(e)}(),o={},[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,e)];case 2:return[2,(o.data=a.sent(),o.iv=r,o)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Ta=function(){var e=ba((function(e,t,n){var r,o,a,i;return fa(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,xa(t,"decrypt")];case 1:return r=s.sent(),[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},r,e)];case 2:return o=s.sent(),a=new TextDecoder("utf-8").decode(new Uint8Array(o)),[2,JSON.parse(a)];case 3:return i=s.sent(),window.alert(xt("alerts.decryptFailed")),console.error(i),[3,4];case 4:return[2,{type:"INVALID_RESPONSE"}]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),Aa=function(){var e=ba((function(e,t){var n,r,o,a,i,s,l,c,u,d;return fa(this,(function(p){switch(p.label){case 0:return n=da(e,t),r=(new TextEncoder).encode(n),[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return o=p.sent(),a=new Uint8Array(12),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},o,r)];case 2:return i=p.sent(),[4,window.crypto.subtle.exportKey("jwk",o)];case 3:s=p.sent(),p.label=4;case 4:return p.trys.push([4,7,,8]),[4,fetch("https://json.excalidraw.com/api/v2/post/",{method:"POST",body:i})];case 5:return[4,p.sent().json()];case 6:return(l=p.sent()).id?((c=new URL(window.location.href)).hash="json=".concat(l.id,",").concat(s.k),u=c.toString(),window.prompt("".concat(xt("alerts.uploadedSecurly")),u)):window.alert(xt("alerts.couldNotCreateShareableLink")),[3,8];case 7:return d=p.sent(),console.error(d),window.alert(xt("alerts.couldNotCreateShareableLink")),[3,8];case 8:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Oa=function(){var e=ba((function(e,t){var n,r,o,a,i,s,l,c,u,d;return fa(this,(function(p){switch(p.label){case 0:n=[],r=$r(),p.label=1;case 1:return p.trys.push([1,9,10,11]),[4,fetch(t?"".concat("https://json.excalidraw.com/api/v2/").concat(e):"".concat("https://json.excalidraw.com/api/v1/").concat(e,".json"))];case 2:return(o=p.sent()).ok?(a=void 0,t?[4,o.arrayBuffer()]:[3,6]):(window.alert(xt("alerts.importBackendFailed")),[2,ta(n,r,{scrollToContent:!0})]);case 3:return i=p.sent(),[4,xa(t,"decrypt")];case 4:return s=p.sent(),l=new Uint8Array(12),[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:l},s,i)];case 5:return c=p.sent(),u=new window.TextDecoder("utf-8").decode(new Uint8Array(c)),a=JSON.parse(u),[3,8];case 6:return[4,o.json()];case 7:a=p.sent(),p.label=8;case 8:return n=a.elements||n,r=ga(ga({},r),a.appState),[3,11];case 9:return d=p.sent(),window.alert(xt("alerts.importBackendFailed")),console.error(d),[3,11];case 10:return[2,ta(n,r,{scrollToContent:!0})];case 11:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Ma=function(){var e=ba((function(e,t,n,r,o){var a,i,s,l,c=o.exportBackground,u=o.exportPadding,d=void 0===u?10:u,p=o.viewBackgroundColor,h=o.name,f=o.scale,m=void 0===f?1:f,g=o.shouldAddWatermark;return fa(this,(function(o){switch(o.label){case 0:return 0===t.length?[2,window.alert(xt("alerts.cannotExportEmptyCanvas"))]:"svg"!==e&&"clipboard-svg"!==e?[3,3]:(a=function(e,t){var n=t.exportBackground,r=t.exportPadding,o=void 0===r?10:r,a=t.viewBackgroundColor,i=t.shouldAddWatermark,s=e;if(i){var l=Xe(e),c=l[2],u=l[3];s=mo(s,[yo(c,u)])}var d=Xe(s),p=d[0],h=d[1],f=d[2],m=d[3],g=Zt(p,f)+2*o,y=Zt(h,m)+o+(i?0:o),v=document.createElementNS(Bt,"svg");if(v.setAttribute("version","1.1"),v.setAttribute("xmlns",Bt),v.setAttribute("viewBox","0 0 ".concat(g," ").concat(y)),v.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e",'\n  <defs>\n    <style>\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/FG_Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    </style>\n  </defs>\n  '),n&&a){var b=v.ownerDocument.createElementNS(Bt,"rect");b.setAttribute("x","0"),b.setAttribute("y","0"),b.setAttribute("width","".concat(g)),b.setAttribute("height","".concat(y)),b.setAttribute("fill",a),v.appendChild(b)}var k=ge(v);return fo(s,k,v,{offsetX:-p+o,offsetY:-h+o}),v}(t,{exportBackground:c,viewBackgroundColor:p,exportPadding:d,shouldAddWatermark:g}),"svg"!==e?[3,2]:[4,Ao(new Blob([a.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(h,".svg")})]);case 1:return o.sent(),[2];case 2:if("clipboard-svg"===e)return Ko(a),[2];o.label=3;case 3:if((i=go(t,n,{exportBackground:c,viewBackgroundColor:p,exportPadding:d,scale:m,shouldAddWatermark:g})).style.display="none",document.body.appendChild(i),"png"===e)s="".concat(h,".png"),i.toBlob(function(){var e=ba((function(e){return fa(this,(function(t){switch(t.label){case 0:return e?[4,Ao(e,{fileName:s})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());else if("clipboard"===e)try{qo(i)}catch(e){window.alert(xt("alerts.couldNotCopyToClipboard"))}else"backend"===e&&(l=$r(),c&&(l.viewBackgroundColor=p),Aa(t,l));return i!==r&&i.remove(),[2]}}))}));return function(t,n,r,o,a){return e.apply(this,arguments)}}(),za=function(){var e=ba((function(e,t,n){var r;return fa(this,(function(o){switch(o.label){case 0:return null==e?[3,2]:[4,Oa(e,n)];case 1:return r=o.sent(),window.history.replaceState({},"Excalidraw",window.location.origin),[3,3];case 2:r=ta(t,$r()),o.label=3;case 3:return[2,{elements:r.elements,appState:r.appState&&ga({},r.appState),commitToHistory:!1}]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),_a=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function Ia(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Da(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ia(a,r,o,i,s,"next",e)}function s(e){Ia(a,r,o,i,s,"throw",e)}i(void 0)}))}}var La=function(){function e(e){this.socket=null,this.socketInitialized=!1,this.roomID=null,this.roomKey=null,this.app=e}return e.prototype.open=function(e,t,n){var r=this;this.socket=e,this.roomID=t,this.roomKey=n,this.socket.on("init-room",(function(){r.socket&&r.socket.emit("join-room",r.roomID)})),this.socket.on("new-user",function(){var e=Da((function(e){return _a(this,(function(e){return r.app.broadcastScene(le.INIT,!0),[2]}))}));return function(t){return e.apply(this,arguments)}}()),this.socket.on("room-user-change",(function(e){r.app.setCollaborators(e)}))},e.prototype.close=function(){this.socket&&(this.socket.close(),this.socket=null,this.roomID=null,this.roomKey=null)},e.prototype.isOpen=function(){return!!(this.socketInitialized&&this.socket&&this.roomID&&this.roomKey)},e.prototype._broadcastSocketData=function(e,t){void 0===t&&(t=!1);var n=this;return Da((function(){var r,o,a;return _a(this,(function(i){switch(i.label){case 0:return n.isOpen()?(r=JSON.stringify(e),o=(new TextEncoder).encode(r),[4,Pa(o,n.roomKey)]):[3,2];case 1:a=i.sent(),n.socket.emit(t?Me:ze,n.roomID,a.data,a.iv),i.label=2;case 2:return[2]}}))}))()},e}(),ja=[{icon:o.a.createElement("svg",{viewBox:"0 0 320 512",className:""},o.a.createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:"s"},{icon:o.a.createElement("svg",{viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:o.a.createElement("svg",{viewBox:"0 0 223.646 223.646"},o.a.createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:o.a.createElement("svg",{viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:o.a.createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},o.a.createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:o.a.createElement("svg",{viewBox:"0 0 6 6"},o.a.createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:Jr.black,strokeLinecap:"round"})),value:"line",key:"l"},{icon:o.a.createElement("svg",{viewBox:"0 0 512 512"},o.a.createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},{icon:o.a.createElement("svg",{viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Na=ja.map((function(e,t){return[e.key,(t+1).toString()]})).flat(1);function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ha,Wa=function(e){return{selectedElementIds:e.selectedElementIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},Ga=function(){function e(){var e=this;this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(t,n){return e.dehydrateHistoryEntry({appState:Wa(t),elements:n.reduce((function(e,n){if(be(n)&&t.multiElement&&t.multiElement.id===n.id){if(t.multiElement&&t.multiElement.id===n.id&&n.points.length<2)return e;e.push(Ba(Ba({},n),{},{points:n.lastCommittedPoint!==n.points[n.points.length-1]?n.points.slice(0,-1):n.points}))}else e.push(n);return e}),[])})}}return e.prototype.hydrateHistoryEntry=function(e){var t=e.appState,n=e.elements,r=this;return{appState:JSON.parse(t),elements:n.map((function(e){var t,n=null===(t=r.elementCache.get(e.id))||void 0===t?void 0:t.get(e.versionNonce);if(!n)throw new Error("Element not found: ".concat(e.id,":").concat(e.versionNonce));return n}))}},e.prototype.dehydrateHistoryEntry=function(e){var t=e.appState,n=e.elements,r=this;return{appState:JSON.stringify(t),elements:n.map((function(e){r.elementCache.has(e.id)||r.elementCache.set(e.id,new Map);var t=r.elementCache.get(e.id);return t.has(e.versionNonce)||t.set(e.versionNonce,Kn(e)),{id:e.id,versionNonce:e.versionNonce}}))}},e.prototype.getSnapshotForTest=function(){var e=this;return{recording:this.recording,stateHistory:this.stateHistory.map((function(t){return e.hydrateHistoryEntry(t)})),redoStack:this.redoStack.map((function(t){return e.hydrateHistoryEntry(t)}))}},e.prototype.clear=function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()},e.prototype.shouldCreateEntry=function(e){var t,n=this.lastEntry;if(!n)return!0;if(e.elements.length!==n.elements.length)return!0;for(var r=e.elements.length-1;r>-1;r--){var o=e.elements[r],a=n.elements[r];if(!o||!a||o.id!==a.id||o.versionNonce!==a.versionNonce)return!0}for(t in e.appState){var i,s;if("editingLinearElement"===t)if((null===(i=e.appState[t])||void 0===i?void 0:i.elementId)===(null===(s=n.appState[t])||void 0===s?void 0:s.elementId))continue;if("selectedElementIds"!==t&&e.appState[t]!==n.appState[t])return!0}return!1},e.prototype.pushEntry=function(e,t){var n=this.generateEntry(e,t),r=this.hydrateHistoryEntry(n);if(r){if(!this.shouldCreateEntry(r))return;this.stateHistory.push(n),this.lastEntry=r,this.clearRedoStack()}},e.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},e.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.hydrateHistoryEntry(e)):null},e.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.hydrateHistoryEntry(t)):null},e.prototype.setCurrentState=function(e,t){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(e,t))},e.prototype.resumeRecording=function(){this.recording=!0},e.prototype.record=function(e,t){this.recording&&(this.pushEntry(e,t),this.recording=!1)},e}(),Ua=(n(54),n(2)),Va=function(e){var t=e.children,n=e.left,a=e.top,i=e.onCloseRequest,s=e.fitInViewport,l=void 0!==s&&s,c=Object(r.useRef)(null);return Object(r.useLayoutEffect)((function(){if(l&&c.current){var e=c.current,t=e.getBoundingClientRect(),n=t.x,r=t.y,o=t.width,a=t.height,i=window.innerWidth;n+o>i&&(e.style.left="".concat(i-o,"px"));var s=window.innerHeight;r+a>s&&(e.style.top="".concat(s-a,"px"))}}),[l]),Object(r.useEffect)((function(){if(i){var e=function(e){var t;(null===(t=c.current)||void 0===t?void 0:t.contains(e.target))||Object(Ua.unstable_batchedUpdates)((function(){return i(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[i]),o.a.createElement("div",{className:"popover",style:{top:a,left:n},ref:c},t)},qa=(n(55),function(e){var t=e.options,n=e.onCloseRequest,r=e.top,a=e.left;return o.a.createElement(Va,{onCloseRequest:n,top:r,left:a,fitInViewport:!0},o.a.createElement("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()}},t.map((function(e,t){return o.a.createElement("li",{key:t,onClick:n},o.a.createElement(Ka,e))}))))}),Ka=function(e){var t=e.label,n=e.action;return o.a.createElement("button",{className:"context-menu-option",onClick:n},t)},Ya=function(){if(Ha)return Ha;var e=document.createElement("div");return document.body.appendChild(e),Ha=e},Za=function(){Object(Ua.unmountComponentAtNode)(Ya())},Xa=function(e){var t=Array.of();e.options.forEach((function(e){e&&t.push(e)})),t.length&&Object(Ua.render)(o.a.createElement(qa,{top:e.top,left:e.left,options:t,onCloseRequest:Za}),Ya())},Ja=function(){function e(e,t,n){var r=this;this.actions={},this.renderAction=function(e,t){if(r.actions[e]&&"PanelComponent"in r.actions[e]){var n=r.actions[e],a=n.PanelComponent;return o.a.createElement(a,{elements:r.getElementsIncludingDeleted(),appState:r.getAppState(),updateData:function(e){r.updater(n.perform(r.getElementsIncludingDeleted(),r.getAppState(),e))},id:t})}return null},this.updater=e,this.getAppState=t,this.getElementsIncludingDeleted=n}return e.prototype.registerAction=function(e){this.actions[e.name]=e},e.prototype.registerAll=function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))},e.prototype.handleKeyDown=function(e){var t=this,n=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(n){return n.keyTest&&n.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted())}));return 0!==n.length&&(e.preventDefault(),this.updater(n[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null)),!0)},e.prototype.executeAction=function(e){this.updater(e.perform(this.getElementsIncludingDeleted(),this.getAppState(),null))},e.prototype.getContextMenuItems=function(e){void 0===e&&(e=function(e){return e});var t=this;return Object.values(this.actions).filter(e).filter((function(e){return"contextItemLabel"in e})).sort((function(e,t){return(void 0!==e.contextMenuOrder?e.contextMenuOrder:999)-(void 0!==t.contextMenuOrder?t.contextMenuOrder:999)})).map((function(e){return{label:e.contextItemLabel?xt(e.contextItemLabel):"",action:function(){t.updater(e.perform(t.getElementsIncludingDeleted(),t.getAppState(),null))}}}))},e}(),$a=(n(13),o.a.forwardRef((function(e,t){var n=o.a.useRef(null);o.a.useImperativeHandle(t,(function(){return n.current}));var r="ToolIcon_size_".concat(e.size||"m");return"button"===e.type?o.a.createElement("button",{className:"ToolIcon_type_button ".concat(e.hidden?"":"ToolIcon"," ").concat(r).concat(e.selected?" ToolIcon--selected":""," ").concat(e.className," ").concat(e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide"),hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:"button",onClick:e.onClick,ref:n},o.a.createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},e.icon||e.label),e.showAriaLabel&&o.a.createElement("div",{className:"ToolIcon__label"},e["aria-label"]),e.children):o.a.createElement("label",{className:"ToolIcon",title:e.title},o.a.createElement("input",{className:"ToolIcon_type_radio ".concat(r),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:e.id,onChange:e.onChange,checked:e.checked,ref:n}),o.a.createElement("div",{className:"ToolIcon__icon"},e.icon,e.keyBindingLabel&&o.a.createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)))})));$a.defaultProps={visible:!0,className:""};var Qa=Jr.orange[4],ei=function(e,t){void 0===t&&(t=512);var n="number"==typeof t?{width:t}:t,r=n.width,a=void 0===r?512:r,i=n.height,s=void 0===i?a:i,l=n.mirror,c=n.style;return o.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(a," ").concat(s),className:l&&"rtl-mirror",style:c},"string"==typeof e?o.a.createElement("path",{fill:"currentColor",d:e}):e)},ti=ei("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),ni=ei("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),ri=ei("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),oi=ei("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),ai=ei("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ii=ei("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),si=ei("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),li=ei("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),ci=ei("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),ui=ei("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),di=ei("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",{mirror:!0}),pi=ei("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),hi=ei("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),fi=ei("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),mi=ei(o.a.createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),gi=ei(o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",stroke:Jr.black,strokeWidth:"2"}),o.a.createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Qa,stroke:Qa,strokeWidth:"2"})),{width:24}),yi=ei(o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Qa,stroke:Qa,strokeWidth:"2"}),o.a.createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",stroke:Jr.black,strokeWidth:"2"})),{width:24}),vi=ei(o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",stroke:Jr.black,strokeWidth:"2"}),o.a.createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Qa,stroke:Qa,strokeWidth:"2"})),{width:24}),bi=ei(o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Qa,stroke:Qa,strokeLinejoin:"round",strokeWidth:"2"}),o.a.createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",stroke:Jr.black,strokeLinejoin:"round",strokeWidth:"2"})),{width:24}),ki=ei("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),wi=ei("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),Ei=ei("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),Si=ei("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512}),Ci=ei("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),xi=ei("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),Pi=ei("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Ti=[],Ai=function(e){return Ti=Ti.concat(e),e};function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _i(e,t){var n;if(e.editingGroupId){var r=Fn(Zr(t),e.editingGroupId);if(r.length)return Mi(Mi({},e),{},{selectedElementIds:(n={},n[r[0].id]=!0,n)})}return e}var Ii=Ai({name:"deleteSelectedElements",perform:function(e,t){var n,r;if(null!=(null===(n=t.editingLinearElement)||void 0===n?void 0:n.activePointIndex)&&(null===(r=t.editingLinearElement)||void 0===r?void 0:r.activePointIndex)>-1){var o=t.editingLinearElement.elementId,a=lo.getElement(o);if(a){if(a.points.length<2){var i=e.filter((function(e){return e.id!==a.id}));return{elements:i,appState:Mi(Mi({},_i(t,i)),{},{editingLinearElement:null}),commitToHistory:!1}}return lo.movePoint(a,t.editingLinearElement.activePointIndex,"delete"),{elements:e,appState:Mi(Mi({},t),{},{editingLinearElement:Mi(Mi({},t.editingLinearElement),{},{activePointIndex:t.editingLinearElement.activePointIndex>0?t.editingLinearElement.activePointIndex-1:0})}),commitToHistory:!0}}}var s=function(e,t){return{elements:e.map((function(e){return t.selectedElementIds[e.id]?Pn(e,{isDeleted:!0}):e})),appState:Mi(Mi({},t),{},{selectedElementIds:{}})}}(e,t),l=s.elements,c=s.appState;return{elements:l,appState:Mi(Mi({},c=_i(c,l)),{},{elementType:"selection",multiElement:null}),commitToHistory:At(Zr(e),t)}},contextItemLabel:"labels.delete",contextMenuOrder:3,keyTest:function(e){return e.key===wr||e.key===kr},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement($a,{type:"button",icon:ii,title:xt("labels.delete"),"aria-label":xt("labels.delete"),onClick:function(){return r(null)},visible:At(Zr(t),n)})}}),Di=function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r},Li=function(e,t){t.sort((function(e,t){return e-t}));var n=!0;return t.forEach((function(t,r){(n=n&&t===r)||Di(e,t-1,t)})),e},ji=function(e,t){var n=t.sort((function(e,t){return t-e})),r=!0;return n.forEach((function(t,n){(r=r&&t===e.length-n-1)||Di(e,t+1,t)})),e},Ni=function(e,t){t.sort((function(e,t){return e-t}));var n=t.map((function(t){return e[t]})),r=t.reverse().concat([0]);return r.forEach((function(t,n){if(0!==n)for(var o=r[n-1]-1;o>=t;--o)e[o+n]=e[o]})),n.forEach((function(t,n){e[n]=t})),e},Fi=function(e,t){var n=t.sort((function(e,t){return t-e})),r=n.map((function(t){return e[t]}));return(t=n.reverse().concat([e.length])).forEach((function(n,r){if(0!==r)for(var o=t[r-1]+1;o<n;++o)e[o-r]=e[o]})),r.forEach((function(t,n){e[e.length-n-1]=t})),e},Bi=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r},Ri=function(e,t,n){var r=t.slice();return e(r,function(e,t,n){var r=[],o=[],a=function(e,t){e.isDeleted?o.push(t):(n.selectedElementIds[e.id]&&r.push.apply(r,Bi(o,[t])),o=[])};if("left"===e)for(var i=-1,s=t.length;++i<s;)a(t[i],i);else for(i=t.length;--i>-1;)a(t[i],i);return r.sort()}(e===Li||e===Ni?"left":"right",r,n))};Ai({name:"sendBackward",perform:function(e,t){return{elements:Ri(Li,e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[Er]&&!e.shiftKey&&"BracketLeft"===e.code},PanelComponent:function(e){var t=e.updateData;return o.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(xt("labels.sendBackward"),"  ").concat(Qt("CtrlOrCmd+["))},yi)}}),Ai({name:"bringForward",perform:function(e,t){return{elements:Ri(ji,e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[Er]&&!e.shiftKey&&"BracketRight"===e.code},PanelComponent:function(e){var t=e.updateData;return o.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(xt("labels.bringForward"),"  ").concat(Qt("CtrlOrCmd+]"))},gi)}}),Ai({name:"sendToBack",perform:function(e,t){return{elements:Ri(Ni,e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return hr?e[Er]&&e.altKey&&"BracketLeft"===e.code:e[Er]&&e.shiftKey&&"BracketLeft"===e.code},PanelComponent:function(e){var t=e.updateData;return o.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(xt("labels.sendToBack"),"  ").concat(Qt(hr?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},bi)}}),Ai({name:"bringToFront",perform:function(e,t){return{elements:Ri(Fi,e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return hr?e[Er]&&e.altKey&&"BracketRight"===e.code:e[Er]&&e.shiftKey&&"BracketRight"===e.code},PanelComponent:function(e){var t=e.updateData;return o.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat(xt("labels.bringToFront"),"  ").concat(Qt(hr?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},vi)}});function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){Gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ai({name:"selectAll",perform:function(e,t){return{appState:jn(Wi(Wi({},t),{},{editingGroupId:null,selectedElementIds:e.reduce((function(e,t){return t.isDeleted||(e[t.id]=!0),e}),{})}),Zr(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[Er]&&"a"===e.key}}),Ai({name:"duplicateSelection",perform:function(e,t){var n=new Map;return{appState:t,elements:e.reduce((function(e,r){if(t.selectedElementIds[r.id]){var o=Yn(t.editingGroupId,n,r,{x:r.x+10,y:r.y+10});return t.selectedElementIds[o.id]=!0,delete t.selectedElementIds[r.id],e.concat([r,o])}return e.concat(r)}),[]),commitToHistory:!0}},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[Er]&&"d"===e.key},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement($a,{type:"button",icon:xi,title:"".concat(xt("labels.duplicateSelection"),"  ").concat(Qt("CtrlOrCmd+D")),"aria-label":xt("labels.duplicateSelection"),onClick:function(){return r(null)},visible:At(Zr(t),n)})}});var Ui=function(e){var t=e.options,n=e.value,r=e.onChange,a=e.group;return o.a.createElement("div",{className:"buttonList"},t.map((function(e){return o.a.createElement("label",{key:e.text,className:n===e.value?"active":""},o.a.createElement("input",{type:"radio",name:a,onChange:function(){return r(e.value)},checked:n===e.value}),e.text)})))},Vi=(n(56),function(e){var t=(new Option).style;return t.color=e,!!t.color}),qi=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Ki=function(e){var t=e.colors,n=e.color,r=e.onChange,a=e.onClose,i=e.label,s=e.showInput,l=void 0===s||s,c=o.a.useRef(),u=o.a.useRef(),d=o.a.useRef(),p=o.a.useRef();o.a.useEffect((function(){u.current?u.current.focus():p.current&&p.current.focus()}),[]);return o.a.createElement("div",{className:"color-picker",role:"dialog","aria-modal":"true","aria-label":xt("labels.colorPicker"),onKeyDown:function(e){if(e.key===Sr){var t,n,r=document.activeElement;if(e.shiftKey){if(r===c.current)null===(t=p.current)||void 0===t||t.focus(),e.preventDefault()}else if(r===p.current)null===(n=c.current)||void 0===n||n.focus(),e.preventDefault()}else if(e.key===mr||e.key===fr||e.key===yr||e.key===gr){r=document.activeElement;var o=St().rtl;if(-1!==(u=Array.prototype.indexOf.call(d.current.children,r))){var i=d.current.children.length-(l?1:0),s=e.key===(o?fr:mr)?(u+1)%i:e.key===(o?mr:fr)?(i+u-1)%i:e.key===gr?(u+5)%i:e.key===yr?(i+u-5)%i:u;d.current.children[s].focus()}e.preventDefault()}else if(qi.includes(e.key.toLowerCase())&&!Gt(e.target)){var u=qi.indexOf(e.key.toLowerCase());d.current.children[u].focus(),e.preventDefault()}else e.key!==br&&e.key!==vr||(e.preventDefault(),a());e.nativeEvent.stopImmediatePropagation()}},o.a.createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),o.a.createElement("div",{className:"color-picker-triangle"}),o.a.createElement("div",{className:"color-picker-content",ref:function(e){e&&(d.current=e)}},t.map((function(e,t){return o.a.createElement("button",{className:"color-picker-swatch",onClick:function(t){t.currentTarget.focus(),r(e)},title:"".concat(e,"  ").concat(qi[t].toUpperCase()),"aria-label":e,"aria-keyshortcuts":qi[t],style:{color:e},key:e,ref:function(r){r&&0===t&&(c.current=r),r&&e===n&&(u.current=r)},onFocus:function(){r(e)}},"transparent"===e?o.a.createElement("div",{className:"color-picker-transparent"}):void 0,o.a.createElement("span",{className:"color-picker-keybinding"},qi[t]))})),l&&o.a.createElement(Yi,{color:n,label:i,onChange:function(e){r(e)},ref:p})))},Yi=o.a.forwardRef((function(e,t){var n=e.color,r=e.onChange,a=e.label,i=o.a.useState(n),s=i[0],l=i[1],c=o.a.useRef(null);o.a.useEffect((function(){l(n)}),[n]),o.a.useImperativeHandle(t,(function(){return c.current}));var u=o.a.useCallback((function(e){var t=e.toLowerCase(),n=function(e){return"transparent"===e||Vi(e)?e:Vi("#".concat(e))?"#".concat(e):null}(t);n&&r(n),l(t)}),[r]);return o.a.createElement("label",{className:"color-input-container"},o.a.createElement("div",{className:"color-picker-hash"},"#"),o.a.createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":a,onChange:function(e){return u(e.target.value)},value:(s||"").replace(/^#/,""),onBlur:function(){return l(n)},ref:c}))})),Zi=function(e){var t=e.type,n=e.color,r=e.onChange,a=e.label,i=o.a.useState(!1),s=i[0],l=i[1],c=o.a.useRef(null);return o.a.createElement("div",null,o.a.createElement("div",{className:"color-picker-control-container"},o.a.createElement("button",{className:"color-picker-label-swatch","aria-label":a,style:n?{"--swatch-color":n}:void 0,onClick:function(){return l(!s)},ref:c}),o.a.createElement(Yi,{color:n,label:a,onChange:function(e){r(e)}})),o.a.createElement(o.a.Suspense,{fallback:""},s?o.a.createElement(Va,{onCloseRequest:function(e){return e.target!==c.current&&l(!1)}},o.a.createElement(Ki,{colors:no[t],color:n||null,onChange:function(e){r(e)},onClose:function(){var e;l(!1),null===(e=c.current)||void 0===e||e.focus()},label:a,showInput:!1})):null))};function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qi=function(e,t,n){return e.map((function(e){var r;return t.selectedElementIds[e.id]||e.id===(null===(r=t.editingElement)||void 0===r?void 0:r.id)?n(e):e}))},es=function(e,t,n,r){var o,a,i=t.editingElement,s=Zr(e);return null!==(o=null!==(a=i&&n(i))&&void 0!==a?a:At(s,t)?function(e,t,n){var r=Array.from(new Set(Ot(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null}(s,t,n):r)&&void 0!==o?o:null},ts=(Ai({name:"changeStrokeColor",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){return Pn(e,{strokeColor:n})})),appState:Ji(Ji({},t),{},{currentItemStrokeColor:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{"aria-hidden":"true"},xt("labels.stroke")),o.a.createElement(Zi,{type:"elementStroke",label:xt("labels.stroke"),color:es(t,n,(function(e){return e.strokeColor}),n.currentItemStrokeColor),onChange:r}))}}),Ai({name:"changeBackgroundColor",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){return Pn(e,{backgroundColor:n})})),appState:Ji(Ji({},t),{},{currentItemBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{"aria-hidden":"true"},xt("labels.background")),o.a.createElement(Zi,{type:"elementBackground",label:xt("labels.background"),color:es(t,n,(function(e){return e.backgroundColor}),n.currentItemBackgroundColor),onChange:r}))}}),Ai({name:"changeFillStyle",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){return Pn(e,{fillStyle:n})})),appState:Ji(Ji({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.fill")),o.a.createElement(Ui,{options:[{value:"hachure",text:xt("labels.hachure")},{value:"cross-hatch",text:xt("labels.crossHatch")},{value:"solid",text:xt("labels.solid")}],group:"fill",value:es(t,n,(function(e){return e.fillStyle}),n.currentItemFillStyle),onChange:function(e){r(e)}}))}}),Ai({name:"changeStrokeWidth",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){return Pn(e,{strokeWidth:n})})),appState:Ji(Ji({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.strokeWidth")),o.a.createElement(Ui,{group:"stroke-width",options:[{value:1,text:xt("labels.thin")},{value:2,text:xt("labels.bold")},{value:4,text:xt("labels.extraBold")}],value:es(t,n,(function(e){return e.strokeWidth}),n.currentItemStrokeWidth),onChange:function(e){return r(e)}}))}}),Ai({name:"changeSloppiness",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){return Pn(e,{roughness:n})})),appState:Ji(Ji({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.sloppiness")),o.a.createElement(Ui,{group:"sloppiness",options:[{value:0,text:xt("labels.architect")},{value:1,text:xt("labels.artist")},{value:2,text:xt("labels.cartoonist")}],value:es(t,n,(function(e){return e.roughness}),n.currentItemRoughness),onChange:function(e){return r(e)}}))}}),Ai({name:"changeStrokeStyle",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){return Pn(e,{strokeStyle:n})})),appState:Ji(Ji({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.strokeStyle")),o.a.createElement(Ui,{group:"strokeStyle",options:[{value:"solid",text:xt("labels.strokeStyle_solid")},{value:"dashed",text:xt("labels.strokeStyle_dashed")},{value:"dotted",text:xt("labels.strokeStyle_dotted")}],value:es(t,n,(function(e){return e.strokeStyle}),n.currentItemStrokeStyle),onChange:function(e){return r(e)}}))}}),Ai({name:"changeOpacity",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){return Pn(e,{opacity:n})})),appState:Ji(Ji({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,a=e.updateData;return o.a.createElement("label",{className:"control-label"},xt("labels.opacity"),o.a.createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return a(+e.target.value)},onWheel:function(e){e.stopPropagation();var t=+e.target.value;e.deltaY<0&&t<100?a(t+10):e.deltaY>0&&t>0&&a(t-10)},value:null!==(t=es(n,r,(function(e){return e.opacity}),r.currentItemOpacity))&&void 0!==t?t:void 0}))}}),Ai({name:"changeFontSize",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){if(ve(e)){var t=Pn(e,{fontSize:n});return Vr(t),t}return e})),appState:Ji(Ji({},t),{},{currentItemFontSize:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.fontSize")),o.a.createElement(Ui,{group:"font-size",options:[{value:16,text:xt("labels.small")},{value:20,text:xt("labels.medium")},{value:28,text:xt("labels.large")},{value:36,text:xt("labels.veryLarge")}],value:es(t,n,(function(e){return ve(e)&&e.fontSize}),n.currentItemFontSize||20),onChange:function(e){return r(e)}}))}}),Ai({name:"changeFontFamily",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){if(ve(e)){var t=Pn(e,{fontFamily:n});return Vr(t),t}return e})),appState:Ji(Ji({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=[{value:1,text:xt("labels.handDrawn")},{value:2,text:xt("labels.normal")},{value:3,text:xt("labels.code")}];return o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.fontFamily")),o.a.createElement(Ui,{group:"font-family",options:a,value:es(t,n,(function(e){return ve(e)&&e.fontFamily}),n.currentItemFontFamily||1),onChange:function(e){return r(e)}}))}}),Ai({name:"changeTextAlign",perform:function(e,t,n){return{elements:Qi(e,t,(function(e){if(ve(e)){var t=Pn(e,{textAlign:n});return Vr(t),t}return e})),appState:Ji(Ji({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.textAlign")),o.a.createElement(Ui,{group:"text-align",options:[{value:"left",text:xt("labels.left")},{value:"center",text:xt("labels.center")},{value:"right",text:xt("labels.right")}],value:es(t,n,(function(e){return ve(e)&&e.textAlign}),n.currentItemTextAlign),onChange:function(e){return r(e)}}))}}),o.a.createContext(!1));function ns(){return Object(r.useContext)(ts)}function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){as(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function as(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ai({name:"changeViewBackgroundColor",perform:function(e,t,n){return{appState:os(os({},t),{},{viewBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(Zi,{label:xt("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(e){return n(e)}}))}}),Ai({name:"clearCanvas",perform:function(e,t){return{elements:e.map((function(e){return Pn(e,{isDeleted:!0})})),appState:os(os({},$r()),{},{username:t.username}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:ii,title:xt("buttons.clearReset"),"aria-label":xt("buttons.clearReset"),showAriaLabel:ns(),onClick:function(){window.confirm(xt("alerts.clearReset"))&&(window.handle=null,t(null))}})}});var is="Minus",ss="Equal",ls="Digit1",cs="Digit0",us="NumpadSubtract",ds="NumpadAdd",ps="Numpad0";Ai({name:"zoomIn",perform:function(e,t){return{appState:os(os({},t),{},{zoom:Nt(t.zoom+.1)}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:ci,title:"".concat(xt("buttons.zoomIn"),"  ").concat(Qt("CtrlOrCmd++")),"aria-label":xt("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===ss||e.code===ds)&&(e[Er]||e.shiftKey)}}),Ai({name:"zoomOut",perform:function(e,t){return{appState:os(os({},t),{},{zoom:Nt(t.zoom-.1)}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:ui,title:"".concat(xt("buttons.zoomOut"),"  ").concat(Qt("CtrlOrCmd+-")),"aria-label":xt("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===is||e.code===us)&&(e[Er]||e.shiftKey)}}),Ai({name:"resetZoom",perform:function(e,t){return{appState:os(os({},t),{},{zoom:1}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:mi,title:xt("buttons.resetZoom"),"aria-label":xt("buttons.resetZoom"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===cs||e.code===ps)&&(e[Er]||e.shiftKey)}}),Ai({name:"zoomToFit",perform:function(e,t){var n=e.filter((function(e){return!e.isDeleted})),r=Xe(n),o=r[0],a=r[1],i=(o+r[2])/2,s=(a+r[3])/2,l=Mt(window.innerWidth/2-i),c=Mt(window.innerHeight/2-s),u=function(e,t,n){var r,o=n.scrollX,a=n.scrollY,i=window.innerWidth,s=window.innerHeight,l=-i/(2*o+2*e[0]-i),c=-s/(2*a+2*e[1]-s);return(r=l<c?l-.01:c<=l?c-.01:t)<=.1?.1:r>=1?1:r}(r,t.zoom,{scrollX:l,scrollY:c});return{appState:os(os({},t),{},{scrollX:l,scrollY:c,zoom:u}),commitToHistory:!1}},keyTest:function(e){return e.code===ls&&e.shiftKey&&!e.altKey&&!e[Er]}});function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gs=Ai({name:"finalize",perform:function(e,t){var n,r;if(t.editingLinearElement){var o=t.editingLinearElement.elementId,a=lo.getElement(o);if(a)return{elements:a.points.length<2||Tn(a)?e.filter((function(e){return e.id!==a.id})):void 0,appState:fs(fs({},t),{},{editingLinearElement:null}),commitToHistory:!0}}var i=e;window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();var s=t.multiElement?t.multiElement:"draw"===(null===(r=t.editingElement)||void 0===r?void 0:r.type)?t.editingElement:null;if(s){if("draw"!==s.type&&"touch"!==t.lastPointerDownWith){var l=s.points,c=s.lastCommittedPoint;c&&l[l.length-1]===c||xn(s,{points:s.points.slice(0,-1)})}if(Tn(s)&&(i=i.slice(0,-1)),("line"===s.type||"draw"===s.type)&&Be(s.points)){var u=s.points,d=u[0];xn(s,{points:u.map((function(e,t){return t===u.length-1?[d[0],d[1]]:e}))})}t.elementLocked||(t.selectedElementIds[s.id]=!0)}return t.elementLocked&&s||Xt(),{elements:i,appState:fs(fs({},t),{},{elementType:t.elementLocked&&s?t.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,selectedElementIds:s&&!t.elementLocked?fs(fs({},t.selectedElementIds),{},(n={},n[s.id]=!0,n)):t.selectedElementIds}),commitToHistory:"draw"===t.elementType}},keyTest:function(e,t){return e.key===br&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||(e.key===br||e.key===vr)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData;return o.a.createElement($a,{type:"button",icon:di,title:xt("buttons.done"),"aria-label":xt("buttons.done"),onClick:n,visible:null!=t.multiElement})}}),ys=(n(57),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),vs=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,o,a=this;return a=e.apply(this,t)||this,r=o=a,a.handleFocus=function(e){Kt(e.currentTarget)},a.handleBlur=function(e){var t=e.currentTarget.innerText.trim();t!==o.props.value&&o.props.onChange(t),Yt()},a.handleKeyDown=function(e){if("Enter"===e.key){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},a.makeEditable=function(e){if(e)try{e.contentEditable="plaintext-only"}catch(t){e.contentEditable="true"}},r}return ys(t,e),t.prototype.render=function(){return o.a.createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},t}(r.Component);function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ai({name:"changeProjectName",perform:function(e,t,n){return{appState:ks(ks({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return o.a.createElement(vs,{label:xt("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(e){return n(e)}})}}),Ai({name:"changeExportBackground",perform:function(e,t,n){return{appState:ks(ks({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:t.exportBackground,onChange:function(e){return n(e.target.checked)}})," ",xt("labels.withBackground"))}}),Ai({name:"changeShouldAddWatermark",perform:function(e,t,n){return{appState:ks(ks({},t),{},{shouldAddWatermark:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:t.shouldAddWatermark,onChange:function(e){return n(e.target.checked)}})," ",xt("labels.addWatermark"))}}),Ai({name:"saveScene",perform:function(e,t,n){return pa(e,t,window.handle).catch((function(e){return console.error(e)})),{commitToHistory:!1}},keyTest:function(e){return"s"===e.key&&e[Er]&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:ni,title:xt("buttons.save"),"aria-label":xt("buttons.save"),showAriaLabel:ns(),onClick:function(){return t(null)}})}}),Ai({name:"saveAsScene",perform:function(e,t,n){return pa(e,t,null).catch((function(e){return console.error(e)})),{commitToHistory:!1}},keyTest:function(e){return"s"===e.key&&e.shiftKey&&e[Er]},PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:ri,title:xt("buttons.saveAs"),"aria-label":xt("buttons.saveAs"),showAriaLabel:ns(),hidden:!("chooseFileSystemEntries"in window),onClick:function(){return t(null)}})}}),Ai({name:"loadScene",perform:function(e,t,n){var r=n.elements,o=n.appState,a=n.error;return{elements:r,appState:ks(ks({},o),{},{errorMessage:a}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:oi,title:xt("buttons.load"),"aria-label":xt("buttons.load"),showAriaLabel:ns(),onClick:function(){ha().then((function(e){var n=e.elements,r=e.appState;t({elements:n,appState:r})})).catch((function(e){"AbortError"!==e.name&&t({error:e.message})}))}})}});var Es="{}",Ss=(Ai({name:"copyStyles",perform:function(e,t){var n=e.find((function(e){return t.selectedElementIds[e.id]}));return n&&(Es=JSON.stringify(n)),{commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[Er]&&e.shiftKey&&"C"===e.key},contextMenuOrder:0}),Ai({name:"pasteStyles",perform:function(e,t){var n,r=JSON.parse(Es);return"text"!==(null==(n=r)?void 0:n.type)&&"diamond"!==(null==n?void 0:n.type)&&"rectangle"!==(null==n?void 0:n.type)&&"ellipse"!==(null==n?void 0:n.type)&&"arrow"!==(null==n?void 0:n.type)&&"draw"!==(null==n?void 0:n.type)&&"line"!==(null==n?void 0:n.type)?{elements:e,commitToHistory:!1}:{elements:e.map((function(e){if(t.selectedElementIds[e.id]){var n=Pn(e,{backgroundColor:null==r?void 0:r.backgroundColor,strokeWidth:null==r?void 0:r.strokeWidth,strokeColor:null==r?void 0:r.strokeColor,strokeStyle:null==r?void 0:r.strokeStyle,fillStyle:null==r?void 0:r.fillStyle,opacity:null==r?void 0:r.opacity,roughness:null==r?void 0:r.roughness});return ve(n)&&(xn(n,{fontSize:(null==r?void 0:r.fontSize)||20,fontFamily:(null==r?void 0:r.fontFamily)||1,textAlign:(null==r?void 0:r.textAlign)||"left"}),Vr(n)),n}return e})),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[Er]&&e.shiftKey&&"V"===e.key},contextMenuOrder:1}),o.a.createElement("svg",{width:"30",height:"22",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"}))),Cs=function(e){return o.a.createElement("label",{title:"".concat(e.title,"  ?"),className:"help-icon"},o.a.createElement("div",{onClick:e.onClick},Ss))};function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){Ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ai({name:"toggleCanvasMenu",perform:function(e,t){return{appState:Ps(Ps({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return o.a.createElement($a,{type:"button",icon:pi,"aria-label":xt("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),Ai({name:"toggleEditMenu",perform:function(e,t){return{appState:Ps(Ps({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return o.a.createElement($a,{visible:qr(n,Zr(t)),type:"button",icon:si,"aria-label":xt("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),Ai({name:"toggleFullScreen",perform:function(){return $t()||document.documentElement.requestFullscreen(),$t()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(e){return e.keyCode===Pr}}),Ai({name:"toggleShortcuts",perform:function(e,t){return{appState:Ps(Ps({},t),{},{showShortcutsDialog:!0}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return o.a.createElement(Cs,{title:xt("shortcutsDialog.title"),onClick:t})},keyTest:function(e){return e.key===xr}});var As=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ai({name:"group",perform:function(e,t){var n=Ot(Zr(e),t);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=Ln(t);if(1===r.length){var o=r[0],a=new Set(Fn(e,o).map((function(e){return e.id}))),i=new Set(n.map((function(e){return e.id})));if(new Set(As(Array.from(a),Array.from(i))).size===a.size)return{appState:t,elements:e,commitToHistory:!1}}var s=wn(),l=e.map((function(e){return t.selectedElementIds[e.id]?Pn(e,{groupIds:Bn(e.groupIds,s,t.editingGroupId)}):e})),c=Fn(l,s),u=c[c.length-1],d=l.lastIndexOf(u),p=l.slice(d+1),h=l.slice(0,d).filter((function(e){return!Nn(e,s)})),f=As(h,c,p);return{appState:Dn(s,Ms(Ms({},t),{},{selectedGroupIds:{}}),Zr(f)),elements:f,commitToHistory:!0}},contextMenuOrder:4,contextItemLabel:"labels.group",keyTest:function(e){return!e.shiftKey&&e[Er]&&e.keyCode===Or}}),Ai({name:"ungroup",perform:function(e,t){if(0===Ln(t).length)return{appState:t,elements:e,commitToHistory:!1};var n=e.map((function(e){var n=function(e,t){return e.filter((function(e){return!t[e]}))}(e.groupIds,t.selectedGroupIds);return n.length===e.groupIds.length?e:Pn(e,{groupIds:n})}));return{appState:jn(Ms(Ms({},t),{},{selectedGroupIds:{}}),Zr(n)),elements:n,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[Er]&&e.keyCode===Or},contextMenuOrder:5,contextItemLabel:"labels.ungroup"}),n(58);var _s=function(e){var t=e.children,n=e.className,r=e.color,a=e.onClick;return o.a.createElement("div",{className:"Avatar ".concat(n),style:{background:r},onClick:a},t)};function Is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(n),!0).forEach((function(t){Ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ai({name:"goToCollaborator",perform:function(e,t,n){var r=n;return r?{appState:Ds(Ds({},t),{},{scrollX:Mt(window.innerWidth/2-r.x),scrollY:Mt(window.innerHeight/2-r.y),openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.id;if(!r)return null;var a=t.collaborators.get(r);if(!a)return null;var i=ro(r).background,s=function(e){if(!e)return"?";var t=e.trim().split(" ");if(t.length<2)return t[0].substring(0,2).toUpperCase();var n=t[0],r=t[t.length-1];return(n[0]+r[0]).toUpperCase()}(a.username);return o.a.createElement(_s,{color:i,onClick:function(){return n(a.pointer)}},s)}});var js=function(e){var t=Array.from(e.values());return{x:Mt(Fs(t,(function(e){return e.x}))/t.length),y:Mt(Fs(t,(function(e){return e.y}))/t.length)}},Ns=function(e){var t=e[0],n=e[1];return Math.hypot(t.x-n.x,t.y-n.y)},Fs=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)};function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ws=function(e,t,n){if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var r=n();if(null===r)return{commitToHistory:!1};var o=Kr(e),a=r.elements,i=Kr(a);return{elements:a.map((function(e){return Pn(o[e.id]||e,e)})).concat(e.filter((function(e){return!i.hasOwnProperty(e.id)})).map((function(e){return Pn(e,{isDeleted:!0})}))),appState:Rs(Rs({},t),r.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},Gs=function(e){return function(t){return t[Er]&&/z/i.test(t.key)&&t.shiftKey===e}};n(59);function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ks=o.a.forwardRef((function(e,t){var n=e.children,r=e.padding,a=e.className,i=e.style;return o.a.createElement("div",{className:"".concat(null!=a?a:""," Island"),style:Vs({"--padding":r},i),ref:t},n)})),Ys=(n(60),function(e){var t=e.children,n=e.gap,r=e.align,a=e.justifyContent,i=e.className;return o.a.createElement("div",{className:"Stack Stack_horizontal ".concat(i||""),style:{"--gap":n,alignItems:r,justifyContent:a}},t)}),Zs=function(e){var t=e.children,n=e.gap,r=e.align,a=e.justifyContent,i=e.className;return o.a.createElement("div",{className:"Stack Stack_vertical ".concat(i||""),style:{"--gap":n,justifyItems:r,justifyContent:a}},t)},Xs=(n(61),function(e){var t=e.children,n=e.side,r=e.className;return o.a.createElement("div",{className:"FixedSideContainer FixedSideContainer_side_".concat(n," ").concat(r)},t)}),Js=(n(62),function(e){var t=e.children,n=e.className,r=e.mobile,a="UserList";return n&&(a+=" ".concat(n)),r&&(a+=" UserList_mobile"),o.a.createElement("div",{className:a},t)}),$s={CHECKED:o.a.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),UNCHECKED:o.a.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},o.a.createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"}))},Qs=function(e){var t="ToolIcon_size_".concat(e.size||"m");return o.a.createElement("label",{className:"ToolIcon ToolIcon__lock ToolIcon_type_floating ".concat(t," zen-mode-visibility ").concat(e.zenModeEnabled&&"zen-mode-visibility--hidden"),title:"".concat(e.title,"  Q")},o.a.createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,id:e.id,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),o.a.createElement("div",{className:"ToolIcon__icon"},e.checked?$s.CHECKED:$s.UNCHECKED))},el=(n(63),n(64),function(e){var t,n=tl();return Object(Ua.createPortal)(o.a.createElement("div",{className:"Modal ".concat(null!==(t=e.className)&&void 0!==t?t:""),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===br&&(t.nativeEvent.stopImmediatePropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,tabIndex:-1},o.a.createElement("div",{className:"Modal__background",onClick:e.onCloseRequest}),o.a.createElement("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px"),maxHeight:"100%",overflowY:"scroll"}},e.children)),n)}),tl=function(){var e=Object(r.useState)((function(){var e=document.createElement("div");return document.body.appendChild(e),e}))[0];return Object(r.useEffect)((function(){return function(){document.body.removeChild(e)}}),[e]),e},nl=(n(65),function(e){var t,n=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=a();e.length>0&&(e[1]||e[0]).focus()}),[]),Object(r.useEffect)((function(){if(n.current){var e=function(e){if(e.key===Sr){var t=a(),n=document.activeElement,r=t.findIndex((function(e){return e===n}));0===r&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):r!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault())}},t=n.current;return t.addEventListener("keydown",e),function(){return t.removeEventListener("keydown",e)}}}),[]);var a=function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex]");return t?Array.from(t):[]};return o.a.createElement(el,{className:"".concat(null!==(t=e.className)&&void 0!==t?t:""," Dialog"),labelledBy:"dialog-title",maxWidth:e.maxWidth,onCloseRequest:e.onCloseRequest},o.a.createElement(Ks,{padding:4,ref:n},o.a.createElement("h2",{id:"dialog-title",className:"Dialog__title"},o.a.createElement("span",{className:"Dialog__titleContent"},e.title),o.a.createElement("button",{className:"Modal__close",onClick:e.onCloseRequest,"aria-label":xt("buttons.close")},ns()?Ci:Si)),e.children))}),rl=[1,2,3],ol=rl.includes(devicePixelRatio)?devicePixelRatio:1,al=function(e){var t=e.elements,n=e.appState,a=e.exportPadding,i=void 0===a?10:a,s=e.actionManager,l=e.onExportToPng,c=e.onExportToSvg,u=e.onExportToClipboard,d=e.onExportToBackend,p=At(t,n),h=Object(r.useState)(ol),f=h[0],m=h[1],g=Object(r.useState)(p),y=g[0],v=g[1],b=Object(r.useRef)(null),k=n.exportBackground,w=n.viewBackgroundColor,E=n.shouldAddWatermark,S=y?Ot(t,n):t;return Object(r.useEffect)((function(){v(p)}),[p]),Object(r.useEffect)((function(){var e=b.current,t=go(S,n,{exportBackground:k,viewBackgroundColor:w,exportPadding:i,scale:f,shouldAddWatermark:E});return null==e||e.appendChild(t),function(){null==e||e.removeChild(t)}}),[n,S,k,i,w,f,E]),o.a.createElement("div",{className:"ExportDialog"},o.a.createElement("div",{className:"ExportDialog__preview",ref:b}),o.a.createElement(Zs,{gap:2,align:"center"},o.a.createElement("div",{className:"ExportDialog__actions"},o.a.createElement(Ys,{gap:2},o.a.createElement($a,{type:"button",label:"PNG",title:xt("buttons.exportToPng"),"aria-label":xt("buttons.exportToPng"),onClick:function(){return l(S,f)}}),o.a.createElement($a,{type:"button",label:"SVG",title:xt("buttons.exportToSvg"),"aria-label":xt("buttons.exportToSvg"),onClick:function(){return c(S,f)}}),Wo&&o.a.createElement($a,{type:"button",icon:ai,title:xt("buttons.copyPngToClipboard"),"aria-label":xt("buttons.copyPngToClipboard"),onClick:function(){return u(S,f)}}),o.a.createElement($a,{type:"button",icon:ti,title:xt("buttons.getShareableLink"),"aria-label":xt("buttons.getShareableLink"),onClick:function(){return d(S)}})),o.a.createElement("div",{className:"ExportDialog__name"},s.renderAction("changeProjectName")),o.a.createElement(Ys,{gap:2},rl.map((function(e){return o.a.createElement($a,{key:e,size:"s",type:"radio",icon:"x".concat(e),name:"export-canvas-scale","aria-label":"Scale ".concat(e," x"),id:"export-canvas-scale",checked:e===f,onChange:function(){return m(e)}})})))),s.renderAction("changeExportBackground"),p&&o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:y,onChange:function(e){return v(e.currentTarget.checked)}})," ",xt("labels.onlySelected"))),s.renderAction("changeShouldAddWatermark")))},il=function(e){var t=e.elements,n=e.appState,a=e.exportPadding,i=void 0===a?10:a,s=e.actionManager,l=e.onExportToPng,c=e.onExportToSvg,u=e.onExportToClipboard,d=e.onExportToBackend,p=Object(r.useState)(!1),h=p[0],f=p[1],m=Object(r.useRef)(null),g=o.a.useCallback((function(){var e;f(!1),null===(e=m.current)||void 0===e||e.focus()}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement($a,{onClick:function(){return f(!0)},icon:li,type:"button","aria-label":xt("buttons.export"),showAriaLabel:ns(),title:xt("buttons.export"),ref:m}),h&&o.a.createElement(nl,{maxWidth:800,onCloseRequest:g,title:xt("buttons.export")},o.a.createElement(al,{elements:t,appState:n,exportPadding:i,actionManager:s,onExportToPng:l,onExportToSvg:c,onExportToClipboard:u,onExportToBackend:d,onCloseRequest:g})))},sl=function(e){var t=e.onChange,n=e.languages,r=void 0===n?bt:n,a=e.currentLanguage,i=void 0===a?St().lng:a,s=e.floating;return o.a.createElement(o.a.Fragment,null,o.a.createElement("select",{className:"dropdown-select dropdown-select__language".concat(s?" dropdown-select--floating":""),onChange:function(e){var n=e.target;return t(n.value)},value:i,"aria-label":xt("buttons.selectLanguage")},r.map((function(e){return o.a.createElement("option",{key:e.lng,value:e.lng},e.label)}))))},ll=(n(66),function(e){var t=function(e){var t=e.appState,n=e.elements,r=t.elementType,o=t.isResizing,a=t.isRotating,i=t.lastPointerDownWith,s=null!==t.multiElement;if("arrow"===r||"line"===r)return xt(s?"hints.linearElementMulti":"hints.linearElement");if("draw"===r)return xt("hints.freeDraw");var l=Ot(n,t);if(o&&"mouse"===i&&1===l.length){var c=l[0];return be(c)&&c.points.length>2?null:xt("hints.resize")}return a&&"mouse"===i?xt("hints.rotate"):1===l.length&&be(l[0])?t.editingLinearElement?t.editingLinearElement.activePointIndex?xt("hints.lineEditor_pointSelected"):xt("hints.lineEditor_nothingSelected"):xt("hints.lineEditor_info"):null}({appState:e.appState,elements:e.elements});return t?(t=Qt(t),o.a.createElement("div",{className:"HintViewer"},o.a.createElement("span",null,t))):null}),cl=function(e){var t=e.appState,n=e.elements,r=e.renderAction,a=e.elementType,i=function(e,t){return t.editingElement?[t.editingElement]:Ot(e,t)}(Zr(n),t),s=Boolean(t.editingElement),l=ns();return o.a.createElement("div",{className:"panelColumn"},r("changeStrokeColor"),(_t(a)||i.some((function(e){return _t(e.type)})))&&o.a.createElement(o.a.Fragment,null,r("changeBackgroundColor"),r("changeFillStyle")),(It(a)||i.some((function(e){return It(e.type)})))&&o.a.createElement(o.a.Fragment,null,r("changeStrokeWidth"),r("changeStrokeStyle"),r("changeSloppiness")),(Dt(a)||i.some((function(e){return Dt(e.type)})))&&o.a.createElement(o.a.Fragment,null,r("changeFontSize"),r("changeFontFamily"),r("changeTextAlign")),r("changeOpacity"),o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.layers")),o.a.createElement("div",{className:"buttonList"},r("sendToBack"),r("sendBackward"),r("bringToFront"),r("bringForward"))),!l&&!s&&i.length>0&&o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.actions")),o.a.createElement("div",{className:"buttonList"},r("duplicateSelection"),r("deleteSelectedElements"))))},ul=function(e){var t=e.elementType,n=e.setAppState;return o.a.createElement(o.a.Fragment,null,ja.map((function(e,r){var a=e.value,i=e.icon,s=e.key,l=xt("toolBar.".concat(a)),c="".concat(Wt(s)," ").concat(xt("shortcutsDialog.or")," ").concat(r+1);return o.a.createElement($a,{key:a,type:"radio",icon:i,checked:t===a,name:"editor-current-shape",title:"".concat(Wt(l),"  ").concat(c),keyBindingLabel:"".concat(r+1),"aria-label":Wt(l),"aria-keyshortcuts":"".concat(s," ").concat(r+1),"data-testid":a,onChange:function(){n({elementType:a,multiElement:null,selectedElementIds:{}}),Jt(a),n({})}})})))},dl=function(e){var t=e.renderAction,n=e.zoom;return o.a.createElement(Zs,{gap:1},o.a.createElement(Ys,{gap:1,align:"center"},t("zoomIn"),t("zoomOut"),t("resetZoom"),o.a.createElement("div",{style:{marginInlineStart:4}},(100*n).toFixed(0),"%")))};function pl(){return(pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var fl=function(e){var t=e.heading,n=e.children,r=hl(e,["heading","children"]),a=o.a.createElement("h2",{className:"visually-hidden",id:"".concat(t,"-title")},xt("headings.".concat(t)));return o.a.createElement("section",pl({},r,{"aria-labelledby":"".concat(t,"-title")}),"function"==typeof n?n(a):o.a.createElement(o.a.Fragment,null,a,n))},ml=(n(67),function(e){var t=e.activeRoomLink,n=e.username,a=e.onUsernameChange,i=e.onRoomCreate,s=e.onRoomDestroy,l=e.onPressingEnter,c=Object(r.useRef)(null);return o.a.createElement("div",{className:"RoomDialog-modal"},!t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,xt("roomDialog.desc_intro")),o.a.createElement("p",null," ".concat(xt("roomDialog.desc_privacy"))),o.a.createElement("div",{className:"RoomDialog-sessionStartButtonContainer"},o.a.createElement($a,{className:"RoomDialog-startSession",type:"button",icon:wi,title:xt("roomDialog.button_startSession"),"aria-label":xt("roomDialog.button_startSession"),showAriaLabel:!0,onClick:i}))),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,xt("roomDialog.desc_inProgressIntro")),o.a.createElement("p",null,xt("roomDialog.desc_shareLink")),o.a.createElement("div",{className:"RoomDialog-linkContainer"},o.a.createElement($a,{type:"button",icon:ai,title:xt("labels.copy"),"aria-label":xt("labels.copy"),onClick:function(){Yo(t),c.current&&c.current.select()}}),o.a.createElement("input",{value:t,readOnly:!0,className:"RoomDialog-link",ref:c,onPointerDown:function(e){e.target!==document.activeElement&&(e.preventDefault(),e.target.select())}})),o.a.createElement("div",{className:"RoomDialog-usernameContainer"},o.a.createElement("label",{className:"RoomDialog-usernameLabel",htmlFor:"username"},xt("labels.yourName")),o.a.createElement("input",{id:"username",value:n||"",className:"RoomDialog-username TextInput",onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&l()}})),o.a.createElement("p",null," ".concat(xt("roomDialog.desc_privacy"))),o.a.createElement("p",null,o.a.createElement("span",{role:"img","aria-hidden":"true"},"")," ",xt("roomDialog.desc_persistenceWarning")),o.a.createElement("p",null,xt("roomDialog.desc_exitSession")),o.a.createElement("div",{className:"RoomDialog-sessionStartButtonContainer"},o.a.createElement($a,{className:"RoomDialog-stopSession",type:"button",icon:Ei,title:xt("roomDialog.button_stopSession"),"aria-label":xt("roomDialog.button_stopSession"),showAriaLabel:!0,onClick:s}))))}),gl=function(e){var t=e.isCollaborating,n=e.collaboratorCount,a=e.username,i=e.onUsernameChange,s=e.onRoomCreate,l=e.onRoomDestroy,c=Object(r.useState)(!1),u=c[0],d=c[1],p=Object(r.useState)(""),h=p[0],f=p[1],m=Object(r.useRef)(null),g=o.a.useCallback((function(){var e;d(!1),null===(e=m.current)||void 0===e||e.focus()}),[]);return Object(r.useEffect)((function(){f(t?window.location.href:"")}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement($a,{className:"RoomDialog-modalButton ".concat(t?"is-collaborating":""),onClick:function(){return d(!0)},icon:ki,type:"button",title:xt("buttons.roomDialog"),"aria-label":xt("buttons.roomDialog"),showAriaLabel:ns(),ref:m},n>0&&o.a.createElement("div",{className:"RoomDialog-modalButton-collaborators"},n)),u&&o.a.createElement(nl,{maxWidth:800,onCloseRequest:g,title:xt("labels.createRoom")},o.a.createElement(ml,{activeRoomLink:h,username:a,onUsernameChange:i,onRoomCreate:s,onRoomDestroy:l,onPressingEnter:g})))},yl=function(){return o.a.createElement("div",{className:"LoadingMessage"},o.a.createElement("span",null,"Loading scene..."))};function vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kl=function(e){var t=e.appState,n=e.elements,r=e.actionManager,a=e.exportButton,i=e.setAppState,s=e.onRoomCreate,l=e.onUsernameChange,c=e.onRoomDestroy,u=e.onLockToggle,d=e.canvas;return o.a.createElement(o.a.Fragment,null,t.isLoading&&o.a.createElement(yl,null),o.a.createElement(Xs,{side:"top"},o.a.createElement(fl,{heading:"shapes"},(function(e){return o.a.createElement(Zs,{gap:4,align:"center"},o.a.createElement(Ys,{gap:1},o.a.createElement(Ks,{padding:1},e,o.a.createElement(Ys,{gap:1},o.a.createElement(ul,{elementType:t.elementType,setAppState:i}))),o.a.createElement(Qs,{checked:t.elementLocked,onChange:u,title:xt("toolBar.lock")})))})),o.a.createElement(ll,{appState:t,elements:n})),o.a.createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},o.a.createElement(Ks,{padding:3},"canvas"===t.openMenu?o.a.createElement(fl,{className:"App-mobile-menu",heading:"canvasActions"},o.a.createElement("div",{className:"panelColumn"},o.a.createElement(Zs,{gap:4},r.renderAction("loadScene"),r.renderAction("saveScene"),r.renderAction("saveAsScene"),a,r.renderAction("clearCanvas"),o.a.createElement(gl,{isCollaborating:t.isCollaborating,collaboratorCount:t.collaborators.size,username:t.username,onUsernameChange:l,onRoomCreate:s,onRoomDestroy:c}),r.renderAction("changeViewBackgroundColor"),o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.language")),o.a.createElement(sl,{onChange:function(e){Et(e),i({})}})),o.a.createElement("fieldset",null,o.a.createElement("legend",null,xt("labels.collaborators")),o.a.createElement(Js,{mobile:!0},Array.from(t.collaborators).filter((function(e){e[0];var t=e[1];return 0!==Object.keys(t).length})).map((function(e){var t=e[0];e[1];return o.a.createElement(o.a.Fragment,{key:t},r.renderAction("goToCollaborator",t))}))))))):"shape"===t.openMenu&&qr(t,n)?o.a.createElement(fl,{className:"App-mobile-menu",heading:"selectedShapeActions"},o.a.createElement(cl,{appState:t,elements:n,renderAction:r.renderAction,elementType:t.elementType})):null,o.a.createElement("footer",{className:"App-toolbar"},o.a.createElement("div",{className:"App-toolbar-content"},r.renderAction("toggleCanvasMenu"),r.renderAction("toggleEditMenu"),r.renderAction("undo"),r.renderAction("redo"),r.renderAction(t.multiElement?"finalize":"duplicateSelection"),r.renderAction("deleteSelectedElements")),t.scrolledOutside&&o.a.createElement("button",{className:"scroll-back-to-content",onClick:function(){i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vl(Object(n),!0).forEach((function(t){bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},zt(n,t,d)))}},xt("buttons.scrollBackToContent"))))))},wl=function(e){var t=e.message,n=e.onClose,a=Object(r.useState)(!!t),i=a[0],s=a[1],l=o.a.useCallback((function(){s(!1),n&&n()}),[n]);return o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(nl,{maxWidth:500,onCloseRequest:l,title:xt("errorDialog.title")},o.a.createElement("div",null,t)))};function El(){return(El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Sl=function(e){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},e.children)},Cl=function(e){return o.a.createElement("div",{style:{width:"49%"}},e.children)},xl=function(e){return o.a.createElement("div",{style:{border:"1px solid ".concat(Jr.gray[4]),marginBottom:"16px"}},o.a.createElement("h3",{style:{margin:"0",padding:"4px",backgroundColor:Jr.gray[2],textAlign:"center"}},e.caption),e.children)},Pl=function(e){var t="rtl"===document.documentElement.getAttribute("dir");return o.a.createElement("div",{style:{borderTop:"1px solid ".concat(Jr.gray[4])}},o.a.createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},o.a.createElement("div",{style:{lineHeight:1.4}},e.label),o.a.createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginLeft:t?"0em":"auto",marginRight:t?"auto":"0em",minWidth:"30%"}},e.shortcuts.map((function(t,n){return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement(Tl,null,t),e.isOr&&n!==e.shortcuts.length-1&&xt("shortcutsDialog.or"))})))))};Pl.defaultProps={isOr:!0};var Tl=function(e){return o.a.createElement("span",El({style:{wordBreak:"keep-all",border:"1px solid ".concat(Jr.gray[4]),padding:"2px 8px",margin:"auto 4px",backgroundColor:Jr.gray[2],borderRadius:"2px",fontSize:"0.8em",minHeight:"26px",boxSizing:"border-box",display:"flex",alignItems:"center"}},e))},Al=function(){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",borderTop:"1px solid ".concat(Jr.gray[4]),marginTop:8,paddingTop:16}},o.a.createElement("a",{href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},xt("shortcutsDialog.blog")),o.a.createElement("a",{href:"https://howto.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},xt("shortcutsDialog.howto")),o.a.createElement("a",{href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},xt("shortcutsDialog.github")))},Ol=function(e){var t=e.onClose,n=o.a.useCallback((function(){t&&t()}),[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{maxWidth:900,onCloseRequest:n,title:xt("shortcutsDialog.title")},o.a.createElement(Sl,null,o.a.createElement(Cl,null,o.a.createElement(xl,{caption:xt("shortcutsDialog.shapes")},o.a.createElement(Pl,{label:xt("toolBar.selection"),shortcuts:["S","1"]}),o.a.createElement(Pl,{label:xt("toolBar.rectangle"),shortcuts:["R","2"]}),o.a.createElement(Pl,{label:xt("toolBar.diamond"),shortcuts:["D","3"]}),o.a.createElement(Pl,{label:xt("toolBar.ellipse"),shortcuts:["E","4"]}),o.a.createElement(Pl,{label:xt("toolBar.arrow"),shortcuts:["A","5"]}),o.a.createElement(Pl,{label:xt("toolBar.line"),shortcuts:["L","6"]}),o.a.createElement(Pl,{label:xt("toolBar.draw"),shortcuts:["X","7"]}),o.a.createElement(Pl,{label:xt("toolBar.text"),shortcuts:["T","8"]}),o.a.createElement(Pl,{label:xt("shortcutsDialog.textNewLine"),shortcuts:[Qt("Enter"),Qt("Shift+Enter")]}),o.a.createElement(Pl,{label:xt("shortcutsDialog.textFinish"),shortcuts:[Qt("Esc"),Qt("CtrlOrCmd+Enter")]}),o.a.createElement(Pl,{label:xt("shortcutsDialog.curvedArrow"),shortcuts:["A",xt("shortcutsDialog.click"),xt("shortcutsDialog.click"),xt("shortcutsDialog.click")],isOr:!1}),o.a.createElement(Pl,{label:xt("shortcutsDialog.curvedLine"),shortcuts:["L",xt("shortcutsDialog.click"),xt("shortcutsDialog.click"),xt("shortcutsDialog.click")],isOr:!1}),o.a.createElement(Pl,{label:xt("toolBar.lock"),shortcuts:["Q"]})),o.a.createElement(xl,{caption:xt("shortcutsDialog.view")},o.a.createElement(Pl,{label:xt("buttons.zoomIn"),shortcuts:[Qt("CtrlOrCmd++")]}),o.a.createElement(Pl,{label:xt("buttons.zoomOut"),shortcuts:[Qt("CtrlOrCmd+-")]}),o.a.createElement(Pl,{label:xt("buttons.resetZoom"),shortcuts:[Qt("CtrlOrCmd+0")]}),o.a.createElement(Pl,{label:xt("shortcutsDialog.zoomToFit"),shortcuts:["Shift+1"]}),o.a.createElement(Pl,{label:xt("buttons.toggleFullScreen"),shortcuts:["F"]}),o.a.createElement(Pl,{label:xt("buttons.toggleZenMode"),shortcuts:[Qt("Alt+Z")]}))),o.a.createElement(Cl,null,o.a.createElement(xl,{caption:xt("shortcutsDialog.editor")},o.a.createElement(Pl,{label:xt("labels.selectAll"),shortcuts:[Qt("CtrlOrCmd+A")]}),o.a.createElement(Pl,{label:xt("labels.moveCanvas"),shortcuts:[Qt("Space+".concat(xt("shortcutsDialog.drag"))),Qt("Wheel+".concat(xt("shortcutsDialog.drag")))],isOr:!0}),o.a.createElement(Pl,{label:xt("labels.copy"),shortcuts:[Qt("CtrlOrCmd+C")]}),o.a.createElement(Pl,{label:xt("labels.paste"),shortcuts:[Qt("CtrlOrCmd+V")]}),o.a.createElement(Pl,{label:xt("labels.copyAsPng"),shortcuts:[Qt("Shift+Alt+C")]}),o.a.createElement(Pl,{label:xt("labels.copyStyles"),shortcuts:[Qt("CtrlOrCmd+Shift+C")]}),o.a.createElement(Pl,{label:xt("labels.pasteStyles"),shortcuts:[Qt("CtrlOrCmd+Shift+V")]}),o.a.createElement(Pl,{label:xt("labels.delete"),shortcuts:[Qt("Del")]}),o.a.createElement(Pl,{label:xt("labels.sendToBack"),shortcuts:[Qt(hr?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),o.a.createElement(Pl,{label:xt("labels.bringToFront"),shortcuts:[Qt(hr?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),o.a.createElement(Pl,{label:xt("labels.sendBackward"),shortcuts:[Qt("CtrlOrCmd+[")]}),o.a.createElement(Pl,{label:xt("labels.bringForward"),shortcuts:[Qt("CtrlOrCmd+]")]}),o.a.createElement(Pl,{label:xt("labels.duplicateSelection"),shortcuts:[Qt("CtrlOrCmd+D"),Qt("Alt+".concat(xt("shortcutsDialog.drag")))]}),o.a.createElement(Pl,{label:xt("buttons.undo"),shortcuts:[Qt("CtrlOrCmd+Z")]}),o.a.createElement(Pl,{label:xt("buttons.redo"),shortcuts:[Qt("CtrlOrCmd+Shift+Z")]}),o.a.createElement(Pl,{label:xt("labels.group"),shortcuts:[Qt("CtrlOrCmd+G")]}),o.a.createElement(Pl,{label:xt("labels.ungroup"),shortcuts:[Qt("CtrlOrCmd+Shift+G")]})))),o.a.createElement(Al,null)))},Ml=o.a.memo((function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},o.a.createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},o.a.createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:Jr.gray[6]}),o.a.createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:Jr.white}),o.a.createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:Jr.white})))})),zl=(n(68),function(e){var t=e.children,n=e.label;return o.a.createElement("div",{className:"Tooltip"},o.a.createElement("span",{className:"Tooltip__label"},n),t)});n(69);function _l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jl=o.a.memo((function(e){var t,n=e.actionManager,r=e.appState,a=e.setAppState,i=e.canvas,s=e.elements,l=e.onRoomCreate,c=e.onUsernameChange,u=e.onRoomDestroy,d=e.onLockToggle,p=e.zenModeEnabled,h=e.toggleZenMode,f=ns(),m=function(){var e=function(e){return function(t,n){i&&Ma(e,t,r,i,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor,scale:n,shouldAddWatermark:r.shouldAddWatermark})}};return o.a.createElement(il,{elements:s,appState:r,actionManager:n,onExportToPng:e("png"),onExportToSvg:e("svg"),onExportToClipboard:e("clipboard"),onExportToBackend:function(e){i&&Ma("backend",e,Dl(Dl({},r),{},{selectedElementIds:{}}),i,r)}})};return f?o.a.createElement(kl,{appState:r,elements:s,actionManager:n,exportButton:m(),setAppState:a,onUsernameChange:c,onRoomCreate:l,onRoomDestroy:u,onLockToggle:d,canvas:i}):o.a.createElement("div",{className:"layer-ui__wrapper"},r.isLoading&&o.a.createElement(yl,null),r.errorMessage&&o.a.createElement(wl,{message:r.errorMessage,onClose:function(){return a({errorMessage:null})}}),r.showShortcutsDialog&&o.a.createElement(Ol,{onClose:function(){return a({showShortcutsDialog:null})}}),(t=qr(r,s),o.a.createElement(Xs,{side:"top"},o.a.createElement(ll,{appState:r,elements:s}),o.a.createElement("div",{className:"App-menu App-menu_top"},o.a.createElement(Zs,{gap:4,className:p&&"disable-pointerEvents"},o.a.createElement(fl,{heading:"canvasActions",className:"zen-mode-transition ".concat(p&&"transition-left")},o.a.createElement(Ks,{padding:4,style:{zIndex:1}},o.a.createElement(Zs,{gap:4},o.a.createElement(Ys,{gap:1,justifyContent:"space-between"},n.renderAction("loadScene"),n.renderAction("saveScene"),n.renderAction("saveAsScene"),m(),n.renderAction("clearCanvas"),o.a.createElement(gl,{isCollaborating:r.isCollaborating,collaboratorCount:r.collaborators.size,username:r.username,onUsernameChange:c,onRoomCreate:l,onRoomDestroy:u})),n.renderAction("changeViewBackgroundColor")))),t&&o.a.createElement(fl,{heading:"selectedShapeActions",className:"zen-mode-transition ".concat(p&&"transition-left")},o.a.createElement(Ks,{className:_e,padding:4},o.a.createElement(cl,{appState:r,elements:s,renderAction:n.renderAction,elementType:r.elementType})))),o.a.createElement(fl,{heading:"shapes"},(function(e){return o.a.createElement(Zs,{gap:4,align:"start"},o.a.createElement(Ys,{gap:1},o.a.createElement(Ks,{padding:1,className:p&&"zen-mode"},e,o.a.createElement(Ys,{gap:1},o.a.createElement(ul,{elementType:r.elementType,setAppState:a}))),o.a.createElement(Qs,{zenModeEnabled:p,checked:r.elementLocked,onChange:d,title:xt("toolBar.lock")})))})),o.a.createElement(Js,{className:"zen-mode-transition ".concat(p&&"transition-right")},Array.from(r.collaborators).filter((function(e){e[0];var t=e[1];return 0!==Object.keys(t).length})).map((function(e){var t=e[0],r=e[1];return o.a.createElement(zl,{label:r.username||"Unknown user",key:t},n.renderAction("goToCollaborator",t))})))))),o.a.createElement("div",{className:"App-menu App-menu_bottom zen-mode-transition ".concat(p&&"App-menu_bottom--transition-left")},o.a.createElement(Zs,{gap:2},o.a.createElement(fl,{heading:"canvasActions"},o.a.createElement(Ks,{padding:1},o.a.createElement(dl,{renderAction:n.renderAction,zoom:r.zoom})),o.a.createElement("a",{className:"encrypted-icon tooltip zen-mode-visibility ".concat(p?"zen-mode-visibility--hidden":""),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("span",{className:"tooltip-text",dir:"auto"},xt("encrypted.tooltip")),Pi)))),o.a.createElement("aside",{className:"layer-ui__wrapper__github-corner zen-mode-transition ".concat(p&&"transition-right")},o.a.createElement(Ml,null)),o.a.createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},o.a.createElement("div",{className:"zen-mode-transition ".concat(p&&"transition-right disable-pointerEvents")},o.a.createElement(sl,{onChange:function(e){Et(e),a({})},languages:bt,floating:!0}),n.renderAction("toggleShortcuts")),o.a.createElement("button",{className:"disable-zen-mode ".concat(p&&"disable-zen-mode--visible"),onClick:h},xt("buttons.exitZenMode")),r.scrolledOutside&&o.a.createElement("button",{className:"scroll-back-to-content",onClick:function(){a(Dl({},zt(s,r,i)))}},xt("buttons.scrollBackToContent"))))}),(function(e,t){var n=function(e){e.draggingElement,e.resizingElement,e.multiElement,e.editingElement,e.isResizing,e.cursorX,e.cursorY;return _l(e,["draggingElement","resizingElement","multiElement","editingElement","isResizing","cursorX","cursorY"])},r=n(e.appState),o=n(t.appState),a=Object.keys(r);return e.lng===t.lng&&e.elements===t.elements&&a.every((function(e){return r[e]===o[e]}))})),Nl=n(29),Fl=n.n(Nl),Bl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rl=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Hl=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function Wl(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Gl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Wl(a,r,o,i,s,"next",e)}function s(e){Wl(a,r,o,i,s,"throw",e)}i(void 0)}))}}function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kl=function(e){return function(t){Object(Ua.unstable_batchedUpdates)(e,t)}},Yl=new Ga,Zl=!1,Xl=0,Jl=0,$l=0,Ql=!1,ec=!1,tc=!1,nc={horizontal:null,vertical:null},rc=null,oc={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},ac=function(e){function t(t){var n,r=this;r=e.call(this,t)||this,n=r,ic.call(r);var a,i=$r(),s=t.width,l=t.height,c=t.options,u=c.zenModeEnabled,d=c.viewBackgroundColor,p=t.user;return r.state=Vl(Vl({},i),{},{width:s,height:l,zenModeEnabled:u,viewBackgroundColor:d,username:p.name||""}),r.actionManager=new Ja(r.syncActionResult,(function(){return n.state}),(function(){return Ft.getElementsIncludingDeleted()})),r.actionManager.registerAll(Ti),r.actionManager.registerAction((a=Yl,{name:"undo",perform:function(e,t){return Ws(e,t,(function(){return a.undoOnce()}))},keyTest:Gs(!1),PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:hi,"aria-label":xt("buttons.undo"),onClick:t})},commitToHistory:function(){return!1}})),r.actionManager.registerAction(function(e){return{name:"redo",perform:function(t,n){return Ws(t,n,(function(){return e.redoOnce()}))},keyTest:Gs(!0),PanelComponent:function(e){var t=e.updateData;return o.a.createElement($a,{type:"button",icon:fi,"aria-label":xt("buttons.redo"),onClick:t})},commitToHistory:function(){return!1}}}(Yl)),r.excalidrawRef=o.a.createRef(),r.parentDOMLeft=r.parentDOMTop=0,r}return Bl(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.zenModeEnabled,r=t.width,a=t.height,i=this.props.onUsernameChange,s=window.devicePixelRatio,l=r*s,c=a*s;return o.a.createElement("div",{className:"excalidraw",ref:this.excalidrawRef,style:{width:r,height:a,top:this.parentDOMTop,left:this.parentDOMLeft}},o.a.createElement(jl,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:Ft.getElements(),onRoomCreate:this.openPortal,onRoomDestroy:this.closePortal,onUsernameChange:function(t){i&&i(t),e.setState({username:t})},onLockToggle:this.toggleLock,zenModeEnabled:n,toggleZenMode:this.toggleZenMode,lng:St().lng}),o.a.createElement("main",null,o.a.createElement("canvas",{id:"canvas",style:{width:r,height:a},width:l,height:c,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onDrop:this.handleCanvasOnDrop},xt("labels.drawingCanvas"))))},t.prototype.componentDidMount=function(){var e=this;return Gl((function(){return Rl(this,(function(t){return"production"!==Ae&&"production"!==Oe||(e.setState.bind(e),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return e.state}},setState:{configurable:!0,value:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.setState.apply(e,t)}},app:{configurable:!0,value:e}})),e.removeSceneCallback=Ft.addCallback(e.onSceneUpdated),e.addEventListeners(),e.initializeScene(),e.calculateCanvasDimensions(),[2]}))}))()},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.removeSceneCallback(),this.removeEventListeners()},t.prototype.removeEventListeners=function(){document.removeEventListener(ce.COPY,this.onCopy),document.removeEventListener(ce.PASTE,this.pasteFromClipboard),document.removeEventListener(ce.CUT,this.onCut),document.removeEventListener(ce.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(ce.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(ce.KEYUP,this.onKeyUp),window.removeEventListener(ce.RESIZE,this.onResize,!1),window.removeEventListener(ce.UNLOAD,this.onUnload,!1),window.removeEventListener(ce.BLUR,this.onBlur,!1),window.removeEventListener(ce.DRAG_OVER,this.disableEvent,!1),window.removeEventListener(ce.DROP,this.disableEvent,!1),document.removeEventListener(ce.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(ce.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(ce.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(ce.BEFORE_UNLOAD,this.beforeUnload)},t.prototype.addEventListeners=function(){var e,t;document.addEventListener(ce.COPY,this.onCopy),document.addEventListener(ce.PASTE,this.pasteFromClipboard),document.addEventListener(ce.CUT,this.onCut),document.addEventListener(ce.KEYDOWN,this.onKeyDown,!1),document.addEventListener(ce.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(ce.MOUSE_MOVE,this.updateCurrentCursorPosition),window.addEventListener(ce.RESIZE,this.onResize,!1),window.addEventListener(ce.UNLOAD,this.onUnload,!1),window.addEventListener(ce.BLUR,this.onBlur,!1),window.addEventListener(ce.DRAG_OVER,this.disableEvent,!1),window.addEventListener(ce.DROP,this.disableEvent,!1),null===(e=document.fonts)||void 0===e||null===(t=e.addEventListener)||void 0===t||t.call(e,"loadingdone",this.onFontLoaded),document.addEventListener(ce.GESTURE_START,this.onGestureStart,!1),document.addEventListener(ce.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(ce.GESTURE_END,this.onGestureEnd,!1),window.addEventListener(ce.BEFORE_UNLOAD,this.beforeUnload)},t.prototype.componentDidUpdate=function(e){var t=this,n=e.width,r=e.height,o=this.props,a=o.width,i=o.height,s=o.onChange;n===a&&r===i||(this.setState({width:a,height:i}),this.calculateCanvasDimensions()),this.state.isCollaborating&&!this.portal.socket&&this.initializeSocketClient({showLoadingState:!0}),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){t.actionManager.executeAction(gs)}));var l={},c={},u={},d={};this.state.collaborators.forEach((function(e,n){if(e.selectedElementIds)for(var r=0,o=Object.keys(e.selectedElementIds);r<o.length;r++){var a=o[r];a in u||(u[a]=[]),u[a].push(n)}e.pointer&&(e.username&&(d[n]=e.username),c[n]=tn({sceneX:e.pointer.x,sceneY:e.pointer.y},t.state,t.canvas,window.devicePixelRatio),l[n]=e.button)}));var p=Ft.getElements(),h=po(p.filter((function(e){return!t.state.editingElement||"text"!==t.state.editingElement.type||e.id!==t.state.editingElement.id})),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:c,remotePointerButton:l,remoteSelectedElementIds:u,remotePointerUsernames:d,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0}),f=h.atLeastOneVisibleElement,m=h.scrollBars;m&&(nc=m);var g=!f&&p.length>0;this.state.scrolledOutside!==g&&this.setState({scrolledOutside:g}),s&&s(Ft.getElementsIncludingDeleted(),this.state),Yr(Ft.getElementsIncludingDeleted())>this.lastBroadcastedOrReceivedSceneVersion&&(this.broadcastScene(le.UPDATE,!1),this.queueBroadcastAllElements()),Yl.record(this.state,Ft.getElementsIncludingDeleted())},t.resetTapTwice=function(){Zl=!1},t.prototype.addTextFromPaste=function(e){var t,n=en({clientX:Jl,clientY:$l},this.state,this.canvas,window.devicePixelRatio,{deltaX:this.parentDOMLeft,deltaY:this.parentDOMTop}),r=n.x,o=n.y,a=qn({x:r,y:o,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign});Ft.replaceAllElements(Hl(Ft.getElementsIncludingDeleted(),[a])),this.setState({selectedElementIds:(t={},t[a.id]=!0,t)}),Yl.resumeRecording()},t.prototype.setCollaborators=function(e){this.setState((function(t){for(var n=new Map,r=0,o=e;r<o.length;r++){var a=o[r];t.collaborators.has(a)?n.set(a,t.collaborators.get(a)):n.set(a,{})}return Vl(Vl({},t),{},{collaborators:n})}))},t.prototype.selectShapeTool=function(e){var t;Ql||Jt(e),(t=document.activeElement)instanceof HTMLElement&&t.className.includes("ToolIcon")&&document.activeElement.blur(),"selection"!==e?this.setState({elementType:e,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:e})},t.prototype.handleTextWysiwyg=function(e,t){var n=t.x,r=t.y,o=t.isExistingElement,a=void 0!==o&&o,i=this,s=function(){i.setState({draggingElement:null,editingElement:null})},l=function(){Ft.replaceAllElements(Hl(Ft.getElementsIncludingDeleted().map((function(t){return t.id===e.id?Pn(t,{isDeleted:!0}):t}))))},c=function(t){Ft.replaceAllElements(Hl(Ft.getElementsIncludingDeleted().map((function(n){return n.id===e.id?qn(Vl(Vl({},n),{},{x:e.x,y:e.y,text:t})):n}))))};!function(e){var t=e.id,n=e.initText,r=e.x,o=e.y,a=e.strokeColor,i=e.fontSize,s=e.fontFamily,l=e.opacity,c=e.zoom,u=e.angle,d=e.onChange,p=e.textAlign,h=e.onSubmit,f=e.onCancel,m=document.createElement("div");try{m.contentEditable="plaintext-only"}catch(e){m.contentEditable="true"}m.dir="auto",m.tabIndex=0,m.innerText=n,m.dataset.type="wysiwyg";var g=180*u/Math.PI;Object.assign(m.style,{color:a,position:"fixed",opacity:l/100,top:"".concat(o,"px"),left:"".concat(r,"px"),transform:"translate(-50%, -50%) scale(".concat(c,") rotate(").concat(g,"deg)"),textAlign:p,display:"inline-block",font:Vt({fontSize:i,fontFamily:s}),padding:"4px",outline:"1px solid transparent",whiteSpace:"nowrap",minHeight:"1em",backfaceVisibility:"hidden"}),m.onpaste=function(e){try{var t=window.getSelection();if(!(null==t?void 0:t.rangeCount))return;t.deleteFromDocument();var n=e.clipboardData.getData("text").replace(/\r\n?/g,"\n"),r=document.createElement("span");r.innerText=n;var o=t.getRangeAt(0);o.insertNode(r),window.getSelection().removeAllRanges(),o.setStart(r,r.childNodes.length),o.setEnd(r,r.childNodes.length),t.addRange(o),e.preventDefault()}catch(e){console.error(e)}},d&&(m.oninput=function(){d(Ur(m.innerText))}),m.onkeydown=function(e){if(e.key===br)e.preventDefault(),v();else if(e.key===vr&&e[Er]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;v()}else e.key!==vr||e.altKey||e.stopPropagation()};var y=function(e){e.stopPropagation()},v=function(){m.innerText?h(Ur(m.innerText)):f(),b()},b=function(){S||(S=!0,m.onblur=null,m.onpaste=null,m.oninput=null,m.onkeydown=null,window.removeEventListener("wheel",y,!0),window.removeEventListener("pointerdown",w),window.removeEventListener("pointerup",k),window.removeEventListener("blur",v),E(),document.body.removeChild(m))},k=function(){window.removeEventListener("pointerup",k),setTimeout((function(){m.onblur=v,m.focus()}))},w=function(e){e.target instanceof HTMLElement&&e.target.closest(".".concat(_e))&&!Gt(e.target)&&(m.onblur=null,window.addEventListener("pointerup",k),window.addEventListener("blur",v))},E=Ft.addCallback((function(){var e=Ft.getElementsIncludingDeleted().find((function(e){return e.id===t}));e&&ve(e)&&Object.assign(m.style,{font:Vt(e),textAlign:e.textAlign,color:e.strokeColor,opacity:e.opacity/100}),m.focus()})),S=!1;m.onblur=v,window.addEventListener("pointerdown",w),window.addEventListener("wheel",y,!0),document.body.appendChild(m),m.focus(),Kt(m)}({id:e.id,x:n,y:r,initText:e.text,strokeColor:e.strokeColor,opacity:e.opacity,fontSize:e.fontSize,fontFamily:e.fontFamily,angle:e.angle,textAlign:e.textAlign,zoom:this.state.zoom,onChange:Kl((function(e){e?c(e):l()})),onSubmit:Kl((function(t){c(t),i.setState((function(t){var n;return{selectedElementIds:Vl(Vl({},t.selectedElementIds),{},(n={},n[e.id]=!0,n))}})),i.state.elementLocked&&Jt(i.state.elementType),Yl.resumeRecording(),s()})),onCancel:Kl((function(){l(),a&&Yl.resumeRecording(),s()}))}),this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),c(e.text)},t.prototype.getTextWysiwygSnappedToCenterPosition=function(e,t,n,r,o){var a=function(e,t,n){for(var r=null,o=e.length-1;o>=0;--o)if(!e[o].isDeleted){var a=Ue(e[o]),i=a[0],s=a[1],l=a[2],c=a[3];if(i<t&&t<l&&s<n&&n<c){r=e[o];break}}return r}(Ft.getElementsIncludingDeleted(),e,t);if(a){var i=a.x+a.width/2+this.parentDOMLeft,s=a.y+a.height/2+this.parentDOMTop;if(Math.hypot(e-i,t-s)<30){var l=tn({sceneX:i,sceneY:s},n,r,o);return{wysiwygX:l.x,wysiwygY:l.y,elementCenterX:i,elementCenterY:s}}}},t.prototype.calculateCanvasDimensions=function(){var e=this.excalidrawRef.current.parentElement;this.excalidrawRef.current.parentNode.host&&(e=this.excalidrawRef.current.parentNode.host);var t=e.getBoundingClientRect(),n=t.left,r=t.top;this.parentDOMLeft=n,this.parentDOMTop=r},t}(o.a.Component);ac.defaultProps={width:window.innerWidth,height:window.innerHeight,options:{zenModeEnabled:!1,viewBackgroundColor:Jr.white},initialData:[],user:{}};var ic=function(){var e,t,r,o,a,i=this;this.canvas=null,this.rc=null,this.portal=new La(this),this.lastBroadcastedOrReceivedSceneVersion=-1,this.broadcastedElementVersions=new Map,this.removeSceneCallback=null,this.unmounted=!1,this.state=Vl(Vl({},$r()),{},{isLoading:!0}),this.syncActionResult=Kl((function(e){if(!i.unmounted){var t=null;e.elements&&(e.elements.forEach((function(e){var n;(null===(n=i.state.editingElement)||void 0===n?void 0:n.id)===e.id&&i.state.editingElement!==e&&Xr(e)&&(t=e)})),Ft.replaceAllElements(e.elements),e.commitToHistory&&Yl.resumeRecording()),(e.appState||t)&&(e.commitToHistory&&Yl.resumeRecording(),i.setState((function(n){var r;return Vl(Vl({},e.appState),{},{editingElement:t||(null===(r=e.appState)||void 0===r?void 0:r.editingElement)||null,isCollaborating:n.isCollaborating,collaborators:n.collaborators})}),(function(){e.syncHistory&&Yl.setCurrentState(i.state,Ft.getElementsIncludingDeleted())})))}})),this.onBlur=Kl((function(){Ql=!1;var e=i.props.onBlur;e&&e(Ft.getElementsIncludingDeleted(),i.state)})),this.onUnload=function(){i.destroySocketClient(),i.onBlur()},this.disableEvent=function(e){e.preventDefault()},this.onFontLoaded=function(){Ft.getElementsIncludingDeleted().forEach((function(e){ve(e)&&pn(e)})),i.onSceneUpdated()},this.initializeScene=Gl((function(){var e,t,n,r,o,a;return Rl(this,(function(s){switch(s.label){case 0:return e=new URLSearchParams(window.location.search),t=e.get("id"),n=window.location.hash.match(/^#json=([0-9]+),([a-zA-Z0-9_-]+)$/),r=Sa(window.location.href),o=i.props.initialData,r?[3,7]:(a=void 0,t?[4,za(t,o)]:[3,2]);case 1:return a=s.sent(),[3,6];case 2:return n?[4,za(n[1],o,n[2])]:[3,4];case 3:return a=s.sent(),[3,6];case 4:return[4,za(null,o)];case 5:a=s.sent(),s.label=6;case 6:(a=Vl(Vl({},a),{},{appState:Vl(Vl({},a.appState),i.state)}))&&i.syncActionResult(a),s.label=7;case 7:return i.state.isLoading&&i.setState({isLoading:!1}),r&&i.initializeSocketClient({showLoadingState:!0}),[2]}}))})),this.onResize=Kl((function(){var e=i.props.onResize;e&&e(),Ft.getElementsIncludingDeleted().forEach((function(e){return pn(e)})),i.setState({})})),this.beforeUnload=Kl((function(e){i.state.isCollaborating&&Ft.getElements().length>0&&(e.preventDefault(),e.returnValue="")})),this.queueBroadcastAllElements=Fl()((function(){i.broadcastScene(le.UPDATE,!0)}),2e4),this.onCut=Kl((function(e){Gt(e.target)||(i.copyAll(),i.actionManager.executeAction(Ii),e.preventDefault())})),this.onCopy=Kl((function(e){Gt(e.target)||(i.copyAll(),e.preventDefault())})),this.copyAll=function(){Go(Ft.getElements(),i.state)},this.copyToClipboardAsPng=function(){var e=Ft.getElements(),t=Ot(e,i.state);Ma("clipboard",t.length?t:e,i.state,i.canvas,i.state)},this.copyToClipboardAsSvg=function(){var e=Ot(Ft.getElements(),i.state);Ma("clipboard-svg",e.length?e:Ft.getElements(),i.state,i.canvas,i.state)},this.onTapStart=function(e){if(!Zl)return Zl=!0,clearTimeout(Xl),void(Xl=window.setTimeout(ac.resetTapTwice,300));if(Zl&&1===e.touches.length){var t=e.touches[0];i.handleCanvasDoubleClick({clientX:t.clientX,clientY:t.clientY}),Zl=!1,clearTimeout(Xl)}e.preventDefault(),2===e.touches.length&&i.setState({selectedElementIds:{}})},this.onTapEnd=function(e){if(e.preventDefault(),e.touches.length>0){var t=i.state.previousSelectedElementIds;i.setState({previousSelectedElementIds:{},selectedElementIds:t})}},this.pasteFromClipboard=Kl(function(){var e=Gl((function(e){var t,n,r;return Rl(this,(function(o){switch(o.label){case 0:return t=document.activeElement,n=document.elementFromPoint(Jl,$l),!e||n instanceof HTMLCanvasElement&&!Gt(t)?[4,Vo(i.state,Jl,$l,e)]:[2];case 1:return(r=o.sent()).error?alert(r.error):r.elements?i.addElementsFromPaste(r.elements):r.text&&i.addTextFromPaste(r.text),i.selectShapeTool("selection"),null==e||e.preventDefault(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),this.addElementsFromPaste=function(e){var t=Xe(e),n=t[0],r=t[1],o=t[2],a=t[3],s=Zt(n,o)/2,l=Zt(r,a)/2,c=en({clientX:Jl,clientY:$l},i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),u=c.x,d=c.y,p=u-s,h=d-l,f=new Map,m=e.map((function(e){return Yn(i.state.editingGroupId,f,e,{x:e.x+p-n+i.parentDOMLeft,y:e.y+h-r+i.parentDOMTop})}));Ft.replaceAllElements(Hl(Ft.getElementsIncludingDeleted(),m)),Yl.resumeRecording(),i.setState({selectedElementIds:m.reduce((function(e,t){return e[t.id]=!0,e}),{})})},this.setAppState=function(e){i.setState(e)},this.removePointer=function(e){oc.pointers.delete(e.pointerId)},this.openPortal=Gl((function(){var e,t,n;return Rl(this,(function(r){switch(r.label){case 0:return t=(e=window.history).pushState,n=[{},"Excalidraw"],[4,Ca()];case 1:return t.apply(e,n.concat([r.sent()])),i.initializeSocketClient({showLoadingState:!1}),[2]}}))})),this.closePortal=function(){window.history.pushState({},"Excalidraw",window.location.origin),i.destroySocketClient()},this.toggleLock=function(){i.setState((function(e){return{elementLocked:!e.elementLocked,elementType:e.elementLocked?"selection":e.elementType}}))},this.toggleZenMode=function(){i.setState({zenModeEnabled:!i.state.zenModeEnabled})},this.destroySocketClient=function(){i.setState({isCollaborating:!1,collaborators:new Map}),i.portal.close()},this.initializeSocketClient=function(){var e=Gl((function(e){var t,r,o,a,s;return Rl(this,(function(l){switch(l.label){case 0:return i.portal.socket?[2]:(t=Sa(window.location.href))?(r=function(){i.portal.socketInitialized=!0,clearTimeout(o),i.state.isLoading&&!i.unmounted&&i.setState({isLoading:!1})},o=setTimeout(r,5e3),a=function(e,t){var n,o=(void 0===t?{}:t).scrollToContent,a=void 0!==o&&o,s=e.payload.elements;if(a&&i.setState(Vl(Vl({},i.state),zt(s.filter((function(e){return!e.isDeleted})),i.state,i.canvas))),null==Ft.getElementsIncludingDeleted()||0===Ft.getElementsIncludingDeleted().length)Ft.replaceAllElements(s);else{var l=Kr(Ft.getElementsIncludingDeleted()),c=(n=s.reduce((function(e,t){var n,r,o;return t.id===(null===(n=i.state.editingElement)||void 0===n?void 0:n.id)||t.id===(null===(r=i.state.resizingElement)||void 0===r?void 0:r.id)||t.id===(null===(o=i.state.draggingElement)||void 0===o?void 0:o.id)||(l.hasOwnProperty(t.id)&&l[t.id].version>t.version?(e.push(l[t.id]),delete l[t.id]):l.hasOwnProperty(t.id)&&l[t.id].version===t.version&&l[t.id].versionNonce!==t.versionNonce?(l[t.id].versionNonce<t.versionNonce?e.push(l[t.id]):e.push(t),delete l[t.id]):(e.push(t),delete l[t.id])),e}),[])).concat.apply(n,Object.values(l));i.lastBroadcastedOrReceivedSceneVersion=Yr(c),Ft.replaceAllElements(c)}Yl.clear(),i.portal.socketInitialized||r()},[4,Promise.resolve().then(n.t.bind(null,101,7))]):[3,2];case 1:s=l.sent().default,i.portal.open(s("https://excalidraw-socket.herokuapp.com"),t[1],t[2]),i.portal.socket.on("client-broadcast",function(){var e=Gl((function(e,t){var n,r,o,s,l,c,u;return Rl(this,(function(d){switch(d.label){case 0:return i.portal.roomKey?[4,Ta(e,i.portal.roomKey,t)]:[2];case 1:switch((n=d.sent()).type){case"INVALID_RESPONSE":return[2];case le.INIT:i.portal.socketInitialized||a(n,{scrollToContent:!0});break;case le.UPDATE:a(n);break;case"MOUSE_LOCATION":r=n.payload,o=r.socketID,s=r.pointerCoords,l=r.button,c=r.username,u=r.selectedElementIds,i.setState((function(e){e.collaborators.has(o)||e.collaborators.set(o,{});var t=e.collaborators.get(o);return t.pointer=s,t.button=l,t.selectedElementIds=u,t.username=c,e.collaborators.set(o,t),e}))}return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()),i.portal.socket.on("first-in-room",(function(){i.portal.socket&&i.portal.socket.off("first-in-room"),r()})),i.setState({isCollaborating:!0,isLoading:!!e.showLoadingState||i.state.isLoading}),l.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),this.broadcastMouseLocation=function(e){var t;if(null===(t=i.portal.socket)||void 0===t?void 0:t.id){var n={type:"MOUSE_LOCATION",payload:{socketID:i.portal.socket.id,pointerCoords:e.pointerCoords,button:e.button||"up",selectedElementIds:i.state.selectedElementIds,username:i.state.username}};return i.portal._broadcastSocketData(n,!0)}},this.broadcastScene=function(e,t){if(e===le.INIT&&!t)throw new Error("syncAll must be true when sending SCENE.INIT");var n=Ft.getElementsIncludingDeleted().filter((function(e){return e.isDeleted||!Tn(e)}));t||(n=n.filter((function(e){return!i.broadcastedElementVersions.has(e.id)||e.version>i.broadcastedElementVersions.get(e.id)})));var r={type:e,payload:{elements:n}};i.lastBroadcastedOrReceivedSceneVersion=Math.max(i.lastBroadcastedOrReceivedSceneVersion,Yr(Ft.getElementsIncludingDeleted()));for(var o=0,a=n;o<a.length;o++){var s=a[o];i.broadcastedElementVersions.set(s.id,s.version)}return i.portal._broadcastSocketData(r)},this.onSceneUpdated=function(){i.setState({})},this.updateCurrentCursorPosition=Kl((function(e){Jl=e.x-i.parentDOMLeft,$l=e.y-i.parentDOMTop})),this.onKeyDown=Kl((function(e){if(!(e[Er]&&e.shiftKey&&"C"===e.key||Gt(e.target)&&e.key!==br||Mr(e.key)&&(t=e.target,t instanceof HTMLElement&&"wysiwyg"===t.dataset.type||t instanceof HTMLBRElement||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement))){var t;if(e.key===xr&&i.setState({showShortcutsDialog:!0}),!e[Er]&&e.altKey&&e.keyCode===Ar&&i.toggleZenMode(),"KeyC"===e.code&&e.altKey&&e.shiftKey)return i.copyToClipboardAsPng(),void e.preventDefault();if(!i.actionManager.handleKeyDown(e)){var n,r,o=(n=e.key,(null===(r=ja.find((function(e,t){return e.key===n.toLowerCase()||n===(t+1).toString()})))||void 0===r?void 0:r.value)||"selection");if(Mr(e.key)){var a=e.shiftKey?5:1;Ft.replaceAllElements(Ft.getElementsIncludingDeleted().map((function(t){if(i.state.selectedElementIds[t.id]){var n={};return e.key===fr?n.x=t.x-a:e.key===mr?n.x=t.x+a:e.key===yr?n.y=t.y-a:e.key===gr&&(n.y=t.y+a),Pn(t,n)}return t}))),e.preventDefault()}else if(e.key===vr){var s=Ot(Ft.getElements(),i.state);if(1===s.length&&be(s[0]))i.state.editingLinearElement&&i.state.editingLinearElement.elementId===s[0].id||(Yl.resumeRecording(),i.setState({editingLinearElement:new lo(s[0])}));else if(1===s.length&&!be(s[0])){var l=s[0],c=l.x+l.width/2,u=l.y+l.height/2;return i.startTextEditing({x:c,y:u}),void e.preventDefault()}}else e.ctrlKey||e.altKey||e.metaKey||null!==i.state.draggingElement||(Na.includes(e.key.toLowerCase())?i.selectShapeTool(o):"q"===e.key&&i.toggleLock());e.key===Cr&&0===oc.pointers.size&&(Ql=!0,document.documentElement.style.cursor=Se)}}})),this.onKeyUp=Kl((function(e){e.key===Cr&&("selection"===i.state.elementType?Xt():(Jt(i.state.elementType),i.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Ql=!1)})),this.onGestureStart=Kl((function(e){e.preventDefault(),i.setState({selectedElementIds:{}}),oc.initialScale=i.state.zoom})),this.onGestureChange=Kl((function(e){e.preventDefault(),i.setState({zoom:Nt(oc.initialScale*e.scale)})})),this.onGestureEnd=Kl((function(e){e.preventDefault();var t=i.state.previousSelectedElementIds;i.setState({previousSelectedElementIds:{},selectedElementIds:t}),oc.initialScale=null})),this.setElements=function(e){Ft.replaceAllElements(e)},this.startTextEditing=function(e){var t=e.x,n=e.y,r=e.clientX,o=e.clientY,a=e.centerIfPossible,s=void 0===a||a,l=Lt(Ft.getElements(),i.state,t,n,i.state.zoom),c=l&&ve(l)?l:qn({x:t,y:n,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,text:"",fontSize:i.state.currentItemFontSize,fontFamily:i.state.currentItemFontFamily,textAlign:i.state.currentItemTextAlign});i.setState({editingElement:c});var u=r||t,d=o||n,p=!1;if(l&&ve(l)){p=!0;var h=l.x+l.width/2,f=l.y+l.height/2,m=tn({sceneX:h,sceneY:f},i.state,i.canvas,window.devicePixelRatio);u=m.x,d=m.y,xn(c,{x:h,y:f})}else if(Ft.replaceAllElements(Hl(Ft.getElementsIncludingDeleted(),[c])),s){var g=i.getTextWysiwygSnappedToCenterPosition(t,n,i.state,i.canvas,window.devicePixelRatio);g&&(xn(c,{x:g.elementCenterX,y:g.elementCenterY}),u=g.wysiwygX,d=g.wysiwygY)}i.setState({editingElement:c}),i.handleTextWysiwyg(c,{x:u,y:d,isExistingElement:p})},this.handleCanvasDoubleClick=function(e){if(!i.state.multiElement){var t=Ot(Ft.getElements(),i.state);if(1===t.length&&be(t[0]))i.state.editingLinearElement&&i.state.editingLinearElement.elementId===t[0].id||(Yl.resumeRecording(),i.setState({editingLinearElement:new lo(t[0])}));else{Xt();var n=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),r=n.x,o=n.y;if(Ln(i.state).length>0){var a=Ft.getElements(),s=Lt(a,i.state,r,o,i.state.zoom),l=s&&function(e,t){return e.groupIds.find((function(e){return t[e]}))}(s,i.state.selectedGroupIds);if(l)return void i.setState((function(e){var t;return jn(Vl(Vl({},e),{},{editingGroupId:l,selectedElementIds:(t={},t[s.id]=!0,t),selectedGroupIds:{}}),Ft.getElements())}))}Xt(),i.startTextEditing({x:r,y:o,clientX:e.clientX,clientY:e.clientY,centerIfPossible:!e.altKey})}}},this.handleCanvasPointerMove=function(e){if(i.savePointer(e.clientX,e.clientY,i.state.cursorButton),oc.pointers.has(e.pointerId)&&oc.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===oc.pointers.size){var t=js(oc.pointers),n=t.x-oc.lastCenter.x,r=t.y-oc.lastCenter.y;oc.lastCenter=t;var o=Ns(Array.from(oc.pointers.values()))/oc.initialDistance;i.setState({scrollX:Mt(i.state.scrollX+n/i.state.zoom),scrollY:Mt(i.state.scrollY+r/i.state.zoom),zoom:Nt(oc.initialScale*o),shouldCacheIgnoreZoom:!0}),i.resetShouldCacheIgnoreZoomDebounced()}else oc.lastCenter=oc.initialDistance=oc.initialScale=null;if(!(Ql||ec||tc)){var a=Tt(nc,e.clientX,e.clientY),s=a.isOverHorizontalScrollBar,l=a.isOverVerticalScrollBar||s;i.state.draggingElement||i.state.multiElement||(l?Xt():Jt(i.state.elementType));var c=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),u=c.x,d=c.y;if(i.state.editingLinearElement&&null===i.state.editingLinearElement.draggingElementPointIndex){var p=lo.handlePointerMove(e,u,d,i.state.editingLinearElement);p!==i.state.editingLinearElement&&i.setState({editingLinearElement:p})}if(i.state.multiElement){var h=i.state.multiElement,f=h.x,m=h.y,g=h.points,y=h.lastCommittedPoint,v=g[g.length-1];return Jt(i.state.elementType),void(v===y?Fe(u-f,d-m,v[0],v[1])>=10?xn(h,{points:Hl(g,[[u-f,d-m]])}):document.documentElement.style.cursor=Ce:g.length>2&&y&&Fe(u-f,d-m,y[0],y[1])<10?(document.documentElement.style.cursor=Ce,xn(h,{points:g.slice(0,-1)})):(Be(g)&&(document.documentElement.style.cursor=Ce),xn(h,{points:Hl(g.slice(0,-1),[[u-f,d-m]])})))}if(!(Boolean(e.buttons)||"selection"!==i.state.elementType&&"text"!==i.state.elementType)){var b=Ft.getElements(),k=Ot(b,i.state);if(1!==k.length||l||i.state.editingLinearElement){if(k.length>1&&!l){var w=ur(Xe(k),u,d,i.state.zoom,e.pointerType);if(w)return void(document.documentElement.style.cursor=pr({resizeHandle:w}))}}else{var E=cr(b,i.state,u,d,i.state.zoom,e.pointerType);if(E&&E.resizeHandle)return void(document.documentElement.style.cursor=pr(E))}var S=Lt(b,i.state,u,d,i.state.zoom);"text"===i.state.elementType?document.documentElement.style.cursor=ve(S)?we:Ee:document.documentElement.style.cursor=S&&!l?"move":""}}},this.handleCanvasPointerDown=function(e){if(e.persist(),null!==rc&&rc(e),!ec){if(i.setState({lastPointerDownWith:e.pointerType,cursorButton:"down"}),i.savePointer(e.clientX,e.clientY,"down"),0===oc.pointers.size&&(e.button===Pe||e.button===xe&&Ql)){ec=!0;var t=!1,n=/Linux/.test(window.navigator.platform);document.documentElement.style.cursor=Se;var r=e.clientX,o=e.clientY,a=Kl((function(e){var a=r-e.clientX,s=o-e.clientY;if(r=e.clientX,o=e.clientY,n&&!t&&(Math.abs(a)>1||Math.abs(s)>1)){t=!0;var l=function(e){document.body.removeEventListener(ce.PASTE,l),e.stopPropagation()},c=function(){setTimeout((function(){document.body.removeEventListener(ce.PASTE,l),window.removeEventListener(ce.POINTER_UP,c)}),100)};document.body.addEventListener(ce.PASTE,l),window.addEventListener(ce.POINTER_UP,c)}i.setState({scrollX:Mt(i.state.scrollX-a/i.state.zoom),scrollY:Mt(i.state.scrollY-s/i.state.zoom)})})),s=Kl(rc=function(){rc=null,ec=!1,Ql||Jt(i.state.elementType),i.setState({cursorButton:"up"}),i.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(ce.POINTER_MOVE,a),window.removeEventListener(ce.POINTER_UP,s),window.removeEventListener(ce.BLUR,s)});return window.addEventListener(ce.BLUR,s),window.addEventListener(ce.POINTER_MOVE,a,{passive:!0}),void window.addEventListener(ce.POINTER_UP,s)}if(!(e.button!==xe&&e.button!==Te||(oc.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===oc.pointers.size&&(oc.lastCenter=js(oc.pointers),oc.initialScale=i.state.zoom,oc.initialDistance=Ns(Array.from(oc.pointers.values()))),e.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),oc.pointers.size>1))){var l=Tt(nc,e.clientX,e.clientY),c=l.isOverHorizontalScrollBar,u=l.isOverVerticalScrollBar,d=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),p=d.x,h=d.y,f=p,m=h;if((c||u)&&!i.state.multiElement){tc=!0,f=e.clientX,m=e.clientY;var g=Kl((function(e){if(e.target instanceof HTMLElement){if(c){var t=e.clientX,n=t-f;return i.setState({scrollX:Mt(i.state.scrollX-n/i.state.zoom)}),void(f=t)}if(u){var r=e.clientY,o=r-m;i.setState({scrollY:Mt(i.state.scrollY-o/i.state.zoom)}),m=r}}})),y=Kl((function(){tc=!1,Jt(i.state.elementType),rc=null,i.setState({cursorButton:"up"}),i.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(ce.POINTER_MOVE,g),window.removeEventListener(ce.POINTER_UP,y)}));return rc=y,window.addEventListener(ce.POINTER_MOVE,g),void window.addEventListener(ce.POINTER_UP,y)}var v,b=p,k=h,w=!1,E=function(e){w=e},S=[0,0],C="origin",x=!1,P=!1,T=null,A=!1;if("selection"===i.state.elementType){var O=Ft.getElements(),M=Ot(O,i.state);if(1!==M.length||i.state.editingLinearElement)M.length>1&&(w=ur(Xe(M),p,h,i.state.zoom,e.pointerType))&&(document.documentElement.style.cursor=pr({resizeHandle:w}),x=!0);else{var z=cr(O,i.state,p,h,i.state.zoom,e.pointerType);z&&(i.setState({resizingElement:z?z.element:null}),w=z.resizeHandle,document.documentElement.style.cursor=pr(z),x=!0)}if(x&&(S=function(e,t,n,r){var o,a=1===t.length?Ue(t[0]):Xe(t),i=a[0],s=a[1],l=a[2],c=a[3],u=(i+l)/2,d=(s+c)/2,p=1===t.length?t[0].angle:0;switch(n=(o=je(n,r,u,d,-p))[0],r=o[1],e){case"n":return je(n-(i+l)/2,r-s,0,0,p);case"s":return je(n-(i+l)/2,r-c,0,0,p);case"w":return je(n-i,r-(s+c)/2,0,0,p);case"e":return je(n-l,r-(s+c)/2,0,0,p);case"nw":return je(n-i,r-s,0,0,p);case"ne":return je(n-l,r-s,0,0,p);case"sw":return je(n-i,r-c,0,0,p);case"se":return je(n-l,r-c,0,0,p);default:return[0,0]}}(w,M,p,h),1===M.length&&be(M[0])&&2===M[0].points.length&&(C=function(e,t){var n=t.points[1],r=n[0],o=n[1];return"nw"===e&&(r<0||o<0)||"ne"===e&&r>=0||"sw"===e&&r<=0||"se"===e&&(r>0||o>0)?"end":"origin"}(w,M[0]))),!x){if(i.state.editingLinearElement){var _=lo.handlePointerDown(e,i.state,(function(e){return i.setState(e)}),Yl,p,h);if(_.hitElement&&(T=_.hitElement),_.didAddPoint)return}if(!((T=T||Lt(O,i.state,p,h,i.state.zoom))&&i.state.selectedElementIds[T.id]||e.shiftKey)){i.setState((function(e){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:e.editingGroupId&&T&&Nn(T,e.editingGroupId)?e.editingGroupId:null}}));var I=i.state.selectedElementIds;i.setState({selectedElementIds:{},previousSelectedElementIds:I})}if(T&&!i.state.selectedElementIds[T.id]){if(i.state.editingGroupId&&!Nn(T,i.state.editingGroupId))return void i.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});i.setState((function(e){var t;return jn(Vl(Vl({},e),{},{selectedElementIds:Vl(Vl({},e.selectedElementIds),{},(t={},t[T.id]=!0,t))}),Ft.getElements())})),Ft.replaceAllElements(Ft.getElementsIncludingDeleted()),A=!0}var D=i.state.selectedElementIds;i.setState({previousSelectedElementIds:D})}}else i.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});if("text"===i.state.elementType){var L;if("text"===(null===(L=i.state.editingElement)||void 0===L?void 0:L.type))return;var j=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),N=j.x,F=j.y;return i.startTextEditing({x:N,y:F,clientX:e.clientX,clientY:e.clientY,centerIfPossible:!e.altKey}),Xt(),void(i.state.elementLocked||i.setState({elementType:"selection"}))}if("arrow"===i.state.elementType||"draw"===i.state.elementType||"line"===i.state.elementType)if(i.state.multiElement){var B=i.state.multiElement;if("line"===B.type&&Be(B.points))return xn(B,{lastCommittedPoint:B.points[B.points.length-1]}),void i.actionManager.executeAction(gs);var R=B.x,H=B.y,W=B.lastCommittedPoint;if(B.points.length>1&&W&&Fe(p-R,h-H,W[0],W[1])<10)return void i.actionManager.executeAction(gs);i.setState((function(e){var t;return{selectedElementIds:Vl(Vl({},e.selectedElementIds),{},(t={},t[B.id]=!0,t))}})),xn(B,{lastCommittedPoint:B.points[B.points.length-1]}),document.documentElement.style.cursor=Ce}else{var G=(v={type:i.state.elementType,x:p,y:h,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity},Hn(Hn({},Un(v.type,v)),{},{points:[],lastCommittedPoint:v.lastCommittedPoint||null}));i.setState((function(e){var t;return{selectedElementIds:Vl(Vl({},e.selectedElementIds),{},(t={},t[G.id]=!1,t))}})),xn(G,{points:Hl(G.points,[[0,0]])}),Ft.replaceAllElements(Hl(Ft.getElementsIncludingDeleted(),[G])),i.setState({draggingElement:G,editingElement:G})}else{var U=Vn({type:i.state.elementType,x:p,y:h,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity});"selection"===U.type?i.setState({selectionElement:U,draggingElement:U}):(Ft.replaceAllElements(Hl(Ft.getElementsIncludingDeleted(),[U])),i.setState({multiElement:null,draggingElement:U,editingElement:U}))}var V=!1,q=Kl((function(e){var t,n;if(e.target instanceof HTMLElement){if(c){var r=e.clientX,o=r-f;return i.setState({scrollX:Mt(i.state.scrollX-o/i.state.zoom)}),void(f=r)}if(u){var a=e.clientY,s=a-m;return i.setState({scrollY:Mt(i.state.scrollY-s/i.state.zoom)}),void(m=a)}var l=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),d=l.x,p=l.y;if(P||"arrow"!==i.state.elementType&&"line"!==i.state.elementType||!(Fe(d,p,b,k)<10)){if(x){var h=Ot(Ft.getElements(),i.state);if(i.setState({isResizing:w&&"rotation"!==w,isRotating:"rotation"===w}),function(e,t,n,r,o,a,i){if(1===n.length){var s=n[0];return"rotation"===e?Nr(s,a,i,o.shiftKey):!be(s)||2!==s.points.length||"nw"!==e&&"ne"!==e&&"sw"!==e&&"se"!==e?"text"!==s.type||"nw"!==e&&"ne"!==e&&"sw"!==e&&"se"!==e?e&&(Wr(s,e,_r(o),zr(o),a,i),t(function(e,t){if(e.width>=0&&e.height>=0)return t;if(e.width<0&&e.height<0)switch(t){case"nw":return"se";case"ne":return"sw";case"se":return"nw";case"sw":return"ne"}else if(e.width<0)switch(t){case"nw":return"ne";case"ne":return"nw";case"se":return"sw";case"sw":return"se";case"e":return"w";case"w":return"e"}else switch(t){case"nw":return"sw";case"ne":return"se";case"se":return"ne";case"sw":return"nw";case"n":return"s";case"s":return"n"}return t}(s,e)),s.width<0&&xn(s,{width:-s.width}),s.height<0&&xn(s,{height:-s.height})):Hr(s,e,zr(o),a,i):Fr(s,r,o.shiftKey,a,i),document.documentElement.style.cursor=pr({element:s,resizeHandle:e}),!0}return n.length>1&&("nw"===e||"ne"===e||"sw"===e||"se"===e)&&(Gr(n,e,a,i),!0)}(w,E,h,C,e,d-S[0],p-S[1]))return}if(i.state.editingLinearElement)if(lo.handlePointDragging(i.state,(function(e){return i.setState(e)}),d,p,f,m))return f=d,void(m=p);if(T&&i.state.selectedElementIds[T.id])if(P=!0,(h=Ot(Ft.getElements(),i.state)).length>0){var g=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),y=g.x,v=g.y;if(h.forEach((function(e){xn(e,{x:e.x+y-f,y:e.y+v-m})})),f=y,m=v,e.altKey&&!V){V=!0;for(var O=[],M=[],z=new Map,_=0,I=Ft.getElementsIncludingDeleted();_<I.length;_++){var D=I[_];if(i.state.selectedElementIds[D.id]||D.id===T.id&&A){var L=Yn(i.state.editingGroupId,z,D);xn(L,{x:L.x+(b-f),y:L.y+(k-m)}),O.push(L),M.push(D)}else O.push(D)}Ft.replaceAllElements(Hl(O,M))}return}var j=i.state.draggingElement;if(j){var N=Zt(b,d),F=Zt(k,p);if(be(j)){P=!0;var B=j.points;o=d-j.x,s=p-j.y;e.shiftKey&&2===B.length&&(o=(t=An(i.state.elementType,o,s)).width,s=t.height),1===B.length?xn(j,{points:Hl(B,[[o,s]])}):B.length>1&&("draw"===j.type?xn(j,{points:ae(Hl(B,[[o,s]]),.7)}):xn(j,{points:Hl(B.slice(0,-1),[[o,s]])}))}else{_r(e)&&(N=(n=An(i.state.elementType,N,p<k?-F:F)).width,(F=n.height)<0&&(F=-F));var R=d<b?b-N:b,H=p<k?k-F:k;zr(e)&&(R=b-(N+=N)/2,H=k-(F+=F)/2),xn(j,{x:R,y:H,width:N,height:F})}if("selection"===i.state.elementType){var W=Ft.getElements();!e.shiftKey&&At(W,i.state)&&i.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var G=function(e,t){var n=Ue(t),r=n[0],o=n[1],a=n[2],i=n[3];return e.filter((function(e){var t=Ze(e),n=t[0],s=t[1],l=t[2],c=t[3];return"selection"!==e.type&&r<=n&&o<=s&&a>=l&&i>=c}))}(W,j);i.setState((function(e){return jn(Vl(Vl({},e),{},{selectedElementIds:Vl(Vl({},e.selectedElementIds),G.reduce((function(e,t){return e[t.id]=!0,e}),{}))}),Ft.getElements())}))}}}}})),K=Kl((function(e){var t=i.state,n=t.draggingElement,r=t.resizingElement,o=t.multiElement,a=t.elementType,s=t.elementLocked;if(i.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:o?i.state.editingElement:null}),i.savePointer(e.clientX,e.clientY,"up"),i.state.editingLinearElement){var l=lo.handlePointerUp(i.state.editingLinearElement);l!==i.state.editingLinearElement&&i.setState({editingLinearElement:l})}if(rc=null,window.removeEventListener(ce.POINTER_MOVE,q),window.removeEventListener(ce.POINTER_UP,K),"draw"!==(null==n?void 0:n.type))if(be(n))if(n.points.length>1&&Yl.resumeRecording(),P||!n||o)P&&!o&&(s?i.setState((function(e){var t;return{draggingElement:null,selectedElementIds:Vl(Vl({},e.selectedElementIds),{},(t={},t[i.state.draggingElement.id]=!0,t))}})):(Xt(),i.setState((function(e){var t;return{draggingElement:null,elementType:"selection",selectedElementIds:Vl(Vl({},e.selectedElementIds),{},(t={},t[i.state.draggingElement.id]=!0,t))}}))));else{var c=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),u=c.x,d=c.y;xn(n,{points:Hl(n.points,[[u-n.x,d-n.y]])}),i.setState({multiElement:n,editingElement:i.state.draggingElement})}else{if("selection"!==a&&n&&Tn(n))return Ft.replaceAllElements(Ft.getElementsIncludingDeleted().slice(0,-1)),void i.setState({draggingElement:null});n&&xn(n,On(n)),r&&Yl.resumeRecording(),r&&Tn(r)&&Ft.replaceAllElements(Ft.getElementsIncludingDeleted().filter((function(e){return e.id!==r.id}))),0!==Ln(i.state).length||!T||P||A||(e.shiftKey?i.setState((function(e){var t;return{selectedElementIds:Vl(Vl({},e.selectedElementIds),{},(t={},t[T.id]=!1,t))}})):i.setState((function(e){var t;return{selectedElementIds:(t={},t[T.id]=!0,t)}}))),null!==n?(s||i.setState((function(e){var t;return{selectedElementIds:Vl(Vl({},e.selectedElementIds),{},(t={},t[n.id]=!0,t))}})),("selection"!==a||At(Ft.getElements(),i.state))&&Yl.resumeRecording(),s?i.setState({draggingElement:null}):(Xt(),i.setState({draggingElement:null,elementType:"selection"}))):i.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else i.actionManager.executeAction(gs)}));rc=K,window.addEventListener(ce.POINTER_MOVE,q),window.addEventListener(ce.POINTER_UP,K)}}},this.handleCanvasRef=function(e){var t,n,r;null!==e?(i.canvas=e,i.rc=me(i.canvas),i.canvas.addEventListener(ce.WHEEL,i.handleWheel,{passive:!1}),i.canvas.addEventListener(ce.TOUCH_START,i.onTapStart),i.canvas.addEventListener(ce.TOUCH_END,i.onTapEnd)):(null===(t=i.canvas)||void 0===t||t.removeEventListener(ce.WHEEL,i.handleWheel),null===(n=i.canvas)||void 0===n||n.removeEventListener(ce.TOUCH_START,i.onTapStart),null===(r=i.canvas)||void 0===r||r.removeEventListener(ce.TOUCH_END,i.onTapEnd))},this.handleCanvasOnDrop=function(e){var t,n=null===(t=e.dataTransfer)||void 0===t?void 0:t.files[0];"application/json"===(null==n?void 0:n.type)||(null==n?void 0:n.name.endsWith(".excalidraw"))?(i.setState({isLoading:!0}),sa(n).then((function(e){var t=e.elements,n=e.appState;return i.syncActionResult({elements:t,appState:Vl(Vl({},n||i.state),{},{isLoading:!1}),commitToHistory:!1})})).catch((function(e){i.setState({isLoading:!1,errorMessage:e.message})}))):i.setState({isLoading:!1,errorMessage:xt("alerts.couldNotLoadInvalidFile")})},this.handleCanvasContextMenu=function(e){var t;e.preventDefault();var n=en(e,i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop}),r=n.x,o=n.y,a=Ft.getElements(),s=Lt(a,i.state,r,o,i.state.zoom);s?(i.state.selectedElementIds[s.id]||i.setState({selectedElementIds:(t={},t[s.id]=!0,t)}),Xa({options:Hl([navigator.clipboard&&{label:xt("labels.copy"),action:i.copyAll},navigator.clipboard&&{label:xt("labels.paste"),action:function(){return i.pasteFromClipboard(null)}},Wo&&{label:xt("labels.copyAsPng"),action:i.copyToClipboardAsPng},Ho&&{label:xt("labels.copyAsSvg"),action:i.copyToClipboardAsSvg}],i.actionManager.getContextMenuItems((function(e){return!De.includes(e.name)}))),top:e.clientY,left:e.clientX})):Xa({options:Hl([navigator.clipboard&&{label:xt("labels.paste"),action:function(){return i.pasteFromClipboard(null)}},Wo&&a.length>0&&{label:xt("labels.copyAsPng"),action:i.copyToClipboardAsPng},Ho&&a.length>0&&{label:xt("labels.copyAsSvg"),action:i.copyToClipboardAsSvg}],i.actionManager.getContextMenuItems((function(e){return De.includes(e.name)}))),top:e.clientY,left:e.clientX})},this.handleWheel=Kl((function(e){e.preventDefault();var t=e.deltaX,n=e.deltaY,r=i.state,o=r.selectedElementIds,a=r.previousSelectedElementIds;if(e.metaKey||e.ctrlKey){var s=Math.sign(n),l=Math.abs(n);return l>10&&(l=10),l*=s,0!==Object.keys(a).length&&setTimeout((function(){i.setState({selectedElementIds:a,previousSelectedElementIds:{}})}),1e3),void i.setState((function(e){var t=e.zoom;return{zoom:Nt(t-l/100),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(o).length?o:a}}))}e.shiftKey?i.setState((function(e){var r=e.zoom,o=e.scrollX;return{scrollX:Mt(o-(n||t)/r)}})):i.setState((function(e){var r=e.zoom,o=e.scrollX,a=e.scrollY;return{scrollX:Mt(o-t/r),scrollY:Mt(a-n/r)}}))})),this.savePointer=function(e,t,n){if(e&&t){var r=en({clientX:e,clientY:t},i.state,i.canvas,window.devicePixelRatio,{deltaX:i.parentDOMLeft,deltaY:i.parentDOMTop});isNaN(r.x)||isNaN(r.y)||i.portal.socket&&oc.pointers.size<2&&i.broadcastMouseLocation({pointerCoords:r,button:n})}},this.resetShouldCacheIgnoreZoomDebounced=(e=function(){i.setState({shouldCacheIgnoreZoom:!1})},t=300,o=0,(a=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];r=n,clearTimeout(o),o=window.setTimeout((function(){return e.apply(void 0,n)}),t)}).flush=function(){clearTimeout(o),e.apply(void 0,r)},a)};"production"!==Ae&&"production"!==Oe||(window.h={},Object.defineProperties(window.h,{elements:{get:function(){return Ft.getElementsIncludingDeleted()},set:function(e){return Ft.replaceAllElements(e)}},history:{get:function(){return Yl}}}));var sc=ac;n(70),n(71),n(72),t.default=function(e){var t=e.width,n=e.height,a=e.onChange,i=e.onBlur,s=e.initialData,l=e.user,c=e.onUsernameChange,u=e.onResize,d=e.options;return Object(r.useEffect)((function(){var e=function(e){1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchMove",e)}}),[]),o.a.createElement(sc,{width:t,height:n,onChange:a,onBlur:i,initialData:s,user:l,onUsernameChange:c,onResize:u,options:d})}},function(e,t,n){var r=n(73),o=n(8),a=n(18),i=n(3)("socket.io-client");e.exports=t=l;var s=t.managers={};function l(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o=r(e),l=o.source,c=o.id,u=o.path,d=s[c]&&u in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(i("ignoring socket cache for %s",l),n=a(l,t)):(s[c]||(i("new io instance for %s",l),s[c]=a(l,t)),n=s[c]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}t.protocol=o.protocol,t.connect=l,t.Manager=n(18),t.Socket=n(24)},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function o(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}t.default=function(){var e,t=(e=function(e){var t,n,o,a,i,s,l;return void 0===e&&(e={}),r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),[4,window.chooseFileSystemEntries({accepts:[{description:e.description||"",mimeTypes:e.mimeTypes||["*/*"],extensions:e.extensions||[""]}],multiple:e.multiple||!1})];case 1:if(t=r.sent(),!e.multiple)return[3,6];n=[],o=0,a=t,r.label=2;case 2:return o<a.length?[4,(i=a[o]).getFile()]:[3,5];case 3:(s=r.sent()).handle=i,n.push(s),r.label=4;case 4:return o++,[3,2];case 5:return[2,n];case 6:return[4,t.getFile()];case 7:return[2,((l=r.sent()).handle=t,l)];case 8:throw r.sent();case 9:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};function a(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}t.default=function(){var e,t=(e=function(e){return void 0===e&&(e={}),r(this,(function(t){return[2,new Promise((function(t){var n=document.createElement("input");n.type="file";var r=o(e.mimeTypes?e.mimeTypes:[],[e.extensions?e.extensions.map((function(e){return"."+e})):[]]).join();n.multiple=e.multiple||!1,n.accept=r||"*/*",n.addEventListener("change",(function(){t(n.multiple?n.files:n.files[0])})),n.click()}))]}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},a=function(e){return this instanceof a?(this.v=e,this):new a(e)};function i(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}var l=function(){var e=s((function(e,t,n){var i,s,c,u,d,p,h,f,m,g;return void 0===n&&(n=[]),r(this,(function(r){switch(r.label){case 0:r.trys.push([0,11,12,17]),i=o(e),r.label=1;case 1:return[4,a(i.next())];case 2:return(s=r.sent()).done?[3,10]:(c=s.value).isFile?(d=(u=n).push,[4,c.getFile()]):[3,4];case 3:return d.apply(u,[r.sent()]),[3,8];case 4:return(p=c.isDirectory&&t)?(h=l,[4,c.getEntries()]):[3,7];case 5:return[4,h.apply(void 0,[r.sent(),t,n])];case 6:p=r.sent(),r.label=7;case 7:p,r.label=8;case 8:r.label=9;case 9:return[3,1];case 10:return[3,17];case 11:return f=r.sent(),m={error:f},[3,17];case 12:return r.trys.push([12,,15,16]),s&&!s.done&&(g=i.return)?[4,a(g.call(i))]:[3,14];case 13:r.sent(),r.label=14;case 14:return[3,16];case 15:if(m)throw m.error;return[7];case 16:return[7];case 17:return[2,n]}}))}));return function(t,n){return e.apply(this,arguments)}}();t.default=function(){var e=s((function(e){var t,n,o,a,i,s,c,u;return void 0===e&&(e={}),r(this,(function(r){switch(r.label){case 0:e.recursive=e.recursive||!1,e.multiple=e.multiple||!1,r.label=1;case 1:return r.trys.push([1,11,,12]),[4,window.chooseFileSystemEntries({type:"open-directory",multiple:e.multiple})];case 2:if(t=r.sent(),!e.multiple)return[3,8];n=[],o=0,a=t,r.label=3;case 3:return o<a.length?[4,a[o].getEntries()]:[3,7];case 4:return i=r.sent(),c=(s=n).push,[4,l(i,e.recursive)];case 5:c.apply(s,[r.sent()]),r.label=6;case 6:return o++,[3,3];case 7:return[2,n];case 8:return[4,t.getEntries()];case 9:return u=r.sent(),[4,l(u,e.recursive)];case 10:return[2,r.sent()];case 11:throw r.sent();case 12:return[2]}}))}));return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function o(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}t.default=function(){var e,t=(e=function(e){return void 0===e&&(e={}),r(this,(function(t){return[2,(e.recursive=e.recursive||!1,e.multiple=e.multiple||!1,new Promise((function(t){var n=document.createElement("input");n.type="file",n.webkitdirectory=!0,n.multiple=e.multiple,n.addEventListener("change",(function(){var r=Array.from(n.files);if(e.recursive||(r=r.filter((function(e){return 2===e.webkitRelativePath.split("/").length}))),e.multiple){var o=new Set,a=[];r.forEach((function(e){o.add(e.webkitRelativePath.split("/")[0])}));for(var i=function(e){a.push(r.filter((function(t){return t.webkitRelativePath.startsWith(e)})))},s=0,l=o;s<l.length;s++)i(l[s]);r=a}t(r)})),n.click()})))]}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function o(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}t.default=function(){var e,t=(e=function(e,t,n){var o,a;return void 0===t&&(t={}),void 0===n&&(n=null),r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),t.fileName=t.fileName||"Untitled",(o=n)?[3,2]:[4,window.chooseFileSystemEntries({type:"save-file",accepts:[{description:t.description||"",mimeTypes:[e.type],extensions:t.extensions||[""]}]})];case 1:o=r.sent(),r.label=2;case 2:return[4,(n=o).createWritable()];case 3:return[4,(a=r.sent()).write(e)];case 4:return r.sent(),[4,a.close()];case 5:return[2,(r.sent(),n)];case 6:throw r.sent();case 7:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function o(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}t.default=function(){var e,t=(e=function(e,t){var n;return void 0===t&&(t={}),r(this,(function(r){return(n=document.createElement("a")).download=t.fileName||"Untitled",n.href=URL.createObjectURL(e),n.addEventListener("click",(function(){setTimeout((function(){return URL.revokeObjectURL(n.href)}),3e4)})),n.click(),[2]}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()}])}));